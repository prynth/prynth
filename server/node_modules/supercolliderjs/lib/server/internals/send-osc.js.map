{"version":3,"sources":["../../../src/server/internals/send-osc.js"],"names":[],"mappings":";AACA,SAAQ,YAAY,QAAO,QAAQ,CAAC;AACpC,SAAQ,UAAU,QAAO,IAAI,CAAC;;AAG9B,eAAe,MAAM,OAAO,SAAS,YAAY,CAAC;;AAEhD,KAAG,CAAC,CAAC,EAAE;AACL,QAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;GACrB;;AAED,QAAM,QAAQ;AACZ,UAAM,IAAI,KAAK,CAAC,qBAAqB,CAAC;;;;AAAC,GAIxC;;;;;;;;;AAAA,AASD,WAAS,CAAC,MAAM,EAAE,OAAO,EAAE,UAAU,EAAE;AACrC,QAAI,IAAI,GAAG,UAAU,CAAC,SAAS,CAAC,IAAI,EAAE,KAAK,EAAE,AAAC,GAAG,IAAK;AACpD,aAAO,EAAC,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAAG,EAAC,CAAC;KACpC,CAAC,CAAC;AACH,QAAI,OAAO,GAAG,UAAU,CAAC,SAAS,CAAC,IAAI,EAAE,QAAQ,EAAE,AAAC,GAAG,IAAK;AAC1D,aAAO,EAAC,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,GAAG,EAAC,CAAC;KACvC,CAAC,CAAC;AACH,QAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;AAChC,WAAO,KAAK,CAAC,SAAS,CAAC,MAAM,EAAE,OAAO,EAAE,UAAU,CAAC,CAAC;GACrD;CACF","file":"send-osc.js","sourcesContent":["\nimport {EventEmitter} from 'events';\nimport {Observable} from 'rx';\n\n\nexport default class SendOSC extends EventEmitter {\n\n  msg(m) {\n    this.emit('msg', m);\n  }\n\n  bundle(/*b*/) {\n    throw new Error('Not yet implemented');\n    // not yet implemented\n    // this will need a time\n    // this.emit('bundle', b);\n  }\n\n  /**\n   * Subscribe to monitor messages and bundles sent.\n   *\n   * Events are: {type: msg|bundle: payload: Array}\n   *\n   * @returns {Rx.Disposable} - `thing.dispose();` to unsubscribe\n   */\n  subscribe(onNext, onError, onComplete) {\n    var msgs = Observable.fromEvent(this, 'msg', (msg) => {\n      return {type: 'msg', payload: msg};\n    });\n    var bundles = Observable.fromEvent(this, 'bundle', (msg) => {\n      return {type: 'bundle', payload: msg};\n    });\n    var combo = msgs.merge(bundles);\n    return combo.subscribe(onNext, onError, onComplete);\n  }\n}\n"]}