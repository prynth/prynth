<html><head><title>Randomness</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='./../prettify.js' type='text/javascript'></script>
<script src='./../lang-sc.js' type='text/javascript'></script>
<script type='text/javascript'>var helpRoot='./..';</script>
</head>
<ul id='menubar'></ul>
<body onload='fixTOC();prettyPrint()'>
<div class='contents'>
<div class='header'>
<div id='label'>SuperCollider GUIDES</div>
<div id='categories'><a href='./../Browse.html#Random'>Random</a></div>
<h1>Randomness</h1>
<div id='summary'>Randomness in SC</div>
</div>
<div class='subheader'>
<div id='related'>See also: <a href="./../Reference/randomSeed.html">Random Seed</a></div>
</div>
<div id='toc'>
<ul class='toc'><li class='toc1'><a href='#Create single random numbers'>Create single random numbers</a></li>
<ul class='toc'><li class='toc2'><a href='#Between zero and <number>'>Between zero and &lt;number&gt;</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Between -<number> and <number>'>Between -&lt;number&gt; and &lt;number&gt;</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Within a given range'>Within a given range</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Test them multiple times with a do loop'>Test them multiple times with a do loop</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Collect the results in an array'>Collect the results in an array</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Seeding'>Seeding</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Histograms'>Histograms</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#on Collections'>on Collections</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Arbitrary random distributions'>Arbitrary random distributions</a></li>
<ul class='toc'></ul></ul><li class='toc1'><a href='#Random decisions'>Random decisions</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#Generating Collections of random numbers'>Generating Collections of random numbers</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#Random choice from Collections'>Random choice from Collections</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#Randomize the order of a Collection'>Randomize the order of a Collection</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#Generate random numbers without duplicates'>Generate random numbers without duplicates</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#Randomly group a Collection'>Randomly group a Collection</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#Random signal generators, i.e. UGens'>Random signal generators, i.e. UGens</a></li>
<ul class='toc'><li class='toc2'><a href='#Random operators on signals'>Random operators on signals</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#UGens that generate random numbers once, or on trigger:'>UGens that generate random numbers once, or on trigger:</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Seeding'>Seeding</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#UGens that generate random numbers on demand'>UGens that generate random numbers on demand</a></li>
<ul class='toc'></ul></ul><li class='toc1'><a href='#Random Patterns'>Random Patterns</a></li>
<ul class='toc'></ul></ul></div>
<p>As in any computer program, there are no "truly random" number generators in SC. They are pseudo-random, meaning they use very complex, but deterministic algorithms to generate sequences of numbers that are long enough and complicated enough to seem "random" for human beings. (i.e. the patterns are too complex for us to detect.)
<p>If you start a random number generator algorithm with the same "seed" number several times, you get the same sequence of random numbers. (See example below, randomSeed)<h2><a class='anchor' name='Create single random numbers'>Create single random numbers</a></h2>
<h3><a class='anchor' name='Between zero and <number>'>Between zero and &lt;number&gt;</a></h3>
<pre class='code prettyprint lang-sc'>5.rand          // evenly distributed.

1.0.linrand     // probability decreases linearly from 0 to &lt;number&gt;.</pre>
<h3><a class='anchor' name='Between -<number> and <number>'>Between -&lt;number&gt; and &lt;number&gt;</a></h3>
<pre class='code prettyprint lang-sc'>5.0.rand2       // evenly distributed.

10.bilinrand    // probability is highest around 0,
                // decreases linearly toward +-&lt;number&gt;.

1.0.sum3rand    // quasi-gaussian, bell-shaped distribution.</pre>
<h3><a class='anchor' name='Within a given range'>Within a given range</a></h3>
<pre class='code prettyprint lang-sc'>rrand(24, 48)       // linear distribution in the given range.

exprand(0.01, 1)    // exponential distribution;
                    // both numbers must have the same sign.
                    // (Note that the distribution of numbers is not exactly an exponential distribution,
                    // since that would be unbounded: we might call it a logarithmic uniform distribution.)</pre>
<h3><a class='anchor' name='Test them multiple times with a do loop'>Test them multiple times with a do loop</a></h3>
<pre class='code prettyprint lang-sc'>20.do({ 5.rand.postln; });            // evenly distributed

20.do({ 1.0.linrand.postln; });        // probability decreases linearly from 0 to 1.0

20.do({ 5.0.rand2.postln; });        // even

20.do({ 10.bilinrand.postln; });        // probability is highest around 0,
                            // decreases linearly toward +-&lt;number&gt;.

20.do({ 1.0.sum3rand.postln; });    // quasi-gaussian, bell-shaped.</pre>
<h3><a class='anchor' name='Collect the results in an array'>Collect the results in an array</a></h3>
<pre class='code prettyprint lang-sc'>Array.fill(10, { 1000.linrand }).postln;

// or more compact:

{ 1.0.sum3rand }.dup(100)

// or:

({ 1.0.sum3rand } ! 100)</pre>
<h3><a class='anchor' name='Seeding'>Seeding</a></h3>

<p>You can seed a random generator in order to repeat the same sequence of random numbers:<pre class='code prettyprint lang-sc'>(
5.do({
    thisThread.randSeed = 4;
    Array.fill(10, { 1000.linrand}).postln;
});
)

// Just to check, no seeding:

(
5.do({ Array.fill(10, { 1000.linrand }).postln; });
)</pre>

<p>See also <a href="./../Reference/randomSeed.html">Random Seed</a>.<h3><a class='anchor' name='Histograms'>Histograms</a></h3>

<p>Demonstrate the various statistical distributions visually, with histograms:<pre class='code prettyprint lang-sc'>Array.fill(500, {  1.0.rand }).plot("Sequence of 500x 1.0.rand");

Array.fill(500, {  1.0.linrand }).plot("Sequence of 500x 1.0.linrand");

Array.fill(500, {  1.0.sum3rand }).plot("Sequence of 500x 1.0.sum3rand");</pre>

<p>Use a histogram to display how often each (integer) occurs in a collection of random numbers, :<pre class='code prettyprint lang-sc'>(
var randomNumbers, histogram, maxValue = 500, numVals = 10000, numBins = 500;

randomNumbers = Array.fill(numVals, { maxValue.rand; });
histogram = randomNumbers.histo(numBins, 0, maxValue);
histogram.plot("histogram for rand 0 - " ++ maxValue);
)</pre>

<p>A histogram for linrand:<pre class='code prettyprint lang-sc'>(
var randomNumbers, histogram, maxValue = 500.0, numVals = 10000, numBins = 500;

randomNumbers = Array.fill(numVals, { maxValue.linrand; });
histogram = randomNumbers.histo(numBins, 0, maxValue);
histogram.plot("histogram for linrand 0 - " ++ maxValue);
)</pre>

<p>A histogram for bilinrand:<pre class='code prettyprint lang-sc'>(
var randomNumbers, histogram, minValue = -250, maxValue = 250, numVals = 10000, numBins = 500;

randomNumbers = Array.fill(numVals, { maxValue.bilinrand; });
histogram = randomNumbers.histo(numBins, minValue, maxValue);
histogram.plot("histogram for bilinrand" + minValue + "to" + maxValue);
)</pre>

<p>A histogram for exprand:<pre class='code prettyprint lang-sc'>(
var randomNumbers, histogram, minValue = 5.0, maxValue = 500, numVals = 10000, numBins = 500;

randomNumbers = Array.fill(numVals, { exprand(minValue, maxValue); });
histogram = randomNumbers.histo(numBins, minValue, maxValue);
histogram.plot("histogram for exprand: " ++ minValue ++ " to " ++ maxValue);
)</pre>

<p>And for sum3rand (cheap quasi-gaussian):<pre class='code prettyprint lang-sc'>(
var randomNumbers, histogram, minValue = -250, maxValue = 250, numVals = 10000, numBins = 500;

randomNumbers = Array.fill(numVals, { maxValue.sum3rand; });
histogram = randomNumbers.histo(numBins, minValue, maxValue);
histogram.plot("histogram for sum3rand " ++ minValue ++ " to " ++ maxValue);
)</pre>
<h3><a class='anchor' name='on Collections'>on Collections</a></h3>

<p>All of the single-number methods also work for (Sequenceable)Collections, simply by applying the given random message to each element of the collection:<pre class='code prettyprint lang-sc'>[ 1.0, 10, 100.0, \aSymbol ].rand.postln;        // note: Symbols are left as they are.
List[ 10, -3.0, \aSymbol ].sum3rand.postln;</pre>
<h3><a class='anchor' name='Arbitrary random distributions'>Arbitrary random distributions</a></h3>

<p>An integral table can be used to create an arbitrary random distribution quite efficiently. The table building is expensive though. The more points there are in the random table, the more accurate the distribution.<pre class='code prettyprint lang-sc'>(
var randomNumbers, histogram, distribution, randomTable, randTableSize=200;
var minValue = -250, maxValue = 250, numVals = 10000, numBins = 500;

// create some random distribution with values between 0 and 1
distribution = Array.fill(randTableSize,
    { arg i; (i/ randTableSize * 35).sin.max(0) * (i / randTableSize) }
);

// render a randomTable
randomTable = distribution.asRandomTable;

// get random numbers, scale them

randomNumbers = Array.fill(numVals, { randomTable.tableRand * (maxValue - minValue) + minValue; });
histogram = randomNumbers.histo(numBins, minValue, maxValue);


histogram.plot("this is the histogram we got");
distribution.plot("this was the histogram we wanted");
)</pre>
<h2><a class='anchor' name='Random decisions'>Random decisions</a></h2>

<p><code class='code prettyprint lang-sc'>coin</code> simulates a coin toss and results in true or false. 1.0 is always true, 0.0 is always false, 0.5 is 50:50 chance.<pre class='code prettyprint lang-sc'>20.do({ 0.5.coin.postln });</pre>

<p>biased random decision can be simulated bygenerating a single value and check against a threshhold:<pre class='code prettyprint lang-sc'>20.do({ (1.0.linrand &gt; 0.5).postln });
20.do({ (exprand(0.05, 1.0) &gt; 0.5).postln });</pre>
<h2><a class='anchor' name='Generating Collections of random numbers'>Generating Collections of random numbers</a></h2>
<pre class='code prettyprint lang-sc'>        // size, minVal, maxVal
Array.rand(7, 0.0, 1.0).postln;

// is short for:

Array.fill(7, { rrand(0.0, 1.0) }).postln;</pre>

<p><pre class='code prettyprint lang-sc'>        // size, minVal, maxVal
List.linrand(7, 10.0, 15.0).postln;

// is short for:

List.fill(7, { 10 + 5.0.linrand }).postln;</pre>
<pre class='code prettyprint lang-sc'>Signal.exprand(10, 0.1, 1);

Signal.rand2(10, 1.0);</pre>
<h2><a class='anchor' name='Random choice from Collections'>Random choice from Collections</a></h2>

<p><code class='code prettyprint lang-sc'>choose</code> : equal chance for each element.<pre class='code prettyprint lang-sc'>10.do({ [ 1, 2, 3 ].choose.postln });</pre>

<p>Weighted choice:
<p><code class='code prettyprint lang-sc'>wchoose(weights)</code> : An array of weights sets the chance for each element.<pre class='code prettyprint lang-sc'>10.do({ [ 1, 2, 3 ].wchoose([0.1, 0.2, 0.7]).postln });</pre>
<h2><a class='anchor' name='Randomize the order of a Collection'>Randomize the order of a Collection</a></h2>
<pre class='code prettyprint lang-sc'>List[ 1, 2, 3, 4, 5 ].scramble.postln;</pre>
<h2><a class='anchor' name='Generate random numbers without duplicates'>Generate random numbers without duplicates</a></h2>
<pre class='code prettyprint lang-sc'>f = { |n=8, min=0, max=7| (min..max).scramble.keep(n) };
f.value(8, 0, 7)</pre>
<h2><a class='anchor' name='Randomly group a Collection'>Randomly group a Collection</a></h2>
<pre class='code prettyprint lang-sc'>curdle(probability)</pre>

<p>The probability argument sets the chance that two adjacent elements will be separated.<pre class='code prettyprint lang-sc'>[ 1, 2, 3, 4, 5, 6, 7, 8 ].curdle(0.2).postln;    // big groups

[ 1, 2, 3, 4, 5, 6, 7, 8 ].curdle(0.75).postln;    // small groups</pre>
<h2><a class='anchor' name='Random signal generators, i.e. UGens'>Random signal generators, i.e. UGens</a></h2>
<ul>
<li><a href="./../Classes/PinkNoise.html">PinkNoise</a><li><a href="./../Classes/WhiteNoise.html">WhiteNoise</a><li><a href="./../Classes/GrayNoise.html">GrayNoise</a><li><a href="./../Classes/BrownNoise.html">BrownNoise</a><li><a href="./../Classes/ClipNoise.html">ClipNoise</a><li><a href="./../Classes/LFNoise0.html">LFNoise0</a><li><a href="./../Classes/LFNoise1.html">LFNoise1</a><li><a href="./../Classes/LFNoise2.html">LFNoise2</a><li><a href="./../Classes/LFClipNoise.html">LFClipNoise</a><li><a href="./../Classes/LFDNoise0.html">LFDNoise0</a><li><a href="./../Classes/LFDNoise1.html">LFDNoise1</a><li><a href="./../Classes/LFDNoise3.html">LFDNoise3</a><li><a href="./../Classes/LFDClipNoise.html">LFDClipNoise</a><li><a href="./../Classes/Dust.html">Dust</a><li><a href="./../Classes/Dust2.html">Dust2</a><li><a href="./../Classes/Crackle.html">Crackle</a><li><a href="./../Classes/TWChoose.html">TWChoose</a></ul>

<p>Also see UGens&gt;Generators&gt;Stochastic in the <a href="./../Browse.html#UGens>Generators>Stochastic">Browse: UGens&gt;Generators&gt;Stochastic</a> page.<h3><a class='anchor' name='Random operators on signals'>Random operators on signals</a></h3>

<p>Unary or binary random method produce a random value for each frame (not implemented in some cases). This can be used to implement tendency masks.<pre class='code prettyprint lang-sc'>{ rrand(SinOsc.ar(0.1), SinOsc.ar(0.42)) * 0.1 }.play
{ exprand(SinOsc.ar(0.1)) * 0.1 }.play
{ linrand(SinOsc.ar(0.1)) * 0.1 }.play
{ bilinrand(SinOsc.ar(0.1)) * 0.1 }.play
{ sum3rand(SinOsc.ar(0.1)) * 0.1 }.play
{ coin(SinOsc.ar(0.1)) * 0.1 }.play</pre>
<h3><a class='anchor' name='UGens that generate random numbers once, or on trigger:'>UGens that generate random numbers once, or on trigger:</a></h3>
<dl>
<dt><a href="./../Classes/Rand.html">Rand</a><dd>uniform distribution of float between (lo, hi), as for numbers.<dt><a href="./../Classes/IRand.html">IRand</a><dd>uniform distribution of integer numbers.<dt><a href="./../Classes/TRand.html">TRand</a><dd>uniform distribution of float numbers, triggered<dt><a href="./../Classes/TIRand.html">TIRand</a><dd>uniform distribution of integer numbers, triggered<dt><a href="./../Classes/LinRand.html">LinRand</a><dd>skewed distribution of float numbers, triggered<dt><a href="./../Classes/NRand.html">NRand</a><dd>sum of n uniform distributions, approximates gaussian distr. with higher n.<dt><a href="./../Classes/ExpRand.html">ExpRand</a><dd>exponential distribution<dt><a href="./../Classes/TExpRand.html">TExpRand</a><dd>exponential distribution, triggered<dt><a href="./../Classes/CoinGate.html">CoinGate</a><dd>statistical gate for a trigger<dt><a href="./../Classes/TWindex.html">TWindex</a><dd>triggered weighted choice between a list.</dl>
<h3><a class='anchor' name='Seeding'>Seeding</a></h3>

<p>Like using randSeed to set the random generatorsfor each thread in sclang, you can choose which of several random generators on the server to use, and you can reset (seed) these random generators:<ul>
<li><a href="./../Classes/RandID.html">RandID</a><li><a href="./../Classes/RandSeed.html">RandSeed</a></ul>
<h3><a class='anchor' name='UGens that generate random numbers on demand'>UGens that generate random numbers on demand</a></h3>

<p>("Demand UGens")<ul>
<li><a href="./../Classes/Dwhite.html">Dwhite</a><li><a href="./../Classes/Dbrown.html">Dbrown</a><li><a href="./../Classes/Diwhite.html">Diwhite</a><li><a href="./../Classes/Dibrown.html">Dibrown</a><li><a href="./../Classes/Drand.html">Drand</a><li><a href="./../Classes/Dxrand.html">Dxrand</a></ul>

<p>see random patterns with analogous names<h2><a class='anchor' name='Random Patterns'>Random Patterns</a></h2>
<dl>
<dt><a href="./../Classes/Prand.html">Prand</a><dd>choose randomly one from a list ( list, numRepeats)<dt><a href="./../Classes/Pxrand.html">Pxrand</a><dd>choose one element from a list, no repeat of previous choice<dt><a href="./../Classes/Pwhite.html">Pwhite</a><dd>within range [&lt;hi&gt;, &lt;lo&gt;], choose a random value.<dt><a href="./../Classes/Pbrown.html">Pbrown</a><dd>within range [&lt;hi&gt;, &lt;lo&gt;], do a random walk with a maximum &lt;step&gt; to the next value.<dt><a href="./../Classes/Pgbrown.html">Pgbrown</a><dd>geometric brownian motion<dt><a href="./../Classes/Plprand.html">Plprand</a><dt><a href="./../Classes/Phprand.html">Phprand</a><dt><a href="./../Classes/Pmeanrand.html">Pmeanrand</a><dt><a href="./../Classes/Pbeta.html">Pbeta</a><dt><a href="./../Classes/Pcauchy.html">Pcauchy</a><dt><a href="./../Classes/Pgauss.html">Pgauss</a><dt><a href="./../Classes/Ppoisson.html">Ppoisson</a><dt><a href="./../Classes/Pexprand.html">Pexprand</a><dt><a href="./../Classes/Pwrand.html">Pwrand</a><dd>choose from a list, probabilities by weights<pre class='code prettyprint lang-sc'>Pwrand([ 1, 2, 3 ], [0.1, 0.3, 0.6], 20);</pre>
<dt><a href="./../Classes/Pshuf.html">Pshuf</a><dd>scramble the list, then repeat that order &lt;repeats&gt; times.<dt><a href="./../Classes/Pwalk.html">Pwalk</a><dd><code class='code prettyprint lang-sc'>Pwalk( (0 .. 10), Prand([ -2,-1, 1, 2], inf));</code> random walk.<dt><a href="./../Classes/Pfsm.html">Pfsm</a><dd>random finite state machine pattern, see its help file. see also MarkovSet in MathLib quark<dt><a href="./../Classes/Pseed.html">Pseed</a><dd>sets the random seed for that stream.</dl>

<p>some basic examples<pre class='code prettyprint lang-sc'>(
Pbind(\note, Prand([ 0, 2, 4 ], inf),
    \dur, 0.2
).play;
)

(
Pbind(
    \note, Pxrand([ 0, 2, 4 ], inf),
    \dur, 0.2
).play;
)

(
Pbind(
    \note, Pwrand([ 0, 2, 4 ], [0.1, 0.3, 0.6], inf),
    \dur, 0.2
).play;
)

(
Pbind(
    \midinote, Pwhite(48, 72, inf),
    \dur, 0.2
).play;
)

(
Pbind(
    \midinote, Pbrown(48, 72, 5, inf),
    \dur, 0.2
).play;
)

(
Pbind(
    \midinote, Pgbrown(48, 72, 0.5, inf).round,
    \dur, 0.2
).play;
)</pre>
<div class='doclink'>source: <a href='file:///usr/local/share/SuperCollider/HelpSource/Guides/Randomness.schelp'>/usr/local/share/SuperCollider/HelpSource/Guides/Randomness.schelp</a><br>link::Guides/Randomness::<br>sc version: 3.8dev</div></div></body></html>