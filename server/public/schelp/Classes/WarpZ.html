<!doctype html><html lang='en'><head><title>WarpZ | SuperCollider 3.11.2 Help</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../codemirror.css' type='text/css' />
<link rel='stylesheet' href='./../editor.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../lib/jquery.min.js'></script>
<script src='./../lib/codemirror-5.39.2.min.js' type='text/javascript'></script>
<script src='./../lib/codemirror-addon-simple-5.39.2.min.js' type='text/javascript'></script>
<script>
var helpRoot = './..';
var scdoc_title = 'WarpZ';
var scdoc_sc_version = '3.11.2';
</script>
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='qrc:///qtwebchannel/qwebchannel.js' type='text/javascript'></script>
</head>
<body onload='fixTOC()'>
<div id='toc'>
<div id='toctitle'>WarpZ:</div>
<span class='toc_search'>Filter: <input id='toc_search'></span><ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*ar'>ar</a> </li>
<li class='toc2'><a href='#Inherited%20class%20methods'>Inherited class methods</a></li>
</ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-argNamesInputsOffset'>argNamesInputsOffset</a> </li>
<li class='toc3'><a href='#-init'>init</a> </li>
<li class='toc2'><a href='#Inherited%20instance%20methods'>Inherited instance methods</a></li>
</ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'></ul></ul></div><div id='menubar'></div>
<div class='contents'>
<div class='header'>
<div id='label'>
<span id='folder'>Classes (extension)</span>
 | <span id='categories'><a href='./../Browse.html#Libraries'>Libraries</a>&#8201;&gt;&#8201;<a href='./../Browse.html#Libraries>JoshUGens'>JoshUGens</a></span>
</div><h1>WarpZ<span id='superclasses'> : <a href="../Classes/MultiOutUGen.html">MultiOutUGen</a> : <a href="../Classes/UGen.html">UGen</a> : <a href="../Classes/AbstractFunction.html">AbstractFunction</a> : <a href="../Classes/Object.html">Object</a></span>
<div class='extension-indicator-ctr' title='This help file originates from a third-party quark or plugin for SuperCollider.'><img class='extension-indicator-icon' alt='Extension' src='./../images/plugin.png'><span class='extension-indicator-text'>Extension</span></div></h1>
<div id='summary'>Warp a buffer with a time pointer</div>
</div>
<div class='subheader'>
<div id='filename'>Source: <a href='file:///usr/share/SuperCollider/Extensions/SC3plugins/JoshUGens/classes/WarpZ.sc' title='/usr/share/SuperCollider/Extensions/SC3plugins/JoshUGens/classes/WarpZ.sc'>WarpZ.sc</a></div></div>
<a class='anchor' name='kw_JoshUgens'>&nbsp;</a><h2><a class='anchor' name='description'>Description</a></h2>

<p>Inspired by Chad Kirby's SuperCollider2 Warp1 class, which was inspired by Richard Karpen's sndwarp for CSound. A granular time strecher and pitchshifter.<h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3 class='method-code'><span class='method-prefix'>WarpZ.</span><a class='method-name' name='*ar' href='./../Overviews/Methods.html#ar'>ar</a>(<span class='argstr'>numChannels: 1</span>, <span class='argstr'>bufnum: 0</span>, <span class='argstr'>pointer: 0</span>, <span class='argstr'>freqScale: 1</span>, <span class='argstr'>windowSize: 0.2</span>, <span class='argstr'>envbufnum: -1</span>, <span class='argstr'>overlaps: 8</span>, <span class='argstr'>windowRandRatio: 0.0</span>, <span class='argstr'>interp: 1</span>, <span class='argstr'>zeroSearch: 0</span>, <span class='argstr'>zeroStart: 0</span>, <span class='argstr'>mul: 1</span>, <span class='argstr'>add: 0</span>)</h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>numChannels<td class='argumentdesc'>
<p>The number of channels in the soundfile used in bufnum.<tr><td class='argumentname'>bufnum<td class='argumentdesc'>
<p>The buffer number of a mono soundfile.<tr><td class='argumentname'>pointer<td class='argumentdesc'>
<p>The position in the buffer. The value should be between 0 and 1, with 0 being the begining of the buffer, and 1 the end.<tr><td class='argumentname'>freqScale<td class='argumentdesc'>
<p>The amount of frequency shift. 1.0 is normal, 0.5 is one octave down, 2.0 is one octave up. Negative values play the soundfile backwards.<tr><td class='argumentname'>windowSize<td class='argumentdesc'>
<p>The size of each grain window.<tr><td class='argumentname'>envbufnum<td class='argumentdesc'>
<p>The buffer number containing a singal to use for the grain envelope. -1 uses a built-in Hanning envelope.<tr><td class='argumentname'>overlaps<td class='argumentdesc'>
<p>The number of overlaping windows.<tr><td class='argumentname'>windowRandRatio<td class='argumentdesc'>
<p>The amount of randomness to the windowing function. Must be between 0 (no randomness) to 1.0 (probably to random actually)<tr><td class='argumentname'>interp<td class='argumentdesc'>
<p>The interpolation method used for pitchshifting grains. 1 = no interpolation. 2 = linear. 4 = cubic interpolation (more computationally intensive).<tr><td class='argumentname'>zeroSearch<td class='argumentdesc'>
<p>If &gt; 0.0, the UGen will search through the buffer from the current 'pointer' looking for a zero crossing in the signal to start the grain with. The search is limitied to zeroSearch seconds (i.e., if zeroSearch is 0.01, the UGen will only try to find a zero crossing within 0.01 seconds of the pointer).<tr><td class='argumentname'>zeroStart<td class='argumentdesc'>
<p>If &gt; 0.0, an attempt will be made to scuedule the next grain according to a zero crossing in the current grain. This value limits the search to zeroStart as a percentage of the current grain's duration (i.e., if the current grain's duration is 0.2, and zeroStart is 0.1, the algorithm will attempt to find the closest zero crossing in the current grain +/- 0.02 seconds from when the next grain was originally scheduled according to windowSize / overlaps).<tr><td class='argumentname'>mul<td class='argumentdesc'>
<p>Scale.<tr><td class='argumentname'>add<td class='argumentdesc'>
<p>Offset.</table></div><h3><a class='anchor' name='Inherited%20class%20methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-argNamesInputsOffset' href='./../Overviews/Methods.html#argNamesInputsOffset'>argNamesInputsOffset</a></h3>
<div class='method'>
<p></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-init' href='./../Overviews/Methods.html#init'>init</a>(<span class='argstr'>argNumChannels</span> <span class='argstr'>... theInputs</span>)</h3>
<div class='method'></div><h3><a class='anchor' name='Inherited%20instance%20methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h2><a class='anchor' name='examples'>Examples</a></h2>
<textarea class='editor'>s.boot;

(
var winenv;
// a custom envelope - not a very good one, but you can hear the difference between this
// and the default
winenv = Env([0, 1, 0], [0.5, 0.5], [8, -8]);
b = Buffer.read(s, Platform.resourceDir +/+ "sounds/a11wlk01-44_1.aiff");
z = Buffer.sendCollection(s, winenv.discretize, 1);

SynthDef(\warp, {arg buffer = 0, envbuf = -1;
    var out, pointer, filelength, pitch, env, dir;
    // pointer - move from beginning to end of soundfile over 15 seconds
    pointer = Line.kr(0, 1, 15);
    // control pitch with MouseX
    pitch = MouseX.kr(0.5, 2);
    env = EnvGen.kr(Env([0.001, 1, 1, 0.001], [0.1, 14, 0.9], 'exp'), doneAction: 2);
    out = WarpZ.ar(1, buffer, pointer, pitch, 0.1, envbuf, 8, 0.1, 2, 0.01, 0.1);
    Out.ar(0, out * env);
}).add;

)

// use built-in env
x = Synth(\warp, [\buffer, b, \envbuf, -1])

// switch to the custom env
x.set(\envbuf, z)
x.set(\envbuf, -1);

x.free;

b.free;
z.free;</textarea>

<p><div class='doclink'>helpfile source: <a href='file:///usr/share/SuperCollider/Extensions/SC3plugins/JoshUGens/HelpSource/Classes/WarpZ.schelp'>/usr/share/SuperCollider/Extensions/SC3plugins/JoshUGens/HelpSource/Classes/WarpZ.schelp</a><br>link::Classes/WarpZ::<br></div></div><script src='./../editor.js' type='text/javascript'></script>
</body></html>