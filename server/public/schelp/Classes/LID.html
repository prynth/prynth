<!doctype html><html lang='en'><head><title>LID | SuperCollider 3.11.2 Help</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../codemirror.css' type='text/css' />
<link rel='stylesheet' href='./../editor.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../lib/jquery.min.js'></script>
<script src='./../lib/codemirror-5.39.2.min.js' type='text/javascript'></script>
<script src='./../lib/codemirror-addon-simple-5.39.2.min.js' type='text/javascript'></script>
<script>
var helpRoot = './..';
var scdoc_title = 'LID';
var scdoc_sc_version = '3.11.2';
</script>
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='qrc:///qtwebchannel/qwebchannel.js' type='text/javascript'></script>
</head>
<body onload='fixTOC()'>
<div id='toc'>
<div id='toctitle'>LID:</div>
<span class='toc_search'>Filter: <input id='toc_search'></span><ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'><li class='toc2'><a href='#First%20example:'>First example:</a></li>
<ul class='toc'></ul></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc2'><a href='#Finding%20devices'>Finding devices</a></li>
<ul class='toc'><li class='toc3'><a href='#*findAvailable'>findAvailable</a> </li>
<li class='toc3'><a href='#*deviceRoot'>deviceRoot</a> </li>
<li class='toc3'><a href='#*available'>available</a> </li>
<li class='toc3'><a href='#*postAvailable'>postAvailable</a> </li>
<li class='toc3'><a href='#*findBy'>findBy</a> </li>
</ul><li class='toc2'><a href='#Opening%20devices'>Opening devices</a></li>
<ul class='toc'><li class='toc3'><a href='#*open'>open</a> </li>
<li class='toc3'><a href='#*new'>new</a> </li>
<li class='toc3'><a href='#*openPath'>openPath</a> </li>
<li class='toc3'><a href='#*openAt'>openAt</a> </li>
<li class='toc3'><a href='#*openDevices'>openDevices</a> </li>
</ul><li class='toc2'><a href='#Adding%20functions%20to%20LID%20events'>Adding functions to LID events</a></li>
<ul class='toc'><li class='toc3'><a href='#*debug'>debug</a> </li>
<li class='toc3'><a href='#*action'>action</a> </li>
<li class='toc3'><a href='#*addRecvFunc'>addRecvFunc</a> </li>
<li class='toc3'><a href='#*removeRecvFunc'>removeRecvFunc</a> </li>
</ul><li class='toc2'><a href='#Managing%20the%20LID%20subsystem'>Managing the LID subsystem</a></li>
<ul class='toc'><li class='toc3'><a href='#*initializeLID'>initializeLID</a> </li>
<li class='toc3'><a href='#*running'>running</a> </li>
<li class='toc3'><a href='#*closeAll'>closeAll</a> </li>
</ul><li class='toc2'><a href='#Creating%20specs%20for%20devices'>Creating specs for devices</a></li>
<ul class='toc'><li class='toc3'><a href='#*register'>register</a> </li>
<li class='toc3'><a href='#*specs'>specs</a> </li>
<li class='toc3'><a href='#*mouseDeviceSpec'>mouseDeviceSpec</a> </li>
<li class='toc3'><a href='#*keyboardDeviceSpec'>keyboardDeviceSpec</a> </li>
</ul><li class='toc2'><a href='#Inherited%20class%20methods'>Inherited class methods</a></li>
</ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-close'>close</a> </li>
<li class='toc3'><a href='#-isOpen'>isOpen</a> </li>
<li class='toc2'><a href='#Posting%20human%20readable%20information%20about%20the%20device'>Posting human readable information about the device</a></li>
<ul class='toc'><li class='toc3'><a href='#-postInfo'>postInfo</a> </li>
<li class='toc3'><a href='#-postSlots'>postSlots</a> </li>
<li class='toc3'><a href='#-dumpCaps'>dumpCaps</a> </li>
<li class='toc3'><a href='#-makeGui'>makeGui</a> </li>
</ul><li class='toc2'><a href='#Accessing%20slots'>Accessing slots</a></li>
<ul class='toc'><li class='toc3'><a href='#-slot'>slot</a> </li>
<li class='toc3'><a href='#-at'>at</a> </li>
<li class='toc3'><a href='#-spec'>spec</a> </li>
</ul><li class='toc2'><a href='#Adding%20functionality%20to%20the%20device'>Adding functionality to the device</a></li>
<ul class='toc'><li class='toc3'><a href='#-debug'>debug</a> </li>
<li class='toc3'><a href='#-closeAction'>closeAction</a> </li>
<li class='toc3'><a href='#-action'>action</a> </li>
</ul><li class='toc2'><a href='#Properties%20of%20the%20device'>Properties of the device</a></li>
<ul class='toc'><li class='toc3'><a href='#-slots'>slots</a> </li>
<li class='toc3'><a href='#-path'>path</a> </li>
<li class='toc3'><a href='#-info'>info</a> </li>
<li class='toc3'><a href='#-vendor'>vendor</a> </li>
<li class='toc3'><a href='#-product'>product</a> </li>
<li class='toc3'><a href='#-caps'>caps</a> </li>
</ul><li class='toc2'><a href='#Grabbing%20devices'>Grabbing devices</a></li>
<ul class='toc'><li class='toc3'><a href='#-grab'>grab</a> </li>
<li class='toc3'><a href='#-ungrab'>ungrab</a> </li>
<li class='toc3'><a href='#-isGrabbed'>isGrabbed</a> </li>
</ul><li class='toc2'><a href='#Inherited%20instance%20methods'>Inherited instance methods</a></li>
</ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'><li class='toc2'><a href='#Finding%20and%20opening%20the%20device'>Finding and opening the device</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Event%20actions%20(raw%20events)'>Event actions (raw events)</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Event%20actions%20(raw%20slot%20events)'>Event actions (raw slot events)</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Event%20actions%20(symbolic%20slot%20events)'>Event actions (symbolic slot events)</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#LED's'>LED's</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Closing%20devices'>Closing devices</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Opening%20devices%20with%20alternative%20deviceRoot'>Opening devices with alternative deviceRoot</a></li>
<ul class='toc'></ul></ul></ul></div><div id='menubar'></div>
<div class='contents'>
<div class='header'>
<div id='label'>
<span id='folder'>Classes</span>
 | <span id='categories'><a href='./../Browse.html#Platform'>Platform</a>&#8201;&gt;&#8201;<a href='./../Browse.html#Platform>Linux'>Linux</a> | <a href='./../Browse.html#External Control'>External Control</a>&#8201;&gt;&#8201;<a href='./../Browse.html#External Control>HID'>HID</a></span>
</div><h1>LID<span id='superclasses'> : <a href="../Classes/Object.html">Object</a></span>
</h1>
<div id='summary'>Linux Input Device</div>
</div>
<div class='subheader'>
<div id='filename'>Source: <a href='file:///usr/share/SuperCollider/SCClassLibrary/Platform/linux/LID.sc' title='/usr/share/SuperCollider/SCClassLibrary/Platform/linux/LID.sc'>LID.sc</a></div><div id='related'>See also: <a href="./../Classes/HID.html">HID</a>, <a href="./../Classes/LIDInfo.html">LIDInfo</a>, <a href="./../Classes/LIDSlot.html">LIDSlot</a>, <a href="./../Classes/LIDGui.html">LIDGui</a></div>
</div>
<h2><a class='anchor' name='description'>Description</a></h2>

<p>This class provides a way to access devices in the Linux input layer, which supports many input devices (mouse, keyboard, joystick, gamepad, tablet) and busses (serial, PS/2, USB).<div class='note'><span class='notelabel'>NOTE:</span> For external HID devices it is recommended to use the <a href="./../Classes/HID.html">HID</a> interface, as described in <a href="./../Guides/Working_with_HID.html">Working with HID</a>, as it will ensure that your code is cross platform compatible. Only in cases where the raw HID interface does not provide access because the device needs a special driver (and this driver is provided in Linux kernel), or in case you want to access internal devices, you should use this class.</div>
<p>NOTE: if you have trouble opening a device, e.g. when you get the message <code>ERROR: LID: Could not open device</code>, please check the <a href="./../Guides/LID_permissions.html">LID permissions</a><h3><a class='anchor' name='First%20example:'>First example:</a></h3>
<textarea class='editor'>LID.findAvailable;
LID.postAvailable; // pick one that you want to open, and fill in the vendor and product id in the next line:
d = LID.open( 2, 10 ); // trackpoint

d.postInfo;
d.postSlots;

d.debug_( true ); // wiggle a little and see the data coming in

d.debug_( false );

// create a GUI:
d.makeGui;

// close the device (don't do this yet, if you want to excecute the further examples in this class)
d.close;</textarea>
<h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3><a class='anchor' name='Finding%20devices'>Finding devices</a></h3>

<p>An example of finding a device:<textarea class='editor'>LID.findAvailable;

LID.available;

LID.postAvailable;

// look for the one you want and find it:

LID.findBy( 2, 10 ) // by vendor and product</textarea>
<h3 class='method-code'><span class='method-prefix'>LID.</span><a class='method-name' name='*findAvailable' href='./../Overviews/Methods.html#findAvailable'>findAvailable</a>(<span class='argstr'>name</span>)</h3>
<div class='method'>
<p>queries the operating system which LID devices are attached to the system and can be accessed. When using LID this is the first method you need to execute, before you can access any device.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>name<td class='argumentdesc'>
<p>The basic path to look for, by default this is <code>"event"</code>. See also <code>deviceRoot</code>.</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>an IdentityDictionary of available devices</div></div><h3 class='method-code'><span class='method-prefix'>LID.</span><a class='method-name' name='*deviceRoot' href='./../Overviews/Methods.html#deviceRoot'>deviceRoot</a></h3>
<h3 class='method-code'><span class='method-prefix'>LID.</span><a class='method-name' name='*deviceRoot' href='./../Overviews/Methods.html#deviceRoot'>deviceRoot</a> = value</h3>
<div class='method'>
<p>This is the base path where to look for devices. By default this is: <code>"/dev/input"</code>. With <code>findAvailable</code> this is extended with the <code>name</code> that is passed in, which has as a default <code>"event"</code>. Hence, by default we look for devices that match the path: <code>"/dev/input/event*"</code>.
<p>See below for some <a href="#Opening%20devices%20with%20alternative%20deviceRoot">Opening devices with alternative deviceRoot</a></div><h3 class='method-code'><span class='method-prefix'>LID.</span><a class='method-name' name='*available' href='./../Overviews/Methods.html#available'>available</a></h3>
<div class='method'>
<p>A dictionary of available devices, or rather info about them in an instance of <a href="./../Classes/LIDInfo.html">LIDInfo</a>, populated by the method findAvailable<h4>Returns:</h4>
<div class='returnvalue'>
<p>an IdentityDictionary</div></div><h3 class='method-code'><span class='method-prefix'>LID.</span><a class='method-name' name='*postAvailable' href='./../Overviews/Methods.html#postAvailable'>postAvailable</a></h3>
<div class='method'>
<p>posts a human readable list of available LID devices and their properties (see also <a href="./../Classes/LIDInfo.html">LIDInfo</a>)</div><h3 class='method-code'><span class='method-prefix'>LID.</span><a class='method-name' name='*findBy' href='./../Overviews/Methods.html#findBy'>findBy</a>(<span class='argstr'>vendorID</span>, <span class='argstr'>productID</span>, <span class='argstr'>path</span>, <span class='argstr'>version</span>, <span class='argstr'>physical</span>, <span class='argstr'>unique</span>)</h3>
<div class='method'>
<p>Find devices in the available device dictionary by specifying one or more characteristics of the device<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>vendorID<td class='argumentdesc'>
<p>The vendor ID of the device, this is a number encoded by the device itself.<tr><td class='argumentname'>productID<td class='argumentdesc'>
<p>The product ID of the device, this is a number encoded by the device itself.<tr><td class='argumentname'>path<td class='argumentdesc'>
<p>The path of the device, this is a path defined by the operating system.<tr><td class='argumentname'>version<td class='argumentdesc'>
<p>The version of the device.<tr><td class='argumentname'>physical<td class='argumentdesc'>
<p>The physical location of the device, this is a path defined by the operating system.<tr><td class='argumentname'>unique<td class='argumentdesc'>
<p>A unique identifier for the device, defined by the operating system.</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>an IdentityDictionary of devices the match the search query, or nil if no arguments are given<textarea class='editor'>LID.findBy( 2 ); // by vendorID
LID.findBy( 2, 10 ) // by vendor and product
LID.findBy( productID: 10 );
LID.findBy( path: "/dev/input/event4" );
LID.findBy( version: 0 );
LID.findBy( physical: 'synaptics-pt/serio0/input0' )
LID.findBy( physical: "synaptics-pt/serio0/input0" ) // argument is converted to symbol for check
LID.findBy( unique: '' )
LID.findBy( unique: "" ) // argument is converted to symbol for check

// using all possible arguments:
LID.findBy( 2, 10, "/dev/input/event4", 0x0000, 'synaptics-pt/serio0/input0' )</textarea>
</div></div><h3><a class='anchor' name='Opening%20devices'>Opening devices</a></h3>
<h3 class='method-code'><span class='method-prefix'>LID.</span><a class='method-name' name='*open' href='./../Overviews/Methods.html#open'>open</a>(<span class='argstr'>vendorID</span>, <span class='argstr'>productID</span>, <span class='argstr'>path</span>, <span class='argstr'>version</span>, <span class='argstr'>physical</span>, <span class='argstr'>unique</span>)</h3>
<div class='method'>
<p>Open a device with a given vendorID and product ID. For arguments description see <a href="#*findBy">*findBy</a>. The method will call the method <code>findBy</code> and use the first available result as the device to open.<h4>Returns:</h4>
<div class='returnvalue'>
<p>The LID device - an instance of <code>LID</code>.</div></div><h3 class='method-code'><span class='method-prefix'>LID.</span><a class='method-name' name='*new' href='./../Overviews/Methods.html#new'>new</a>(<span class='argstr'>path</span>)</h3>
<div class='method'>
<p>Same as <code>LID.openPath</code>.</div><h3 class='method-code'><span class='method-prefix'>LID.</span><a class='method-name' name='*openPath' href='./../Overviews/Methods.html#openPath'>openPath</a>(<span class='argstr'>path</span>)</h3>
<div class='method'>
<p>Open a device using its path in the operating system.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>path<td class='argumentdesc'>
<p>The path in the operating system, e.g. <code>"/dev/input/event4"</code></table><h4>Returns:</h4>
<div class='returnvalue'>
<p>The LID device - an instance of <code>LID</code>.</div></div><h3 class='method-code'><span class='method-prefix'>LID.</span><a class='method-name' name='*openAt' href='./../Overviews/Methods.html#openAt'>openAt</a>(<span class='argstr'>index</span>)</h3>
<div class='method'>
<p>Open a device using its index in the dictionary of available devices<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>index<td class='argumentdesc'>
<p>The index into the dictionary of available devices</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>The LID device - an instance of <code>LID</code>.</div></div><h3 class='method-code'><span class='method-prefix'>LID.</span><a class='method-name' name='*openDevices' href='./../Overviews/Methods.html#openDevices'>openDevices</a></h3>
<div class='method'>
<p>A dictionary of the opened devices<h4>Returns:</h4>
<div class='returnvalue'>
<p>an IdentityDictionary</div></div><h3><a class='anchor' name='Adding%20functions%20to%20LID%20events'>Adding functions to LID events</a></h3>

<p>Whenever data comes in from an opened LID device, there are two types of actions fired. An action for the incoming element data and an action for the device, indicating that there has been a change in one of the elements. In most cases you will want to use the first action; only in cases where the order of parsing the element data is important, you may want to use the second type - e.g. when dealing with very accurately timed button press combinations.
<p>There are three levels where you can set actions:<ul>
<li>at the global level - called for any LID device, for any slot<li>at the device level - called for the specific device, for any slot<li>at the slot level - called for the specific element of the specific device</ul>
<h3 class='method-code'><span class='method-prefix'>LID.</span><a class='method-name' name='*debug' href='./../Overviews/Methods.html#debug'>debug</a></h3>
<h3 class='method-code'><span class='method-prefix'>LID.</span><a class='method-name' name='*debug' href='./../Overviews/Methods.html#debug'>debug</a> = <span class='argstr'>onoff: true</span></h3>
<div class='method'>
<p>When set to true, the incoming data from any opened LID device will be printed to the post window.</div><h3 class='method-code'><span class='method-prefix'>LID.</span><a class='method-name' name='*action' href='./../Overviews/Methods.html#action'>action</a></h3>
<h3 class='method-code'><span class='method-prefix'>LID.</span><a class='method-name' name='*action' href='./../Overviews/Methods.html#action'>action</a> = <span class='argstr'>function</span></h3>
<div class='method'>
<p>Set or get the action to be performed upon receiving element data from any device. The function will be passed the following arguments: the value (mapped between 0 and 1), the raw value, element usage page, the element usage, the element id, the device id, the device (an instance of LID).<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>function<td class='argumentdesc'>
<p>The function to be performed upon receiving element data from the device</table></div><h3 class='method-code'><span class='method-prefix'>LID.</span><a class='method-name' name='*addRecvFunc' href='./../Overviews/Methods.html#addRecvFunc'>addRecvFunc</a>(<span class='argstr'>function</span>)</h3>
<div class='method'>
<p>add a function to the internal FunctionList that will be evaluated whenever element data comes in from an open device. The arguments passed to the function are as defined above. Use this method if you want to add actions to LID functions from classes you write, so that you still keep the option to add an action on the fly from user code.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>function<td class='argumentdesc'>
<p>The function to be added to the list.</table></div><h3 class='method-code'><span class='method-prefix'>LID.</span><a class='method-name' name='*removeRecvFunc' href='./../Overviews/Methods.html#removeRecvFunc'>removeRecvFunc</a>(<span class='argstr'>function</span>)</h3>
<div class='method'>
<p>remove a function to the internal FunctionList that will be evaluated whenever data comes in from a device.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>function<td class='argumentdesc'>
<p>The function to remove from the list, this must be a reference to the Function that was originally added to the list</table></div><h3><a class='anchor' name='Managing%20the%20LID%20subsystem'>Managing the LID subsystem</a></h3>

<p>The following methods are used internally to initialize and finalize the LID subsystem, but in rare cases you may wish to manage these methods manually.<h3 class='method-code'><span class='method-prefix'>LID.</span><a class='method-name' name='*initializeLID' href='./../Overviews/Methods.html#initializeLID'>initializeLID</a></h3>
<div class='method'>
<p>Initialize the LID subsystem, this method is called automatically when calling the method findAvailable.</div><h3 class='method-code'><span class='method-prefix'>LID.</span><a class='method-name' name='*running' href='./../Overviews/Methods.html#running'>running</a></h3>
<div class='method'>
<p>Indicates whether or not the LID subsystem is running.</div><h3 class='method-code'><span class='method-prefix'>LID.</span><a class='method-name' name='*closeAll' href='./../Overviews/Methods.html#closeAll'>closeAll</a></h3>
<div class='method'>
<p>This method is called automatically upon Shutdown, if the LID subsystem was initialized. It can be stopped manually, in order to save system resources. This method will close all opened LID devices.</div><h3><a class='anchor' name='Creating%20specs%20for%20devices'>Creating specs for devices</a></h3>

<p>Device specs are mappings between event codes and symbolic control names. New specs can be added to LID.specs via LID&gt;&gt;*register.<textarea class='editor'>// Add a mouse device spec for a Logitech trackball
LID.register('Logitech Trackball', LID.mouseDeviceSpec);

// Add a custom device spec for a Logitech gamepad
(
LID.register('Logitech WingMan RumblePad', (
    // key
    rumble: #[0x0001, 0x0102],    // rumble (toggles ff)
    mode: #[0x0001, 0x0103],    // mode (switches h and l)
    a: #[0x0001, 0x0120],        // button a
    b: #[0x0001, 0x0121],        // button b
    c: #[0x0001, 0x0122],        // button c
    x: #[0x0001, 0x0123],        // button x
    y: #[0x0001, 0x0124],        // button y
    z: #[0x0001, 0x0125],        // button z
    l: #[0x0001, 0x0126],        // left front button
    r: #[0x0001, 0x0127],        // right front button
    s: #[0x0001, 0x0128],        // button s
    // abs
    lx: #[0x0003, 0x0000],        // left joystick x
    ly: #[0x0003, 0x0001],        // left joystick y
    rx: #[0x0003, 0x0005],        // right joystick x
    ry: #[0x0003, 0x0006],        // right joystick y
    hx: #[0x0003, 0x0010],        // hat x
    hy: #[0x0003, 0x0011],        // hat y
    slider: #[0x0003, 0x0002]    // slider
));
)</textarea>
<h3 class='method-code'><span class='method-prefix'>LID.</span><a class='method-name' name='*register' href='./../Overviews/Methods.html#register'>register</a>(<span class='argstr'>name</span>, <span class='argstr'>spec</span>)</h3>
<div class='method'>
<p>This will register the spec for the specified device. If the device was opened and did not use the spec before, it will use this spec. See also <a href="./../Classes/LID.html#*specs">LID: *specs</a>.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>name<td class='argumentdesc'>
<p>The name of the device to register it for.<tr><td class='argumentname'>spec<td class='argumentdesc'>
<p>The spec to be added. This should be an IdentityDictionary.</table></div><h3 class='method-code'><span class='method-prefix'>LID.</span><a class='method-name' name='*specs' href='./../Overviews/Methods.html#specs'>specs</a></h3>
<div class='method'>
<p>This returns the specs that have been registered.</div><h3 class='method-code'><span class='method-prefix'>LID.</span><a class='method-name' name='*mouseDeviceSpec' href='./../Overviews/Methods.html#mouseDeviceSpec'>mouseDeviceSpec</a></h3>
<div class='method'>
<p>This returns a default spec for a mouse device; any mouse, trackball, trackpad or trackpoint should be able to use this spec.</div><h3 class='method-code'><span class='method-prefix'>LID.</span><a class='method-name' name='*keyboardDeviceSpec' href='./../Overviews/Methods.html#keyboardDeviceSpec'>keyboardDeviceSpec</a></h3>
<div class='method'>
<p>This returns a default spec for a keyboard device; any keyboard or numpad should be able to use this spec.</div><h3><a class='anchor' name='Inherited%20class%20methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-close' href='./../Overviews/Methods.html#close'>close</a></h3>
<div class='method'>
<p>Close the LID device, closing a device is asynchronous. You can set a closeAction (see below), which will be performed when the device closes.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-isOpen' href='./../Overviews/Methods.html#isOpen'>isOpen</a></h3>
<div class='method'>
<p>Returns true if the device is open, false if the device was closed.<textarea class='editor'>d.isOpen;
d.close;
d.isOpen;</textarea>
</div><h3><a class='anchor' name='Posting%20human%20readable%20information%20about%20the%20device'>Posting human readable information about the device</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-postInfo' href='./../Overviews/Methods.html#postInfo'>postInfo</a></h3>
<div class='method'>
<p>Post the LIDInfo of this device in a human readable format. See also <a href="./../Classes/LIDInfo.html">LIDInfo</a>.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-postSlots' href='./../Overviews/Methods.html#postSlots'>postSlots</a></h3>
<div class='method'>
<p>Post information about all the slots of this device in a human readable format</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-dumpCaps' href='./../Overviews/Methods.html#dumpCaps'>dumpCaps</a></h3>
<div class='method'>
<p>Post the list of available capabilities in a human readable format</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-makeGui' href='./../Overviews/Methods.html#makeGui'>makeGui</a></h3>
<div class='extmethod'>From extension in <a href='file:///usr/share/SuperCollider/SCClassLibrary/Platform/linux/GUI/LIDGui.sc'>/usr/share/SuperCollider/SCClassLibrary/Platform/linux/GUI/LIDGui.sc</a></div>
<div class='method'>
<p>Create a <a href="./../Classes/LIDGui.html">LIDGui</a> for the device.</div><h3><a class='anchor' name='Accessing%20slots'>Accessing slots</a></h3>

<p>Device capabilities are reported as event type and event code mappings. Event type and event code constants can be found in <code>/usr/include/linux/input.h</code><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-slot' href='./../Overviews/Methods.html#slot'>slot</a>(<span class='argstr'>evtType</span>, <span class='argstr'>evtCode</span>)</h3>
<div class='method'>
<p>Access a slot by its evtType and evtCode. See also <a href="./../Classes/LIDSlot.html">LIDSlot</a><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>evtType<td class='argumentdesc'>
<p>The eventType to access the slot.<tr><td class='argumentname'>evtCode<td class='argumentdesc'>
<p>The eventCode to access the slot.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-at' href='./../Overviews/Methods.html#at'>at</a>(<span class='argstr'>controlName</span>)</h3>
<div class='method'>
<p>If a <code>spec</code> is defined for this device, then you can use a controlName to look up a slot.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-spec' href='./../Overviews/Methods.html#spec'>spec</a>(<span class='argstr'>forceLookup: false</span>)</h3>
<div class='method'>
<p>The IdentityDictionary that maps labels for slots to slot indices.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>forceLookup<td class='argumentdesc'>
<p>If set to true, this will force the dictionary to be reinitialised with the registered spec for this device.</table></div><h3><a class='anchor' name='Adding%20functionality%20to%20the%20device'>Adding functionality to the device</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-debug' href='./../Overviews/Methods.html#debug'>debug</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-debug' href='./../Overviews/Methods.html#debug'>debug</a> = <span class='argstr'>onoff</span></h3>
<div class='method'>
<p>When set to true, the incoming data from this LID device will be printed to the post window.<textarea class='editor'>d.debug_( true );
d.debug_( false );</textarea>
</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-closeAction' href='./../Overviews/Methods.html#closeAction'>closeAction</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-closeAction' href='./../Overviews/Methods.html#closeAction'>closeAction</a> = value</h3>
<div class='method'>
<p>Function to be performed when device is closed.<textarea class='editor'>d.closeAction_( { "hey, I got closed!".postln; } );
d.close;</textarea>
</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-action' href='./../Overviews/Methods.html#action'>action</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-action' href='./../Overviews/Methods.html#action'>action</a> = value</h3>
<div class='method'>
<p>Set or get the action to be performed upon receiving data from the device. The function will be passed in the evtType, the evtCode, the value (mapped according to the slot's spec), and the raw value.<textarea class='editor'>d.action_( { arg ...args; ("my action" + args ).postln; } );
d.action_( nil );</textarea>
</div><h3><a class='anchor' name='Properties%20of%20the%20device'>Properties of the device</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-slots' href='./../Overviews/Methods.html#slots'>slots</a></h3>
<div class='method'>
<p>An IdentityDictionary holding all the slots, i.e. controls, of the device</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-path' href='./../Overviews/Methods.html#path'>path</a></h3>
<div class='method'>
<p>Retrieve the path of this device<textarea class='editor'>d.path;</textarea>
</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-info' href='./../Overviews/Methods.html#info'>info</a></h3>
<div class='method'>
<p>Retrieve the LIDInfo of this device<textarea class='editor'>d.info;</textarea>
</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-vendor' href='./../Overviews/Methods.html#vendor'>vendor</a></h3>
<div class='method'>
<p>Retrieve the vendor id of this device<textarea class='editor'>d.vendor;</textarea>
</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-product' href='./../Overviews/Methods.html#product'>product</a></h3>
<div class='method'>
<p>Retrieve the product id of this device<textarea class='editor'>d.product;</textarea>
</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-caps' href='./../Overviews/Methods.html#caps'>caps</a></h3>
<div class='method'>
<p>The list of available capabilities.</div><h3><a class='anchor' name='Grabbing%20devices'>Grabbing devices</a></h3>

<p>Given proper permissions, devices can be grabbed to prevent use in other applications (including X). Be careful when grabbing mouse or keyboard, as you will not be able to use them for normal interaction (like typing code or moving the mouse pointer) anymore!<textarea class='editor'>d[\b].action = { d.ungrab };
d.grab;

d.isGrabbed;</textarea>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-grab' href='./../Overviews/Methods.html#grab'>grab</a>(<span class='argstr'>flag: true</span>)</h3>
<div class='method'>
<p>Grab the device to use exclusively for SC.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-ungrab' href='./../Overviews/Methods.html#ungrab'>ungrab</a></h3>
<div class='method'>
<p>Release the device to use it no longer exclusively for SC.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-isGrabbed' href='./../Overviews/Methods.html#isGrabbed'>isGrabbed</a></h3>
<div class='method'>
<p>Check whether the device is grabbed.</div><h3><a class='anchor' name='Inherited%20instance%20methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h2><a class='anchor' name='examples'>Examples</a></h2>
<h3><a class='anchor' name='Finding%20and%20opening%20the%20device'>Finding and opening the device</a></h3>
<textarea class='editor'>LID.findAvailable;
LID.postAvailable; // pick one that you want to open, and fill in the vendor and product id in the next line:
d = LID.open( 2, 10 ); // trackpoint

d.postInfo;
d.postSlots;

d.debug_( true ); // wiggle a little and see the data coming in
d.debug_( false );</textarea>
<h3><a class='anchor' name='Event%20actions%20(raw%20events)'>Event actions (raw events)</a></h3>

<p>The device's 'action' instance variable can be used for event notifications. it is passed the event type, code and current value.<textarea class='editor'>(
d.action = { | evtType, evtCode, evtValue |
    [evtType.asHexString(4), evtCode.asHexString(4), evtValue].postln
}
)

d.action = nil;</textarea>

<p>If a device is detached LID will detect this, and close the device. It will execute a closeAction, which can be defined by the user:<textarea class='editor'>d.closeAction = { "device was detached".postln; };</textarea>
<h3><a class='anchor' name='Event%20actions%20(raw%20slot%20events)'>Event actions (raw slot events)</a></h3>

<p>When 'action' is nil, actions can be bound to specific events.<textarea class='editor'>(
d.slot(0x0002, 0x0001).action = { | slot |
    [slot.type.asHexString(4), slot.code.asHexString(4), slot.value].postln;
}
)</textarea>

<p>Relative slots can have deltaActions:<textarea class='editor'>(
d.slot(0x0002, 0x0001).deltaAction = { | slot |
    [slot.type.asHexString(4), slot.code.asHexString(4), slot.delta].postln;
}
)</textarea>
<h3><a class='anchor' name='Event%20actions%20(symbolic%20slot%20events)'>Event actions (symbolic slot events)</a></h3>

<p>When a device spec was registered for a given device name, slot actions can be assigned by using the symbolic control name.<textarea class='editor'>    d[\x].action = { | slot | [\x, slot.value].postln };</textarea>
<h3><a class='anchor' name='LED's'>LED's</a></h3>

<p>some devices have LEDs which can be turned on and off. These show up with d.caps as events of type 0x0011<textarea class='editor'>d = LID("/dev/input/event0");
// LED's can be turned on:
d.setLEDState( 0x0, 1 )
// (LED 0x0 should be available on any keyboard)
// and off:
d.setLEDState( 0x0, 0 )
d.close;

// setLEDState( evtCode, evtValue ): value should be 1 or 0</textarea>
<h3><a class='anchor' name='Closing%20devices'>Closing devices</a></h3>
<textarea class='editor'>d.close;
LID.closeAll;</textarea>
<h3><a class='anchor' name='Opening%20devices%20with%20alternative%20deviceRoot'>Opening devices with alternative deviceRoot</a></h3>

<p>Input devices are accessed through device nodes, typically <code>/dev/input/event[0-9]</code>. When using a userspace daemon like udev, meaningful names can be assigned to devices.
<p>raw device name:<textarea class='editor'>d = LID("/dev/input/event4");</textarea>

<p>symbolic device name<textarea class='editor'>d = LID("/dev/input/trackball");</textarea>

<p>device name relative to LID.deviceRoot<textarea class='editor'>d = LID("gamepad");</textarea>

<p>build a list of the available devices:<textarea class='editor'>LID.findAvailable;</textarea>

<p>buildDeviceList builds a table of the devices found in LID.deviceRoot+"/event", trying to open all that it finds, looking up its name and closing them again. The result is returned and can later be accessed by LID.deviceList. You can query another name than "/event" by passing an argument. (the search will be: LID.deviceRoot++"/"++name++"*")<textarea class='editor'>LID.findAvailable( "mouse" );</textarea>

<p><div class='note'><span class='notelabel'>NOTE:</span> this is likely to give the info that the devices could not be opened, as "mouse" uses another interface (you can of course access mice via the "event" interface)</div><div class='note'><span class='notelabel'>NOTE:</span> if you cannot open the devices at all, please look in the helpfile for: <a href="./../Guides/LID_permissions.html">LID permissions</a></div>
<p><div class='doclink'>helpfile source: <a href='file:///usr/share/SuperCollider/HelpSource/Classes/LID.schelp'>/usr/share/SuperCollider/HelpSource/Classes/LID.schelp</a><br>link::Classes/LID::<br></div></div><script src='./../editor.js' type='text/javascript'></script>
</body></html>