<html><head><title>SkipJack</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='./../prettify.js' type='text/javascript'></script>
<script src='./../lang-sc.js' type='text/javascript'></script>
<script type='text/javascript'>var helpRoot='./..';</script>
</head>
<ul id='menubar'></ul>
<body onload='fixTOC();prettyPrint()'>
<div class='contents'>
<div class='header'>
<div id='label'>SuperCollider CLASSES</div>
<div id='categories'><a href='./../Browse.html#Scheduling'>Scheduling</a>, <a href='./../Browse.html#Libraries>JITLib>GUI'>Libraries>JITLib>GUI</a></div>
<h1>SkipJack</h1>
<div id='summary'>A utility for background tasks that survive cmd-period</div>
</div>
<div class='subheader'>
<div id='filename'>Source: /usr/local/share/SuperCollider/SCClassLibrary/Common/Control/<a href='file:///usr/local/share/SuperCollider/SCClassLibrary/Common/Control/SkipJack.sc'>SkipJack.sc</a></div><div id='superclasses'>Inherits from: <a href="../Classes/Object.html">Object</a></div>
<div id='subclasses'>Subclasses: <a href="../Classes/Watcher.html">Watcher</a></div>
<div id='related'>See also: <a href="./../Classes/CmdPeriod.html">CmdPeriod</a></div>
</div>
<div id='toc'>
<ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*new'>new</a> </li>
<li class='toc3'><a href='#*stop'>stop</a> </li>
<li class='toc3'><a href='#*stopAll'>stopAll</a> </li>
<li class='toc3'><a href='#*defaultClock'>defaultClock</a> </li>
<li class='toc3'><a href='#*verbose'>verbose</a> </li>
<li class='toc3'><a href='#*all'>all</a> </li>
<li class='toc2'><a href='#Inherited class methods'>Inherited class methods</a></li>
</ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-dt'>dt</a> </li>
<li class='toc3'><a href='#-task'>task</a> </li>
<li class='toc3'><a href='#-name'>name</a> </li>
<li class='toc3'><a href='#-stopTest'>stopTest</a> </li>
<li class='toc3'><a href='#-start'>start</a> </li>
<li class='toc3'><a href='#-play'>play</a> </li>
<li class='toc3'><a href='#-stop'>stop</a> </li>
<li class='toc3'><a href='#-clock'>clock</a> </li>
<li class='toc3'><a href='#-updateFunc'>updateFunc</a> </li>
<li class='toc2'><a href='#Inherited instance methods'>Inherited instance methods</a></li>
</ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'></ul></ul></div><h2><a class='anchor' name='description'>Description</a></h2>

<p>SkipJack is a utility to run a function in the background repeatedly, that survive cmd-period.
<p>A typical use is with a window displaying the state of some objects every now and then. (This is better in some cases than updating the GUI at every change. If the changes happen fast, you don't choke your CPU on gui updating.)
<p>But SkipJack is useful whenever you need a periodic function to run in the background and not go away if the user hits cmd-period.<h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*new' href='./../Overviews/Methods.html#new'>new</a> (<span class='argstr'>updateFunc</span>, <span class='argstr'>dt: 0.2</span>, <span class='argstr'>stopTest: false</span>, <span class='argstr'>name: "anon"</span>, <span class='argstr'>clock</span>, <span class='argstr'>autostart: true</span>)</h3>
<div class='method'>
<p><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>updateFunc<td class='argumentdesc'>
<p>A <a href="./../Classes/Function.html">Function</a> to repeat in the background.<tr><td class='argumentname'>dt<td class='argumentdesc'>
<p>The time interval at which to repeat. It can also be a stream or a function that returns a number.<tr><td class='argumentname'>stopTest<td class='argumentdesc'>
<p>A test whether to stop the task now. Usually a Function.<tr><td class='argumentname'>name<td class='argumentdesc'>
<p>A name for this skipjack. Used for posting information and in the <a href="#*stop">*stop</a> classmethod.<tr><td class='argumentname'>clock<td class='argumentdesc'>
<p>The clock that plays the task. Default is <a href="./../Classes/AppClock.html">AppClock</a>, so SkipJack can call GUI primitives. If you need more precise timing, you can supply your own clock, and use defer only where necessary.<tr><td class='argumentname'>autostart<td class='argumentdesc'>
<p>When true (default) SkipJack starts automatically as it is created.</table></div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*stop' href='./../Overviews/Methods.html#stop'>stop</a> (<span class='argstr'>name</span>)</h3>
<div class='method'>
<p>Stop a skipjack by name.</div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*stopAll' href='./../Overviews/Methods.html#stopAll'>stopAll</a> </h3>
<div class='method'>
<p>Stop all skipjacks.</div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*defaultClock' href='./../Overviews/Methods.html#defaultClock'>defaultClock</a> </h3>
<div class='method'>
<p>The default clock (AppClock)</div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*verbose' href='./../Overviews/Methods.html#verbose'>verbose</a></h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*verbose' href='./../Overviews/Methods.html#verbose'>verbose</a> = value</h3>
<div class='method'>
<p>When true, SkipJack posts messages when it starts, stops or restarts.</div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*all' href='./../Overviews/Methods.html#all'>all</a> </h3>
<div class='method'>
<p>The global set of all skipjacks.</div><h3><a class='anchor' name='Inherited class methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-dt' href='./../Overviews/Methods.html#dt'>dt</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-dt' href='./../Overviews/Methods.html#dt'>dt</a> = value</h3>
<div class='method'>
<p>Get or set the time interval.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-task' href='./../Overviews/Methods.html#task'>task</a> </h3>
<div class='method'>
<p>The internal Routine that wraps updateFunc.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-name' href='./../Overviews/Methods.html#name'>name</a> </h3>
<div class='method'>
<p>The name of this skipjack.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-stopTest' href='./../Overviews/Methods.html#stopTest'>stopTest</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-stopTest' href='./../Overviews/Methods.html#stopTest'>stopTest</a> = value</h3>
<div class='method'>
<p>The current stopTest. (see argument in <a href="#*new">*new</a> )</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-start' href='./../Overviews/Methods.html#start'>start</a> </h3>
<div class='method'>
<p>Start this skipjack.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-play' href='./../Overviews/Methods.html#play'>play</a> </h3>
<div class='method'>
<p>Same as <code class='code prettyprint lang-sc'>start</code></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-stop' href='./../Overviews/Methods.html#stop'>stop</a> </h3>
<div class='method'>
<p>Stop this skipjack.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-clock' href='./../Overviews/Methods.html#clock'>clock</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-clock' href='./../Overviews/Methods.html#clock'>clock</a> = </h3>
<div class='method'>
<p>Get or set the clock used. This will only be updated when the skipjack restarts.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-updateFunc' href='./../Overviews/Methods.html#updateFunc'>updateFunc</a> </h3>
<div class='method'>
<p>The updateFunc set by the argument to <a href="#*new">*new</a></div><h3><a class='anchor' name='Inherited instance methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h2><a class='anchor' name='examples'>Examples</a></h2>

<p>Simple example:<pre class='code prettyprint lang-sc'>w = SkipJack({ "watch...".postln; }, 0.5, name: "test");
SkipJack.verbose = true;    // post stop/wakeup logs

w.stop;
w.start;

//     now try to stop with cmd-. : SkipJack always restarts itself.
thisProcess.stop;

w.stop;</pre>

<p>Using stopTest:<pre class='code prettyprint lang-sc'>a = 5;
w = SkipJack({ "watch...".postln; }, 0.5, { a == 10 }, "test");
a = 10;    // fulfil stopTest</pre>

<p>Typical use: SkipJack updates a window displaying the state of some objects every now and then.<pre class='code prettyprint lang-sc'>(
d = (a: 12, b: 24);
d.win = Window("dict", Rect(0,0,200,60)).front;
d.views = [\a, \b].collect { |name, i|
    StaticText(d.win, Rect(i * 100,0,96,20))
        .background_(Color.yellow).align_(0).string_(name);
};
w = SkipJack({
        "...".postln;
        [\a, \b].do { |name, i|
            d.views[i].string_(name ++ ":" + d[name])
        }
    },
    0.5,
    { d.win.isClosed },
    "showdict"
);
)

d.a = 123;      // updates should be displayed
d.b = \otto;
d.win.close;    // when window closes, SkipJack stops.</pre>

<p>If you need to get rid of an unreachable skipjack:<pre class='code prettyprint lang-sc'>SkipJack({ "unreachable, unkillable...".postln }, name: "jack");

SkipJack.stopAll        // do this to stop all;

SkipJack.stop("jack");  // reach it by name and stop</pre>
<div class='doclink'>source: <a href='file:///usr/local/share/SuperCollider/HelpSource/Classes/SkipJack.schelp'>/usr/local/share/SuperCollider/HelpSource/Classes/SkipJack.schelp</a><br>link::Classes/SkipJack::<br>sc version: 3.8dev</div></div></body></html>