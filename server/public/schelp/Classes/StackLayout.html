<html><head><title>StackLayout</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='./../prettify.js' type='text/javascript'></script>
<script src='./../lang-sc.js' type='text/javascript'></script>
<script type='text/javascript'>var helpRoot='./..';</script>
</head>
<ul id='menubar'></ul>
<body onload='fixTOC();prettyPrint()'>
<div class='contents'>
<div class='header'>
<div id='label'>SuperCollider CLASSES</div>
<div id='categories'><a href='./../Browse.html#GUI>Layout'>GUI>Layout</a></div>
<h1>StackLayout</h1>
<div id='summary'>A layout that stacks views on top of each other</div>
</div>
<div class='subheader'>
<div id='filename'>Source: /usr/local/share/SuperCollider/SCClassLibrary/Common/GUI/Base/<a href='file:///usr/local/share/SuperCollider/SCClassLibrary/Common/GUI/Base/QLayout.sc'>QLayout.sc</a></div><div id='superclasses'>Inherits from: <a href="../Classes/Layout.html">Layout</a> : <a href="../Classes/QObject.html">QObject</a> : <a href="../Classes/Object.html">Object</a></div>
<div id='subclasses'>Subclasses: <a href="../Classes/QStackLayout.html">QStackLayout</a></div>
<div id='related'>See also: <a href="./../Classes/HLayout.html">HLayout</a>, <a href="./../Classes/VLayout.html">VLayout</a>, <a href="./../Classes/GridLayout.html">GridLayout</a>, <a href="./../Guides/GUI-Layout-Management.html">Layout Management</a></div>
</div>
<div id='toc'>
<ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*new'>new</a> </li>
<li class='toc2'><a href='#Inherited class methods'>Inherited class methods</a></li>
</ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-add'>add</a> </li>
<li class='toc3'><a href='#-insert'>insert</a> </li>
<li class='toc3'><a href='#-count'>count</a> </li>
<li class='toc3'><a href='#-index'>index</a> </li>
<li class='toc3'><a href='#-mode'>mode</a> </li>
<li class='toc2'><a href='#Inherited instance methods'>Inherited instance methods</a></li>
</ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'></ul></ul></div><h2><a class='anchor' name='description'>Description</a></h2>

<p>StackLayout manages several views stacked into the same space. It has two modes: it can either switch the view that is visible, hiding the others, or it can keep all of them visible, switching the one that is on top.
<p>The second mode is useful for example for overlaying a view with a <a href="./../Classes/UserView.html">UserView</a>, on which you can then draw additional information. If you still want to be able to interact with the view below using the mouse, you can make the one above ignore the mouse using <a href="./../Classes/View.html#-acceptsMouse">View: -acceptsMouse</a>. See the <a href="#examples">example</a> below.
<p>Views can be added to the layout immediately at <a href="#*new">construction</a>, or you can <a href="#-add">add</a> or <a href="#-insert">insert</a> them after. To remove a view, you simply call <a href="./../Classes/View.html#-remove">View: -remove</a>.
<p>You can change the current view (the one visible / on top) using <a href="#-index">-index</a>, while <a href="#-count">-count</a> tells you how many views are managed by the layout.
<p>To switch between the two modes use <a href="#-mode">-mode</a>.<div class='note'><span class='notelabel'>NOTE:</span> Unlike other layouts, StackLayout can not contain another layout, but only subclasses of View.</div><h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*new' href='./../Overviews/Methods.html#new'>new</a> ( <span class='argstr'>... views</span>)</h3>
<div class='method'>
<p> Creates a StackLayout and fills it with the items given as arguments. The first view becomes the current one, i.e. visible and on top of others.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>... views<td class='argumentdesc'>
<p> A sequence of <strong>views</strong>. Unlike other layouts, StackLayout can not contain another layout.</table><h4>Discussion:</h4>

<p>In the example below, the button will switch between the three text editing areas:<pre class='code prettyprint lang-sc'>(
var stack;
w = Window().layout_( VLayout(
    Button().states_([["One"],["Two"],["Three"]]).action_({ |b| stack.index = b.value }),
    stack = StackLayout(
        TextView().string_("This is a chunk of text..."),
        TextView().string_("...and this is another..."),
        TextView().string_("...and another.")
    );
)).front;
)</pre>
</div><h3><a class='anchor' name='Inherited class methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-add' href='./../Overviews/Methods.html#add'>add</a> (<span class='argstr'>view</span>)</h3>
<div class='method'>
<p> Adds a view at the last index. This does not affect the current <a href="#-index">-index</a>.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>view<td class='argumentdesc'>
<p> A View.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-insert' href='./../Overviews/Methods.html#insert'>insert</a> (<span class='argstr'>view</span>, <span class='argstr'>index: 0</span>)</h3>
<div class='method'>
<p> Inserts a view at the specific index. This does not affect the current <a href="#-index">-index</a>.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>view<td class='argumentdesc'>
<p> A View.<tr><td class='argumentname'>index<td class='argumentdesc'>
<p> An integer. If it is less than 0 or more than <a href="#-count">-count</a>, the view will always be inserted as last.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-count' href='./../Overviews/Methods.html#count'>count</a> </h3>
<div class='method'>
<p> The number of views managed by the layout.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-index' href='./../Overviews/Methods.html#index'>index</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-index' href='./../Overviews/Methods.html#index'>index</a> = <span class='argstr'>value</span></h3>
<div class='method'>
<p> Sets or gets the index of the current view. The current view is placed on top of others, and if <a href="#-mode">-mode</a> is 0, all the others are hidden.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-mode' href='./../Overviews/Methods.html#mode'>mode</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-mode' href='./../Overviews/Methods.html#mode'>mode</a> = <span class='argstr'>value</span></h3>
<div class='method'>
<p> Sets or gets the current mode: in mode 0, the layout only displays the current view; in mode 1, the layout displays all the views. In both modes, the current view will be placed on top of others.
<p> See also: <a href="#-index">-index</a>.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>value<td class='argumentdesc'>
<p> 0 or 1. Instead of an integer you can also use symbols \stackOne or \stackAll.</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>0 or 1.</div></div><h3><a class='anchor' name='Inherited instance methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h2><a class='anchor' name='examples'>Examples</a></h2>

<p>Overlaying a TextView with a UserView to do additional drawing on top, while still allowing the interaction with the text:<pre class='code prettyprint lang-sc'>(
var text, canvas;
text = TextView().string_("Hello world!").keyDownAction_({canvas.refresh});
canvas = UserView().acceptsMouse_(false).drawFunc_({
    var b = canvas.bounds();
    var str = text.string;
    Pen.translate( b.center.x, b.center.y );
    Pen.fillColor = text.palette.baseText.alpha_(0.1);
    str.do { |c|
        var x = 40.0.rand + 10.0;
        var r = c.asString.bounds.center_(0@0);
        Pen.push;
        Pen.rotate( 1.0.rand );
        Pen.translate( rand2(-0.3,0.3) * b.width, rand2(-0.3,0.3) * b.width );
        Pen.scale( x, x );
        Pen.stringCenteredIn(c.asString, r);
        Pen.pop;
    }
}).refresh;
w=Window().layout_( StackLayout( canvas, text ).mode_(\stackAll) ).front;
)</pre>

<p><div class='doclink'>source: <a href='file:///usr/local/share/SuperCollider/HelpSource/Classes/StackLayout.schelp'>/usr/local/share/SuperCollider/HelpSource/Classes/StackLayout.schelp</a><br>link::Classes/StackLayout::<br>sc version: 3.8dev</div></div></body></html>