<html><head><title>EnvelopeView</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='./../prettify.js' type='text/javascript'></script>
<script src='./../lang-sc.js' type='text/javascript'></script>
<script type='text/javascript'>var helpRoot='./..';</script>
</head>
<ul id='menubar'></ul>
<body onload='fixTOC();prettyPrint()'>
<div class='contents'>
<div class='header'>
<div id='label'>SuperCollider CLASSES</div>
<div id='categories'><a href='./../Browse.html#GUI>Views'>GUI>Views</a></div>
<h1>EnvelopeView</h1>
<div id='summary'>A configurable view with nodes and connections</div>
</div>
<div class='subheader'>
<div id='filename'>Source: /usr/local/share/SuperCollider/SCClassLibrary/Common/GUI/Base/<a href='file:///usr/local/share/SuperCollider/SCClassLibrary/Common/GUI/Base/QEnvelopeView.sc'>QEnvelopeView.sc</a></div><div id='superclasses'>Inherits from: <a href="../Classes/View.html">View</a> : <a href="../Classes/QObject.html">QObject</a> : <a href="../Classes/Object.html">Object</a></div>
<div id='subclasses'>Subclasses: <a href="../Classes/QEnvelopeView.html">QEnvelopeView</a></div>
<div id='related'>See also: <a href="./../Classes/MultiSliderView.html">MultiSliderView</a>, <a href="./../Classes/SCEnvelopeEdit.html">SCEnvelopeEdit</a></div>
</div>
<div id='toc'>
<ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'><li class='toc2'><a href='#Appearance'>Appearance</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Interaction'>Interaction</a></li>
<ul class='toc'></ul></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc2'><a href='#Inherited class methods'>Inherited class methods</a></li>
<li class='toc2'><a href='#Undocumented class methods'>Undocumented class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*qtClass'>qtClass</a> </li>
</ul></ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc2'><a href='#Data'>Data</a></li>
<ul class='toc'><li class='toc3'><a href='#-setEnv'>setEnv</a> </li>
<li class='toc3'><a href='#-value'>value</a> </li>
<li class='toc3'><a href='#-valueAction'>valueAction</a> </li>
<li class='toc3'><a href='#-x'>x</a> </li>
<li class='toc3'><a href='#-y'>y</a> </li>
<li class='toc3'><a href='#-currentvalue'>currentvalue</a> </li>
<li class='toc3'><a href='#-curves'>curves</a> </li>
<li class='toc3'><a href='#-strings'>strings</a> </li>
<li class='toc3'><a href='#-setString'>setString</a> </li>
<li class='toc3'><a href='#-setFillColor'>setFillColor</a> </li>
<li class='toc3'><a href='#-setThumbWidth'>setThumbWidth</a> </li>
<li class='toc3'><a href='#-setThumbHeight'>setThumbHeight</a> </li>
<li class='toc3'><a href='#-setThumbSize'>setThumbSize</a> </li>
<li class='toc3'><a href='#-connect'>connect</a> </li>
<li class='toc3'><a href='#-selection'>selection</a> </li>
</ul><li class='toc2'><a href='#Appearance'>Appearance</a></li>
<ul class='toc'><li class='toc3'><a href='#-style'>style</a> </li>
<li class='toc3'><a href='#-drawLines'>drawLines</a> </li>
<li class='toc3'><a href='#-drawRects'>drawRects</a> </li>
<li class='toc3'><a href='#-gridOn'>gridOn</a> </li>
<li class='toc3'><a href='#-grid'>grid</a> </li>
<li class='toc3'><a href='#-thumbWidth'>thumbWidth</a> </li>
<li class='toc3'><a href='#-thumbHeight'>thumbHeight</a> </li>
<li class='toc3'><a href='#-thumbSize'>thumbSize</a> </li>
<li class='toc3'><a href='#-strokeColor'>strokeColor</a> </li>
<li class='toc3'><a href='#-fillColor'>fillColor</a> </li>
<li class='toc3'><a href='#-selectionColor'>selectionColor</a> </li>
<li class='toc3'><a href='#-gridColor'>gridColor</a> </li>
<li class='toc3'><a href='#-colors'>colors</a> </li>
</ul><li class='toc2'><a href='#Interaction'>Interaction</a></li>
<ul class='toc'><li class='toc3'><a href='#-index'>index</a> </li>
<li class='toc3'><a href='#-lastIndex'>lastIndex</a> </li>
<li class='toc3'><a href='#-selectIndex'>selectIndex</a> </li>
<li class='toc3'><a href='#-deselectIndex'>deselectIndex</a> </li>
<li class='toc3'><a href='#-editable'>editable</a> </li>
<li class='toc3'><a href='#-setEditable'>setEditable</a> </li>
<li class='toc3'><a href='#-step'>step</a> </li>
<li class='toc3'><a href='#-keepHorizontalOrder'>keepHorizontalOrder</a> </li>
<li class='toc3'><a href='#-elasticSelection'>elasticSelection</a> </li>
</ul><li class='toc2'><a href='#Actions'>Actions</a></li>
<ul class='toc'><li class='toc3'><a href='#-action'>action</a> </li>
<li class='toc3'><a href='#-metaAction'>metaAction</a> </li>
<li class='toc3'><a href='#-defaultKeyDownAction'>defaultKeyDownAction</a> </li>
</ul><li class='toc2'><a href='#Drag and drop'>Drag and drop</a></li>
<ul class='toc'><li class='toc3'><a href='#-defaultGetDrag'>defaultGetDrag</a> </li>
<li class='toc3'><a href='#-defaultCanReceiveDrag'>defaultCanReceiveDrag</a> </li>
<li class='toc3'><a href='#-defaultReceiveDrag'>defaultReceiveDrag</a> </li>
</ul><li class='toc2'><a href='#Inherited instance methods'>Inherited instance methods</a></li>
<li class='toc2'><a href='#Undocumented instance methods'>Undocumented instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-doMetaAction'>doMetaAction</a> </li>
</ul></ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'></ul></ul></div><h2><a class='anchor' name='description'>Description</a></h2>

<p>A view which can graphically display nodes at x/y coordinates, connection lines, cross-connections, node markers, and labels. All of the values for these are stored in arrays. While this view is typically used to make editable envelopes interfaces, it can be used to draw very complex interconnection graphs as well.
<p>You can make the view display an <a href="./../Classes/Env.html">Env</a> using <a href="#-setEnv">-setEnv</a>. Note however that the view will work on a copy of the data of the Env object, therefore moving the nodes through the view will have no effect on the Env.
<p>You can also define nodes with arrays of x and y values using <a href="#-value">-value</a>, and the connections using <a href="#-connect">-connect</a>.<h3><a class='anchor' name='Appearance'>Appearance</a></h3>

<p>The view supports two <strong>display styles</strong>: the default one draws nodes as small dots, with labels next to them, while another style draws nodes as rounded rectangles with labels drawn inside. See <a href="#-style">-style</a>.
<p>A <strong>label</strong> for each of the nodes can be set using <a href="#-strings">-strings</a> and <a href="#-setString">-setString</a>.<h3><a class='anchor' name='Interaction'>Interaction</a></h3>

<p>Nodes can be selected and moved using mouse. Shift-clicking a node will add it to the selection.
<p>You can also move selected nodes and change selection using keyboard. Pressing the arrow keys will move selected nodes (as long as <a href="#-step">-step</a> is larger than 0). Pressing the left or right arrow keys while holding down Alt will select previous or next node, and holding down Shift will extend selection to the left or to the right. Other GUI kits may differ.
<p><a href="#-keepHorizontalOrder">-keepHorizontalOrder</a> allows you to enforce the order of nodes in horizontal direction to match their index order. In that case, node movement to the left and to the right will be restricted by the positions of their immediate neighbours. This is especially useful when EnvelopeView is used to display an <a href="./../Classes/Env.html">Env</a>.
<p><a href="#-elasticSelection">-elasticSelection</a> determines whether moving multiple nodes will be blocked altogether if any of the nodes meet an obstacle (the view bounds or a neighbour node), or only those individual nodes will be blocked.
<p>Node selection can also be changed programmatically using <a href="#-index">-index</a>, <a href="#-selectIndex">-selectIndex</a>, and <a href="#-deselectIndex">-deselectIndex</a>. The <a href="#-index">current</a> node can be moved programmatically using <a href="#-x">-x</a> and <a href="#-y">-y</a>.<h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3><a class='anchor' name='Inherited class methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h3><a class='anchor' name='Undocumented class methods'>Undocumented class methods</a></h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*qtClass' href='./../Overviews/Methods.html#qtClass'>qtClass</a> </h3>
<h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3><a class='anchor' name='Data'>Data</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-setEnv' href='./../Overviews/Methods.html#setEnv'>setEnv</a> (<span class='argstr'>env</span>)</h3>
<div class='method'>
<p> Sets an <a href="./../Classes/Env.html">Env</a> to be displayed by the view. The view will extract data from the Env object to display (times, values and curve types).
<p> Any nodes existent prior to calling this method will be removed.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>env<td class='argumentdesc'>
<p> An Env.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-value' href='./../Overviews/Methods.html#value'>value</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-value' href='./../Overviews/Methods.html#value'>value</a> = <span class='argstr'>anArray</span></h3>
<div class='method'>
<p> <code class='code prettyprint lang-sc'>value</code> retrieves the node positions, returning an array in the format of the Argument below. <code class='code prettyprint lang-sc'>value_(anArray)</code> Sets the positions of the nodes, creating them if not existent.
<p> If there were already existent nodes and their amount is different than the amount of x/y pairs in the argument, nodes will be added or removed (in order of creation reversed) until the amounts match, and then the new values will be applied.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>anArray<td class='argumentdesc'>
<p> An Array containing two other Arrays, of which one contains the horizontal and the other the vertical position of the new nodes. The values must be between 0 and 1. For example: <code class='code prettyprint lang-sc'>[[ x1, x2, x3, ... ], [ y1, y2, y3, ... ]]</code></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-valueAction' href='./../Overviews/Methods.html#valueAction'>valueAction</a><h3 class='imethodname'><span class='methprefix'>-</span><a name='-valueAction' href='./../Overviews/Methods.html#valueAction'>valueAction</a> = <span class='argstr'>anArray</span></h3>
<div class='method'>
<p> Sets <a href="#-value">-value</a> to the argument and triggers the <a href="#-action">-action</a>.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-x' href='./../Overviews/Methods.html#x'>x</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-x' href='./../Overviews/Methods.html#x'>x</a> = <span class='argstr'>aFloat</span></h3>
<div class='method'>
<p> The horizontal position of the <em>current</em> node.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>aFloat<td class='argumentdesc'>
<p> A Float between 0 and 1.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-y' href='./../Overviews/Methods.html#y'>y</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-y' href='./../Overviews/Methods.html#y'>y</a> = <span class='argstr'>aFloat</span></h3>
<div class='method'>
<p> The vertical position of the <em>current</em> node.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>aFloat<td class='argumentdesc'>
<p> A Float between 0 and 1.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-currentvalue' href='./../Overviews/Methods.html#currentvalue'>currentvalue</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-currentvalue' href='./../Overviews/Methods.html#currentvalue'>currentvalue</a> = <span class='argstr'>aFloat</span></h3>
<div class='method'>
<p> Synonym for <a href="#-y">-y</a>.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-curves' href='./../Overviews/Methods.html#curves'>curves</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-curves' href='./../Overviews/Methods.html#curves'>curves</a> = <span class='argstr'>curves</span></h3>
<div class='method'>
<p> The shapes of connections between nodes. See below for the valid objects that describe a shape.
<p> If a single shape is given, it will be applied to all the existing nodes. If an Array of shapes is given, each of its elements will be applied to an existing node, in order of index.
<p> A connection curve shape applied to a node will determine the shape of the connections originating at that node. If no connections have been created using <a href="#-connect">-connect</a>, the origin node of a connection is the one with lower index. If there are such connections however, their origin is the node that was passed as the first argument to <a href="#-connect">-connect</a>.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>curves<td class='argumentdesc'>
<p> The valid objects to describe a shape are listed in <a href="./../Classes/Env.html#*new">Env: *new</a>. The argument can be either a single, or an Array of those values.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-strings' href='./../Overviews/Methods.html#strings'>strings</a><h3 class='imethodname'><span class='methprefix'>-</span><a name='-strings' href='./../Overviews/Methods.html#strings'>strings</a> = <span class='argstr'>anArray</span></h3>
<div class='method'>
<p> The labels of the nodes.<div class='note'><span class='notelabel'>NOTE:</span> In order for the labels to be visible, you might need to ensure that the <a href="#-strokeColor">-strokeColor</a> contrasts the <a href="#-fillColor">-fillColor</a> (depending on how the view draws the nodes and the labels).</div><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>anArray<td class='argumentdesc'>
<p> An Array of Strings.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-setString' href='./../Overviews/Methods.html#setString'>setString</a> (<span class='argstr'>index</span>, <span class='argstr'>string</span>)</h3>
<div class='method'>
<p> Sets the label of the node at the given index.<div class='note'><span class='notelabel'>NOTE:</span> In order for the label to be visible, you might need to ensure that the <a href="#-strokeColor">-strokeColor</a> contrasts the <a href="#-fillColor">-fillColor</a> (depending on how the view draws the nodes and the labels).</div><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>index<td class='argumentdesc'>
<p> the index of the node.<tr><td class='argumentname'>string<td class='argumentdesc'>
<p> A String.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-setFillColor' href='./../Overviews/Methods.html#setFillColor'>setFillColor</a> (<span class='argstr'>index</span>, <span class='argstr'>color</span>)</h3>
<div class='method'>
<p> Sets the color used to draw the inside of the node at the given index.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>index<td class='argumentdesc'>
<p> An Integer.<tr><td class='argumentname'>color<td class='argumentdesc'>
<p> A Color.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-setThumbWidth' href='./../Overviews/Methods.html#setThumbWidth'>setThumbWidth</a> (<span class='argstr'>index</span>, <span class='argstr'>width</span>)</h3>
<div class='method'>
<p> Sets the width of the node at the given index.<div class='note'><span class='notelabel'>NOTE:</span> For compatibility with existing code, this will set the <a href="#-style">-style</a> to <strong>'rects'</strong>.</div><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>index<td class='argumentdesc'>
<p> An Integer.<tr><td class='argumentname'>width<td class='argumentdesc'>
<p> An Integer.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-setThumbHeight' href='./../Overviews/Methods.html#setThumbHeight'>setThumbHeight</a> (<span class='argstr'>index</span>, <span class='argstr'>height</span>)</h3>
<div class='method'>
<p> Sets the height of the node at the given index.<div class='note'><span class='notelabel'>NOTE:</span> For compatibility with existing code, this will set the <a href="#-style">-style</a> to <strong>'rects'</strong>.</div><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>index<td class='argumentdesc'>
<p> An Integer.<tr><td class='argumentname'>height<td class='argumentdesc'>
<p> An Integer.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-setThumbSize' href='./../Overviews/Methods.html#setThumbSize'>setThumbSize</a> (<span class='argstr'>index</span>, <span class='argstr'>size</span>)</h3>
<div class='method'>
<p> Sets both width and height of the node at the given index to <code class='code prettyprint lang-sc'>size</code>.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>index<td class='argumentdesc'>
<p> An Integer.<tr><td class='argumentname'>size<td class='argumentdesc'>
<p> An Integer.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-connect' href='./../Overviews/Methods.html#connect'>connect</a> (<span class='argstr'>source</span>, <span class='argstr'>targets</span>)</h3>
<div class='method'>
<p> Removes any connections created when the <a href="#-value">-value</a> was set, and then creates new ones from the node at index given in the first argument to each of the nodes at indexes given in the second argument.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>source<td class='argumentdesc'>
<p> An Integer - the index of the node to become one end of all the new connections.<tr><td class='argumentname'>targets<td class='argumentdesc'>
<p> An Array of Integers - indexes of nodes, each to become the second end to a new connection created.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-selection' href='./../Overviews/Methods.html#selection'>selection</a> </h3>
<div class='method'>
<p> Returns an array of indexes of all selected nodes.</div><h3><a class='anchor' name='Appearance'>Appearance</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-style' href='./../Overviews/Methods.html#style'>style</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-style' href='./../Overviews/Methods.html#style'>style</a> = <span class='argstr'>style</span></h3>
<div class='method'>
<p> One of the following drawing styles:<ul>
<li><strong>'dots'</strong> - nodes are drawn as small dots within a larger circle indicating the area of mouse sensitivity. Labels are drawn next to the dots (see <a href="#-setString">-setString</a>). This style always draws nodes with <em>equal width and height</em>, and will use the smaller of the node's sizes, if different (it never draws ellipses).<li><strong>'rects'</strong> - nodes are drawn as rounded rectangles. Labels are drawn within the bounds of the rectangles.</ul>
<div class='note'><span class='notelabel'>NOTE:</span> For compatibility with existing code, calling any of <a href="#-thumbWidth">-thumbWidth</a>, <a href="#-thumbHeight">-thumbHeight</a>, <a href="#-setThumbWidth">-setThumbWidth</a>, or <a href="#-setThumbHeight">-setThumbHeight</a> will automatically switch style to <strong>'rects'</strong>. You can still set a different style afterwards.</div><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>style<td class='argumentdesc'>
<p> One of the symbols: <code class='code prettyprint lang-sc'>\dots</code> or <code class='code prettyprint lang-sc'>\rects</code>. Alternatively, an integer 0 or 1, for each style respectively.</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>An integer 0 or 1.</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-drawLines' href='./../Overviews/Methods.html#drawLines'>drawLines</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-drawLines' href='./../Overviews/Methods.html#drawLines'>drawLines</a> = <span class='argstr'>aBool</span></h3>
<div class='method'>
<p> Whether to draw the connections between the nodes.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>aBool<td class='argumentdesc'>
<p> A Boolean.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-drawRects' href='./../Overviews/Methods.html#drawRects'>drawRects</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-drawRects' href='./../Overviews/Methods.html#drawRects'>drawRects</a> = <span class='argstr'>aBool</span></h3>
<div class='method'>
<p> Whether to draw the nodes<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>aBool<td class='argumentdesc'>
<p> A Boolean.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-gridOn' href='./../Overviews/Methods.html#gridOn'>gridOn</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-gridOn' href='./../Overviews/Methods.html#gridOn'>gridOn</a> = <span class='argstr'>aBool</span></h3>
<div class='method'>
<p> Whether to draw the grid.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>aBool<td class='argumentdesc'>
<p> A Boolean.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-grid' href='./../Overviews/Methods.html#grid'>grid</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-grid' href='./../Overviews/Methods.html#grid'>grid</a> = <span class='argstr'>aPoint</span></h3>
<div class='method'>
<p> The resolution of the grid.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>aPoint<td class='argumentdesc'>
<p> A Point of which x and y correspond to grid spacing on the horizontal and the vertical axis, respectively. If one of the two is 0, the grid on that axis will not be drawn.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-thumbWidth' href='./../Overviews/Methods.html#thumbWidth'>thumbWidth</a><h3 class='imethodname'><span class='methprefix'>-</span><a name='-thumbWidth' href='./../Overviews/Methods.html#thumbWidth'>thumbWidth</a> = <span class='argstr'>width</span></h3>
<div class='method'>
<p> Sets the width of all nodes.<div class='note'><span class='notelabel'>NOTE:</span> For compatibility with existing code, this will set the <a href="#-style">-style</a> to <strong>'rects'</strong>.</div><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>width<td class='argumentdesc'>
<p> An Integer.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-thumbHeight' href='./../Overviews/Methods.html#thumbHeight'>thumbHeight</a><h3 class='imethodname'><span class='methprefix'>-</span><a name='-thumbHeight' href='./../Overviews/Methods.html#thumbHeight'>thumbHeight</a> = <span class='argstr'>height</span></h3>
<div class='method'>
<p> Sets the height of all nodes.<div class='note'><span class='notelabel'>NOTE:</span> For compatibility with existing code, this will set the <a href="#-style">-style</a> to <strong>'rects'</strong>.</div><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>height<td class='argumentdesc'>
<p> An Integer.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-thumbSize' href='./../Overviews/Methods.html#thumbSize'>thumbSize</a><h3 class='imethodname'><span class='methprefix'>-</span><a name='-thumbSize' href='./../Overviews/Methods.html#thumbSize'>thumbSize</a> = <span class='argstr'>size</span></h3>
<div class='method'>
<p> Sets both <a href="#-thumbWidth">-thumbWidth</a> and <a href="#-thumbHeight">-thumbHeight</a> to the argument.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-strokeColor' href='./../Overviews/Methods.html#strokeColor'>strokeColor</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-strokeColor' href='./../Overviews/Methods.html#strokeColor'>strokeColor</a> = <span class='argstr'>color</span></h3>
<div class='method'>
<p> The color used to draw the connections and the node labels.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>color<td class='argumentdesc'>
<p> A Color.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-fillColor' href='./../Overviews/Methods.html#fillColor'>fillColor</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-fillColor' href='./../Overviews/Methods.html#fillColor'>fillColor</a> = <span class='argstr'>aColor</span></h3>
<div class='method'>
<p> The default color used to draw the nodes. If the color of a specific node has been set using <a href="#-setFillColor">-setFillColor</a>, it will take precedence.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>aColor<td class='argumentdesc'>
<p> A Color.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-selectionColor' href='./../Overviews/Methods.html#selectionColor'>selectionColor</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-selectionColor' href='./../Overviews/Methods.html#selectionColor'>selectionColor</a> = <span class='argstr'>color</span></h3>
<div class='method'>
<p> The color of a node when it is selected.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>color<td class='argumentdesc'>
<p> A Color.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-gridColor' href='./../Overviews/Methods.html#gridColor'>gridColor</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-gridColor' href='./../Overviews/Methods.html#gridColor'>gridColor</a> = <span class='argstr'>color</span></h3>
<div class='method'>
<p> The color of the grid.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>color<td class='argumentdesc'>
<p> A Color.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-colors' href='./../Overviews/Methods.html#colors'>colors</a><h3 class='imethodname'><span class='methprefix'>-</span><a name='-colors' href='./../Overviews/Methods.html#colors'>colors</a>_ (<span class='argstr'>strokeColor</span>, <span class='argstr'>fillColor</span>)</h3>
<div class='method'>
<p> Sets the <a href="#-strokeColor">-strokeColor</a> and the <a href="#-fillColor">-fillColor</a> to the arguments, respectively.</div><h3><a class='anchor' name='Interaction'>Interaction</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-index' href='./../Overviews/Methods.html#index'>index</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-index' href='./../Overviews/Methods.html#index'>index</a> = <span class='argstr'>index</span></h3>
<div class='method'>
<p> The index of the <em>current</em> node, i.e. the node affected by <a href="#-x">-x</a> and <a href="#-y">-y</a> methods.
<p> This is the selected node with lowest index, or -1 if no selection.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>index<td class='argumentdesc'>
<p> An Integer.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-lastIndex' href='./../Overviews/Methods.html#lastIndex'>lastIndex</a> </h3>
<div class='method'>
<p> The last node selected, regardless of the current state of selection.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-selectIndex' href='./../Overviews/Methods.html#selectIndex'>selectIndex</a> (<span class='argstr'>index</span>)</h3>
<div class='method'>
<p> Selects the node at given index and makes it the current one, i.e. <a href="#-currentvalue">-currentvalue</a> will relate to that node. As a special case, if the argument is -1 all nodes will be deselected.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>index<td class='argumentdesc'>
<p> An Integer.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-deselectIndex' href='./../Overviews/Methods.html#deselectIndex'>deselectIndex</a> (<span class='argstr'>index</span>)</h3>
<div class='method'>
<p> Deselects the node at given index.<div class='note'><span class='notelabel'>NOTE:</span> Not available in <strong>Cocoa GUI</strong>.</div><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>index<td class='argumentdesc'>
<p> An Integer.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-editable' href='./../Overviews/Methods.html#editable'>editable</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-editable' href='./../Overviews/Methods.html#editable'>editable</a> = <span class='argstr'>aBool</span></h3>
<div class='method'>
<p> Whether any node is editable.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>aBool<td class='argumentdesc'>
<p> A Boolean.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-setEditable' href='./../Overviews/Methods.html#setEditable'>setEditable</a> (<span class='argstr'>index</span>, <span class='argstr'>flag</span>)</h3>
<div class='method'>
<p> Sets whether the node at given index is editable. Regardless of this, no node will be editable unless <a href="#-editable">-editable</a> is <code class='code prettyprint lang-sc'>true</code>.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>index<td class='argumentdesc'>
<p> An Integer.<tr><td class='argumentname'>flag<td class='argumentdesc'>
<p> A Boolean.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-step' href='./../Overviews/Methods.html#step'>step</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-step' href='./../Overviews/Methods.html#step'>step</a> = <span class='argstr'>aFloat</span></h3>
<div class='method'>
<p> Makes the nodes snap (i.e. quantized) to the nearest multiple of the argument. Unless this is larger than 0, nodes will not be movable using keyboard.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>aFloat<td class='argumentdesc'>
<p> A Float.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-keepHorizontalOrder' href='./../Overviews/Methods.html#keepHorizontalOrder'>keepHorizontalOrder</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-keepHorizontalOrder' href='./../Overviews/Methods.html#keepHorizontalOrder'>keepHorizontalOrder</a> = <span class='argstr'>bool</span></h3>
<div class='method'>
<p> Whether the position of nodes on the horizontal axis shall be restricted by their immediate neighbours (in order of their index).
<p> Setting this to <code class='code prettyprint lang-sc'>true</code> will immediately modify the positions of existing nodes to match the order.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>bool<td class='argumentdesc'>
<p> A Boolean.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-elasticSelection' href='./../Overviews/Methods.html#elasticSelection'>elasticSelection</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-elasticSelection' href='./../Overviews/Methods.html#elasticSelection'>elasticSelection</a> = <span class='argstr'>bool</span></h3>
<div class='method'>
<p> Whether the relative positions of nodes within the selection can change when the selection is moved using mouse or keyboard, in order to adapt to obstacles (the view bounds or, in case <a href="#-keepHorizontalOrder">-keepHorizontalOrder</a> is <code class='code prettyprint lang-sc'>true</code>, a neighbour node).
<p> If this is <code class='code prettyprint lang-sc'>false</code>, movement of multiple nodes will be blocked altogether when an obstacles is met, otherwise only the individual nodes will be blocked at their obstacles.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>bool<td class='argumentdesc'>
<p> A Boolean.</table></div><h3><a class='anchor' name='Actions'>Actions</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-action' href='./../Overviews/Methods.html#action'>action</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-action' href='./../Overviews/Methods.html#action'>action</a> = <span class='argstr'>func</span></h3>
<div class='supmethod'>From superclass: <a href='./../Classes/View.html'>View</a></div>
<div class='method'>
<p> The action object evaluated whenever the user moves a node.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-metaAction' href='./../Overviews/Methods.html#metaAction'>metaAction</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-metaAction' href='./../Overviews/Methods.html#metaAction'>metaAction</a> = <span class='argstr'>function</span></h3>
<div class='method'>
<p> The action object evaluated whenever the user moves a node while the Ctrl key is pressed.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-defaultKeyDownAction' href='./../Overviews/Methods.html#defaultKeyDownAction'>defaultKeyDownAction</a> (<span class='argstr'>char</span>, <span class='argstr'>modifiers</span>, <span class='argstr'>unicode</span>, <span class='argstr'>keycode</span>, <span class='argstr'>key</span>)</h3>
<div class='supmethod'>From superclass: <a href='./../Classes/View.html'>View</a></div>
<div class='method'>
<p> Implements the default behavior on key presses.
<p> The default behavior is defined in the C++ implementation of the view instead of this method. See <a href="./../Classes/View.html#Key and mouse event processing">View: Key and mouse event processing</a> for explanation of how to override the behavior.</div><h3><a class='anchor' name='Drag and drop'>Drag and drop</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-defaultGetDrag' href='./../Overviews/Methods.html#defaultGetDrag'>defaultGetDrag</a> </h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>The <a href="#-value">-value</a>.</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-defaultCanReceiveDrag' href='./../Overviews/Methods.html#defaultCanReceiveDrag'>defaultCanReceiveDrag</a> </h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>True for any drag data, but the data should be in the same format as <a href="#-value">-value</a>.</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-defaultReceiveDrag' href='./../Overviews/Methods.html#defaultReceiveDrag'>defaultReceiveDrag</a> </h3>
<div class='method'>
<p> If the drag data is of the acceptable form (see <a href="#-defaultCanReceiveDrag">-defaultCanReceiveDrag</a> above), sets <a href="#-value">-value</a> using that data.</div><h3><a class='anchor' name='Inherited instance methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h3><a class='anchor' name='Undocumented instance methods'>Undocumented instance methods</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-doMetaAction' href='./../Overviews/Methods.html#doMetaAction'>doMetaAction</a> </h3>
<h2><a class='anchor' name='examples'>Examples</a></h2>

<p>Use as envelope view<pre class='code prettyprint lang-sc'>(
// use shift-click to keep a node selected
w = Window("envelope", Rect(150 , Window.screenBounds.height - 250, 250, 100)).front;
w.view.decorator = FlowLayout(w.view.bounds);

b = EnvelopeView(w, Rect(0, 0, 230, 80))
    .drawLines_(true)
    .selectionColor_(Color.red)
    .drawRects_(true)
    .resize_(5)
    .step_(0.05)
    .action_({arg b; [b.index, b.value].postln})
    .thumbSize_(5)
    .value_([[0.0, 0.1, 0.5, 1.0],[0.1,1.0,0.8,0.0]]);
w.front;
)

// show grid
b.grid = Point(0.2, 0.2);
b.gridOn_(true);

// show Env
b.setEnv(Env.asr(0.5,1, 0.2));

// make the first point unmoveable
(
b.setEditable(0,false);
)</pre>

<p>Use shift click to select/unselect the points<pre class='code prettyprint lang-sc'>(
w = Window("envelope", Rect(150 , Window.screenBounds.height - 250, 400, 150)).front;
w.view.decorator = FlowLayout(w.view.bounds);

b = EnvelopeView(w, Rect(0, 0, 350, 100))
    .thumbSize_(5)
    .drawLines_(true)
    .fillColor_(Color.green)
    .selectionColor_(Color.red)
    .drawRects_(true)
    .value_([(0.0, 0.1 .. 1.0), (0.0, 0.1 .. 1.0)])
    .setEditable(0,false);
)

(
r = Routine({
    var j = 0;
    20.do({ arg i;
        b.selectIndex((b.size - 1).rand.abs);
        0.1.wait;
        b.x_(1.0.rand.abs);
        b.y_(1.0.rand.abs);
    });
    b.selectIndex(-1);
});
AppClock.play(r);
)</pre>

<p>Show boxes with a string in it:<pre class='code prettyprint lang-sc'>(
a = Window("text-boxes", Rect(200 , 450, 450, 450));
a.view.decorator = FlowLayout(a.view.bounds);

b = EnvelopeView(a, Rect(0, 0, 440, 440))
    .thumbWidth_(60.0)
    .thumbHeight_(15.0)
    .drawLines_(true)
    .drawRects_(true)
    .selectionColor_(Color.red)
    .value_([[0.1, 0.4, 0.5, 0.3], [0.1, 0.2, 0.9, 0.7]]);
4.do({arg i;
    b.setString(i, ["this", "is", "so much", "fun"].at(i));
    b.setFillColor(i,[Color.yellow, Color.white, Color.green].choose);
});
a.front;
)

(
b.connect(3, [2.0,0.0,1.0]); // the text objects can be connected
b.connect(0,[2.0,3.0,1.0]);
)</pre>

<p><div class='doclink'>source: <a href='file:///usr/local/share/SuperCollider/HelpSource/Classes/EnvelopeView.schelp'>/usr/local/share/SuperCollider/HelpSource/Classes/EnvelopeView.schelp</a><br>link::Classes/EnvelopeView::<br>sc version: 3.8dev</div></div></body></html>