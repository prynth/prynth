<html><head><title>Thread</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='./../prettify.js' type='text/javascript'></script>
<script src='./../lang-sc.js' type='text/javascript'></script>
<script type='text/javascript'>var helpRoot='./..';</script>
</head>
<ul id='menubar'></ul>
<body onload='fixTOC();prettyPrint()'>
<div class='contents'>
<div class='header'>
<div id='label'>SuperCollider CLASSES</div>
<div id='categories'><a href='./../Browse.html#Core>Kernel'>Core>Kernel</a></div>
<h1>Thread</h1>
<div id='summary'>The context of code evaluation</div>
</div>
<div class='subheader'>
<div id='filename'>Source: /usr/local/share/SuperCollider/SCClassLibrary/Common/Core/<a href='file:///usr/local/share/SuperCollider/SCClassLibrary/Common/Core/Thread.sc'>Thread.sc</a></div><div id='superclasses'>Inherits from: <a href="../Classes/Stream.html">Stream</a> : <a href="../Classes/AbstractFunction.html">AbstractFunction</a> : <a href="../Classes/Object.html">Object</a></div>
<div id='subclasses'>Subclasses: <a href="../Classes/Routine.html">Routine</a></div>
<div id='related'>See also: <a href="./../Classes/Routine.html">Routine</a></div>
</div>
<div id='toc'>
<ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'><li class='toc3'><a href='#.thisThread'>thisThread</a> </li>
</ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*new'>new</a> </li>
<li class='toc2'><a href='#Inherited class methods'>Inherited class methods</a></li>
<li class='toc2'><a href='#Undocumented class methods'>Undocumented class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*primitiveError'>primitiveError</a> </li>
<li class='toc3'><a href='#*primitiveErrorString'>primitiveErrorString</a> </li>
</ul></ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-parent'>parent</a> </li>
<li class='toc3'><a href='#-beats'>beats</a> </li>
<li class='toc3'><a href='#-seconds'>seconds</a> </li>
<li class='toc3'><a href='#-clock'>clock</a> </li>
<li class='toc3'><a href='#-isPlaying'>isPlaying</a> </li>
<li class='toc3'><a href='#-state'>state</a> </li>
<li class='toc2'><a href='#Seeding the random number generator'>Seeding the random number generator</a></li>
<ul class='toc'><li class='toc3'><a href='#-randSeed'>randSeed</a> </li>
<li class='toc3'><a href='#-randData'>randData</a> </li>
</ul><li class='toc2'><a href='#Inherited instance methods'>Inherited instance methods</a></li>
<li class='toc2'><a href='#Undocumented instance methods'>Undocumented instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-archiveAsCompileString'>archiveAsCompileString</a> </li>
<li class='toc3'><a href='#-checkCanArchive'>checkCanArchive</a> </li>
<li class='toc3'><a href='#-copy'>copy</a> </li>
<li class='toc3'><a href='#-endBeat'>endBeat</a> </li>
<li class='toc3'><a href='#-endValue'>endValue</a> </li>
<li class='toc3'><a href='#-exceptionHandler'>exceptionHandler</a> </li>
<li class='toc3'><a href='#-executingPath'>executingPath</a> </li>
<li class='toc3'><a href='#-failedPrimitiveName'>failedPrimitiveName</a> </li>
<li class='toc3'><a href='#-findThreadPlayer'>findThreadPlayer</a> </li>
<li class='toc3'><a href='#-handleError'>handleError</a> </li>
<li class='toc3'><a href='#-next'>next</a> </li>
<li class='toc3'><a href='#-nextBeat'>nextBeat</a> </li>
<li class='toc3'><a href='#-oldExecutingPath'>oldExecutingPath</a> </li>
<li class='toc3'><a href='#-primitiveError'>primitiveError</a> </li>
<li class='toc3'><a href='#-primitiveIndex'>primitiveIndex</a> </li>
<li class='toc3'><a href='#-threadPlayer'>threadPlayer</a> </li>
<li class='toc3'><a href='#-value'>value</a> </li>
<li class='toc3'><a href='#-valueArray'>valueArray</a> </li>
</ul></ul></ul></div><h2><a class='anchor' name='description'>Description</a></h2>
<div class='note'><span class='notelabel'>NOTE:</span> A SuperCollider Thread is <strong>not an operating system thread</strong>. Although they have some conceptual similarities, they do not correspond.</div>
<p>A Thread represents the <strong>context</strong> within which code runs. It is also said that code runs "<em>on</em> a Thread". A Thread records the <strong>state</strong> of code execution, and thus provides support for code to be suspended at any time, and then resumed where it left off. It is then said that the Thread itself is <strong>suspended and resumed</strong>.
<p>There is always one <a href="./../Classes/Process.html#-mainThread">main Thread</a> belonging to the <a href="./../Classes/Process.html">Process</a> - it is the Thread on which the top-level code runs. Another Thread may be started using an instance of the Thread's subclass <a href="./../Classes/Routine.html">Routine</a> which will run a <a href="./../Classes/Function.html">Function</a> in the context of its own (there is no use in instantiating the Thread class itself).
<p>When code on a Thread starts or resumes another Thread (Routine), the former Thread becomes the latter's <strong>parent</strong>, and the latter its <strong>child</strong>. The parent Thread's execution is <strong>blocked</strong> until the child Thread finishes or is suspended, at which point the parent Thread continues execution. The <strong>current</strong> Thread may be accessed using <a href="#.thisThread">thisThread</a>, while a Thread's parent may be accessed using <a href="#-parent">-parent</a>.
<p>A Thread has<ul>
<li>associated <a href="#-beats">logical time</a><li>an associated <a href="#-clock">Clock</a><li>own <a href="#-randSeed">random number seed</a><li>own <a href="#-exceptionHandler">exception handler</a></ul>
<h3 class='imethodname'><span class='methprefix'>&nbsp;</span><a name='.thisThread' href='./../Overviews/Methods.html#thisThread'>thisThread</a> </h3>
<div class='method'>
<p>The global pseudo-variable <code class='code prettyprint lang-sc'>thisThread</code> always represents the current Thread, i.e. the context in which the current code is running. It can be either the <a href="./../Classes/Process.html#-mainThread">main Thread</a> or the <a href="./../Classes/Routine.html">Routine</a> running the current code.
<p>See also: <a href="./../Classes/Clock.html#Scheduling and Threads">Clock: Scheduling and Threads</a>.<pre class='code prettyprint lang-sc'>// example
thisThread.beats;
thisThread.seconds;
thisThread.clock;</pre>
</div><h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*new' href='./../Overviews/Methods.html#new'>new</a> (<span class='argstr'>func</span>, <span class='argstr'>stackSize: 512</span>)</h3>
<div class='method'>
<p>Creates an instance of Thread, passing it the Function with code to run.<div class='note'><span class='notelabel'>NOTE:</span> There is no good use in instantiating a Thread, because this class offers no method of starting the given Function. Instead, use the Thread's subclass <a href="./../Classes/Routine.html">Routine</a>. The only purpose of this constructor is for Routine to call it within its own constructor.</div><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>func<td class='argumentdesc'>
<p>A Function with code for the Thread to run.<tr><td class='argumentname'>stackSize<td class='argumentdesc'>
<p>Call stack size (an Integer).</table></div><h3><a class='anchor' name='Inherited class methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h3><a class='anchor' name='Undocumented class methods'>Undocumented class methods</a></h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*primitiveError' href='./../Overviews/Methods.html#primitiveError'>primitiveError</a> </h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*primitiveErrorString' href='./../Overviews/Methods.html#primitiveErrorString'>primitiveErrorString</a> </h3>
<h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-parent' href='./../Overviews/Methods.html#parent'>parent</a> </h3>
<div class='method'>
<p>The parent Thread that started or resumed this Thread.<h4>Discussion:</h4>

<p>The parent Thread's execution is blocked until the child Thread finishes or is suspended.
<p>When a child Thread is started or resumed, it inherits certain aspects from its parent:<ul>
<li>associated <a href="#-clock">Clock</a><li>associated <a href="#-beats">logical time</a></ul>
</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-beats' href='./../Overviews/Methods.html#beats'>beats</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-beats' href='./../Overviews/Methods.html#beats'>beats</a> = <span class='argstr'>inBeats</span></h3>
<div class='method'>
<p>Get or set the current logical time of the Thread in beats. This will be the same as the time in seconds, unless this Thread's <a href="#-clock">clock</a> is <a href="./../Classes/TempoClock.html">TempoClock</a>, and the clock's <a href="./../Classes/TempoClock.html#-tempo">tempo</a> is other than <code class='code prettyprint lang-sc'>1</code>.
<p>Setting <code class='code prettyprint lang-sc'>beats</code> also sets <a href="#-seconds">-seconds</a> to <code class='code prettyprint lang-sc'>thisThread.clock.beats2secs(beats)</code>.<h4>Discussion:</h4>

<p>There are several sources of logical time:<ul>
<li>When code is run from the code editor, the command line, or in response to OSC and MIDI messages, the <a href="./../Classes/Process.html#-mainThread">main Thread</a>'s logical time is set to the current <strong>physical time</strong> (see <a href="./../Classes/Process.html#*elapsedTime">Process: *elapsedTime</a>).<li>When code <strong>scheduled</strong> on a <a href="./../Classes/Clock.html">Clock</a> is run, the <a href="./../Classes/Process.html#-mainThread">main Thread</a>'s logical time is set to the time the code was scheduled for.<li>Child Threads <strong>inherit</strong> logical time from their <a href="#-parent">parents</a> - whenever a Thread (Routine) is started or resumed, its logical time is set to that of the parent Thread.</ul>

<p>However, a Thread's logical time may also be set <strong>manually</strong> (using this method or <a href="#-seconds">-seconds</a>). It may be useful to change the <strong>current</strong> Thread's time in order to manipulate behavior of streams that use the current logical time for their operation (e.g. streams created by <a href="./../Classes/Pstep.html">Pstep</a> and <a href="./../Classes/Pseg.html">Pseg</a> patterns). This will affect all code running within the current Thread, as well as any child Threads, due to logical time inheritance. Note however that changing <strong>another</strong> Thread's time will have no effect, because the time will be overridden by inheritance as soon as the Thread is run; likewise, any changes to the current Thread's time only have effect until the Thread is suspended (it <a href="./../Classes/Object.html#-yield">yields</a>) and resumed again.
<p>See also: <a href="./../Classes/Clock.html#Scheduling and Threads">Clock: Scheduling and Threads</a>.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-seconds' href='./../Overviews/Methods.html#seconds'>seconds</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-seconds' href='./../Overviews/Methods.html#seconds'>seconds</a> = <span class='argstr'>inSeconds</span></h3>
<div class='method'>
<p>Get or set the current logical time of the Thread in seconds.
<p>Setting <code class='code prettyprint lang-sc'>seconds</code> also sets <a href="#-beats">-beats</a> to <code class='code prettyprint lang-sc'>thisThread.clock.secs2beats(seconds)</code>.
<p>See <a href="#-beats">-beats</a> for general discussion on Threads and logical time.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-clock' href='./../Overviews/Methods.html#clock'>clock</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-clock' href='./../Overviews/Methods.html#clock'>clock</a> = <span class='argstr'>inClock</span></h3>
<div class='method'>
<p>Get or set the Thread's associated <a href="./../Classes/Clock.html">Clock</a>.<h4>Discussion:</h4>

<p>There are several ways a Clock becomes associated with a Thread:<ul>
<li>When code is run from the code editor, the command line, or in response to OSC and MIDI messages, the <a href="./../Classes/Process.html#-mainThread">main Thread</a>'s clock is set to <a href="./../Classes/SystemClock.html">SystemClock</a>.<li>When code <strong>scheduled</strong> on a Clock is run, that clock becomes the <a href="./../Classes/Process.html#-mainThread">main Thread</a>'s clock.<li>Child Threads <strong>inherit</strong> the associated clock from their <a href="#-parent">parents</a>.</ul>

<p>A Thread's associated clock may also be set <strong>manually</strong> using this method. Setting the <strong>current</strong> Thread's clock is useful to manipulate further behavior of the Thread or its child Threads, but the clock will be reset the next time the Thread is resumed, due to clock inheritance. For the same reason, setting <strong>another</strong> Thread's clock will have no effect on code running on it.
<p>See also: <a href="./../Classes/Clock.html#Scheduling and Threads">Clock: Scheduling and Threads</a>.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-isPlaying' href='./../Overviews/Methods.html#isPlaying'>isPlaying</a> </h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>true if it is playing.</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-state' href='./../Overviews/Methods.html#state'>state</a> </h3>
<div class='method'>
<p>The internal state values for a Thread instance can be polled:<table>
<tr><td>0<td>not started<tr><td>7<td>running<tr><td>8<td>stopped</table>
</div><h3><a class='anchor' name='Seeding the random number generator'>Seeding the random number generator</a></h3>

<p>see also: <a href="./../Reference/randomSeed.html">Random Seed</a><h3 class='imethodname'><span class='methprefix'>-</span><a name='-randSeed' href='./../Overviews/Methods.html#randSeed'>randSeed</a><h3 class='imethodname'><span class='methprefix'>-</span><a name='-randSeed' href='./../Overviews/Methods.html#randSeed'>randSeed</a> = <span class='argstr'>seed</span></h3>
<div class='method'>
<p>Set the random number generator seed using a single integer.<h4>Discussion:</h4>

<p>Example:<pre class='code prettyprint lang-sc'>g = thisThread.randSeed = 4;
10.do{1.0.rand2.postln};</pre>
</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-randData' href='./../Overviews/Methods.html#randData'>randData</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-randData' href='./../Overviews/Methods.html#randData'>randData</a> = <span class='argstr'>data</span></h3>
<div class='method'>
<p>Get or set the three integer array which defines the internal basis for the random number generator. You can use this to get back the exact same random number sequence, and it provides a mechanism for automatic replay for generative music.<h4>Discussion:</h4>

<p>Example:<pre class='code prettyprint lang-sc'>g = thisThread.randData;
10.do{1.0.rand2.postln};</pre>

<p><pre class='code prettyprint lang-sc'>// each time the seed is reset, the random number generation should give the same sequence
thisThread.randData_(Int32Array[ -662787342, 1546785953, 1661466823 ]);
10.do{1.0.rand2.postln};</pre>
</div><h3><a class='anchor' name='Inherited instance methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h3><a class='anchor' name='Undocumented instance methods'>Undocumented instance methods</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-archiveAsCompileString' href='./../Overviews/Methods.html#archiveAsCompileString'>archiveAsCompileString</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-checkCanArchive' href='./../Overviews/Methods.html#checkCanArchive'>checkCanArchive</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-copy' href='./../Overviews/Methods.html#copy'>copy</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-endBeat' href='./../Overviews/Methods.html#endBeat'>endBeat</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-endBeat' href='./../Overviews/Methods.html#endBeat'>endBeat</a> = value</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-endValue' href='./../Overviews/Methods.html#endValue'>endValue</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-endValue' href='./../Overviews/Methods.html#endValue'>endValue</a> = value</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-exceptionHandler' href='./../Overviews/Methods.html#exceptionHandler'>exceptionHandler</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-exceptionHandler' href='./../Overviews/Methods.html#exceptionHandler'>exceptionHandler</a> = value</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-executingPath' href='./../Overviews/Methods.html#executingPath'>executingPath</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-failedPrimitiveName' href='./../Overviews/Methods.html#failedPrimitiveName'>failedPrimitiveName</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-findThreadPlayer' href='./../Overviews/Methods.html#findThreadPlayer'>findThreadPlayer</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-handleError' href='./../Overviews/Methods.html#handleError'>handleError</a> (<span class='argstr'>error</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-next' href='./../Overviews/Methods.html#next'>next</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-nextBeat' href='./../Overviews/Methods.html#nextBeat'>nextBeat</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-oldExecutingPath' href='./../Overviews/Methods.html#oldExecutingPath'>oldExecutingPath</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-primitiveError' href='./../Overviews/Methods.html#primitiveError'>primitiveError</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-primitiveIndex' href='./../Overviews/Methods.html#primitiveIndex'>primitiveIndex</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-threadPlayer' href='./../Overviews/Methods.html#threadPlayer'>threadPlayer</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-threadPlayer' href='./../Overviews/Methods.html#threadPlayer'>threadPlayer</a> = value</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-value' href='./../Overviews/Methods.html#value'>value</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-valueArray' href='./../Overviews/Methods.html#valueArray'>valueArray</a> </h3>
<div class='doclink'>source: <a href='file:///usr/local/share/SuperCollider/HelpSource/Classes/Thread.schelp'>/usr/local/share/SuperCollider/HelpSource/Classes/Thread.schelp</a><br>link::Classes/Thread::<br>sc version: 3.8dev</div></div></body></html>