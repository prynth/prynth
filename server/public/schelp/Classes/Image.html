<!doctype html><html lang='en'><head><title>Image | SuperCollider 3.11.2 Help</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../codemirror.css' type='text/css' />
<link rel='stylesheet' href='./../editor.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../lib/jquery.min.js'></script>
<script src='./../lib/codemirror-5.39.2.min.js' type='text/javascript'></script>
<script src='./../lib/codemirror-addon-simple-5.39.2.min.js' type='text/javascript'></script>
<script>
var helpRoot = './..';
var scdoc_title = 'Image';
var scdoc_sc_version = '3.11.2';
</script>
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='qrc:///qtwebchannel/qwebchannel.js' type='text/javascript'></script>
</head>
<body onload='fixTOC()'>
<div id='toc'>
<div id='toctitle'>Image:</div>
<span class='toc_search'>Filter: <input id='toc_search'></span><ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*new'>new</a> </li>
<li class='toc3'><a href='#*color'>color</a> </li>
<li class='toc3'><a href='#*open'>open</a> </li>
<li class='toc3'><a href='#*openSVG'>openSVG</a> </li>
<li class='toc3'><a href='#*openURL'>openURL</a> </li>
<li class='toc3'><a href='#*fromImage'>fromImage</a> </li>
<li class='toc3'><a href='#*fromWindow'>fromWindow</a> </li>
<li class='toc3'><a href='#*closeAllPlotWindows'>closeAllPlotWindows</a> </li>
<li class='toc3'><a href='#*colorToPixel'>colorToPixel</a> </li>
<li class='toc3'><a href='#*pixelToColor'>pixelToColor</a> </li>
<li class='toc2'><a href='#Class%20variables%20and%20attributes'>Class variables and attributes</a></li>
<ul class='toc'><li class='toc3'><a href='#*formats'>formats</a> </li>
<li class='toc3'><a href='#*compositingOperations'>compositingOperations</a> </li>
<li class='toc3'><a href='#*interpolations'>interpolations</a> </li>
<li class='toc3'><a href='#*resizeModes'>resizeModes</a> </li>
<li class='toc3'><a href='#*allPlotWindows'>allPlotWindows</a> </li>
</ul><li class='toc2'><a href='#Inherited%20class%20methods'>Inherited class methods</a></li>
</ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc2'><a href='#commons%20/%20general%20attributes'>commons / general attributes</a></li>
<ul class='toc'><li class='toc3'><a href='#-width'>width</a> </li>
<li class='toc3'><a href='#-height'>height</a> </li>
<li class='toc3'><a href='#-setSize'>setSize</a> </li>
<li class='toc3'><a href='#-bounds'>bounds</a> </li>
<li class='toc3'><a href='#-free'>free</a> </li>
<li class='toc3'><a href='#-scalesWhenResized'>scalesWhenResized</a> </li>
<li class='toc3'><a href='#-url'>url</a> </li>
<li class='toc3'><a href='#-interpolation'>interpolation</a> </li>
</ul><li class='toc2'><a href='#saving%20and%20archiving'>saving and archiving</a></li>
<ul class='toc'><li class='toc3'><a href='#-write'>write</a> </li>
</ul><li class='toc2'><a href='#rendering'>rendering</a></li>
<ul class='toc'><li class='toc3'><a href='#-plot'>plot</a> </li>
<li class='toc3'><a href='#-draw'>draw</a> </li>
<li class='toc3'><a href='#-drawStringAtPoint'>drawStringAtPoint</a> </li>
<li class='toc3'><a href='#-drawAtPoint'>drawAtPoint</a> </li>
<li class='toc3'><a href='#-drawInRect'>drawInRect</a> </li>
<li class='toc3'><a href='#-tileInRect'>tileInRect</a> </li>
</ul><li class='toc2'><a href='#Instance%20Methods%20/%20accessing%20and%20setting%20pixels'>Instance Methods / accessing and setting pixels</a></li>
<ul class='toc'><li class='toc3'><a href='#-setPixel'>setPixel</a> </li>
<li class='toc3'><a href='#-getPixel'>getPixel</a> </li>
<li class='toc3'><a href='#-setColor'>setColor</a> </li>
<li class='toc3'><a href='#-getColor'>getColor</a> </li>
<li class='toc3'><a href='#-pixels'>pixels</a> </li>
<li class='toc3'><a href='#-loadPixels'>loadPixels</a> </li>
<li class='toc3'><a href='#-setPixels'>setPixels</a> </li>
<li class='toc3'><a href='#-pixelRatio'>pixelRatio</a> </li>
</ul><li class='toc2'><a href='#Inherited%20instance%20methods'>Inherited instance methods</a></li>
<li class='toc2'><a href='#Undocumented%20instance%20methods'>Undocumented instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-archiveAsCompileString'>archiveAsCompileString</a> </li>
<li class='toc3'><a href='#-copy'>copy</a> </li>
<li class='toc3'><a href='#-fill'>fill</a> </li>
<li class='toc3'><a href='#-isValid'>isValid</a> </li>
<li class='toc3'><a href='#-name'>name</a> </li>
<li class='toc3'><a href='#-smooth'>smooth</a> </li>
</ul></ul></ul></div><div id='menubar'></div>
<div class='contents'>
<div class='header'>
<div id='label'>
<span id='folder'>Classes</span>
 | <span id='categories'><a href='./../Browse.html#GUI'>GUI</a>&#8201;&gt;&#8201;<a href='./../Browse.html#GUI>Views'>Views</a></span>
</div><h1>Image<span id='superclasses'> : <a href="../Classes/Object.html">Object</a></span>
</h1>
<div id='summary'>image component</div>
</div>
<div class='subheader'>
<div id='filename'>Source: <a href='file:///usr/share/SuperCollider/SCClassLibrary/Common/GUI/Base/QImage.sc' title='/usr/share/SuperCollider/SCClassLibrary/Common/GUI/Base/QImage.sc'>QImage.sc</a></div><div id='subclasses'>Subclasses: <a href="../Classes/QImage.html">QImage</a></div>
<div id='related'>See also: <a href="./../Classes/View.html">View</a></div>
</div>
<h2><a class='anchor' name='description'>Description</a></h2>

<p>Image enables the drawing of images in the SuperCollider GUI.<h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3 class='method-code'><span class='method-prefix'>Image.</span><a class='method-name' name='*new' href='./../Overviews/Methods.html#new'>new</a>(<span class='argstr'>multiple</span>, <span class='argstr'>height</span>)</h3>
<div class='method'>
<p>Creates a new Image instance. "multiple" here stands for multiple arguments.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>multiple<td class='argumentdesc'>
<p>Any of the following:<ul>
<li><a href="./../Classes/Number.html">Number</a> to create an <strong>empty</strong> image of size multiple as width and height<textarea class='editor'>i = Image.new(400);        // Create a 400x400 pixel Image.
i.bounds;
i.free;

i = Image.new(400, 200);    // Create a 400x200 pixel Image.
i.bounds;
i.free;</textarea>

<p><li><a href="./../Classes/Point.html">Point</a> to create an <strong>empty</strong> image of size multiple.x as width and multiple.y as height<textarea class='editor'>i = Image.new(400@200);    // Create a 400x200 pixel Image.
i.bounds;
i.free;</textarea>

<p><li><a href="./../Classes/String.html">String</a> to create an image from a <strong>local file</strong><textarea class='editor'>//    Path string
i = Image.new(SCDoc.helpSourceDir +/+ "images/Swamp.png"); // add a path to your image
[i.width, i.height].postln;
i.bounds;
i.plot;
i.free;</textarea>
</ul>
<tr><td class='argumentname'>height<td class='argumentdesc'>
<p>If <strong>multiple</strong> is a number, then this argument indicates the height of the new image.</table></div><h3 class='method-code'><span class='method-prefix'>Image.</span><a class='method-name' name='*color' href='./../Overviews/Methods.html#color'>color</a>( <span class='argstr'>... args</span>)</h3>
<div class='method'>
<p>Creates a new Image instance filled with the specified color.<textarea class='editor'>i = Image.color(400, 200, Color.blue(0.9,0.1));
i.plot(freeOnClose:true);</textarea>
<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>... args<td class='argumentdesc'>
<p>Multiple arguments. the last argument should be a valid <a href="./../Classes/Color.html">Color</a></table></div><h3 class='method-code'><span class='method-prefix'>Image.</span><a class='method-name' name='*open' href='./../Overviews/Methods.html#open'>open</a>(<span class='argstr'>path</span>)</h3>
<div class='method'>
<p>Creates a new Image instance from the local file at <strong>path</strong>.<textarea class='editor'>(
i = Image.open(SCDoc.helpSourceDir +/+ "images/Swamp.png");
i.plot(freeOnClose:true);
i.url.postln;
)</textarea>
</div><h3 class='method-code'><span class='method-prefix'>Image.</span><a class='method-name' name='*openSVG' href='./../Overviews/Methods.html#openSVG'>openSVG</a>(<span class='argstr'>path</span>, <span class='argstr'>size</span>)</h3>
<div class='method'>
<p>Creates a new Image instance from the local SVG file at <strong>path</strong>.<textarea class='editor'>(
i = Image.openSVG(SCDoc.helpSourceDir +/+ "images/plugin.svg", 200@200);
i.plot(freeOnClose:true);
i.url.postln;
)</textarea>
<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>path<td class='argumentdesc'>
<p>A String containing the SVG file's path.<tr><td class='argumentname'>size<td class='argumentdesc'>
<p>A <a href="./../Classes/Size.html">Size</a>. SVG contents will be drawn into an image of this size. If not provided, suggested size provided by SVG will be used.</table></div><h3 class='method-code'><span class='method-prefix'>Image.</span><a class='method-name' name='*openURL' href='./../Overviews/Methods.html#openURL'>openURL</a>(<span class='argstr'>url</span>, <span class='argstr'>timeout: 60</span>)</h3>
<div class='method'><div class='note'><span class='notelabel'>NOTE:</span> Not implemented yet.</div>
<p>Creates a new Image instance from a valid image at the specified URL <strong>path</strong>.<textarea class='editor'>i = Image.openURL(SCDoc.helpSourceDir +/+ "images/Swamp.png");
i.url;
w = i.plot(freeOnClose:true);</textarea>
</div><h3 class='method-code'><span class='method-prefix'>Image.</span><a class='method-name' name='*fromImage' href='./../Overviews/Methods.html#fromImage'>fromImage</a>(<span class='argstr'>image</span>)</h3>
<div class='method'>
<p>Creates a new Image instance from another Image.<textarea class='editor'>i = Image.new(SCDoc.helpSourceDir +/+ "images/Swamp.png");
j = Image.fromImage(i);
i.dump;
j.dump;
[i, j].do(_.plot);
[i, j].do(_.free);</textarea>
</div><h3 class='method-code'><span class='method-prefix'>Image.</span><a class='method-name' name='*fromWindow' href='./../Overviews/Methods.html#fromWindow'>fromWindow</a>(<span class='argstr'>window</span>, <span class='argstr'>rect</span>)</h3>
<div class='method'>
<p>Creates a new Image from a portion of a Window. this can be used to capture either a window or a specific View.<textarea class='editor'>// WINDOW Example:
// First create a window and draw inside of it
(
    w = Window.new;
    w.front; // comment this to copy offscreen window
    w.view.background_(Color.white);
    w.drawHook = {
        Pen.translate(100, 100);
        10.do{
            // set the Color
            Pen.color = Color.blue(rrand(0.0, 1), rrand(0.0, 0.5));
            Pen.addWedge((100.rand)@(100.rand), rrand(10, 100), 2pi.rand, 2pi.rand);
            Pen.perform([\stroke, \fill].choose);
        }
    };
    w.refresh;
)

// then grab the window
(
    i = Image.fromWindow(w);
    w.close;
    i.plot(freeOnClose:true);
)

// VIEW Capture Example:
// First create a window and add some views inside of it
(
    w = Window.new.front;
    b = [10, 80].asSpec;
    c = NumberBox(w, Rect(20, 20, 60, 40));
    a = Slider(w, Rect(20, 80, 100, 40))
        .focusColor_(Color.red(alpha:0.2))
        .action_({
            c.value_(b.map(a.value).round(0.01))
    // round the float so it will fit in the NumberBox
            });
)

// then grab the window
(
    i = Image.fromWindow(w, a.bounds);
    w.close;
    i.plot(freeOnClose:true);
)</textarea>
<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>window<td class='argumentdesc'>
<p>the Window object.<tr><td class='argumentname'>rect<td class='argumentdesc'>
<p>optional. the constrained rect to capture inside the Window. By default, it is the window size.</table></div><h3 class='method-code'><span class='method-prefix'>Image.</span><a class='method-name' name='*closeAllPlotWindows' href='./../Overviews/Methods.html#closeAllPlotWindows'>closeAllPlotWindows</a></h3>
<div class='method'>
<p>Close all the Image plot windows currently opened.</div><h3 class='method-code'><span class='method-prefix'>Image.</span><a class='method-name' name='*colorToPixel' href='./../Overviews/Methods.html#colorToPixel'>colorToPixel</a>(<span class='argstr'>color</span>)</h3>
<div class='method'>
<p>Convert a <a href="./../Classes/Color.html">Color</a> into a pixel datatype suitable for setting pixel data in the Image class.<h4>Returns:</h4>
<div class='returnvalue'>
<p>A 32bit packed Integer in the RGBA format.</div></div><h3 class='method-code'><span class='method-prefix'>Image.</span><a class='method-name' name='*pixelToColor' href='./../Overviews/Methods.html#pixelToColor'>pixelToColor</a>(<span class='argstr'>pixel</span>)</h3>
<div class='method'>
<p>Convert a 32bit packed Integer in the RGBA format into a <a href="./../Classes/Color.html">Color</a><h4>Returns:</h4>
<div class='returnvalue'>
<p>A <a href="./../Classes/Color.html">Color</a></div></div><h3><a class='anchor' name='Class%20variables%20and%20attributes'>Class variables and attributes</a></h3>
<h3 class='method-code'><span class='method-prefix'>Image.</span><a class='method-name' name='*formats' href='./../Overviews/Methods.html#formats'>formats</a>(<span class='argstr'>rw: "r"</span>)</h3>
<div class='method'>
<p>returns all the valid image formats as an <a href="./../Classes/Array.html">Array</a><textarea class='editor'>Image.formats;</textarea>
</div><h3 class='method-code'><span class='method-prefix'>Image.</span><a class='method-name' name='*compositingOperations' href='./../Overviews/Methods.html#compositingOperations'>compositingOperations</a></h3>
<div class='method'>
<p>returns all the valid compositing operations you can use when drawing an Image as an <a href="./../Classes/Array.html">Array</a><textarea class='editor'>Image.compositingOperations;</textarea>
</div><h3 class='method-code'><span class='method-prefix'>Image.</span><a class='method-name' name='*interpolations' href='./../Overviews/Methods.html#interpolations'>interpolations</a></h3>
<div class='method'>
<p>returns an <a href="./../Classes/Array.html">Array</a> of the different levels of interpolation you can specify when drawing an Image.<textarea class='editor'>Image.interpolations;</textarea>
</div><h3 class='method-code'><span class='method-prefix'>Image.</span><a class='method-name' name='*resizeModes' href='./../Overviews/Methods.html#resizeModes'>resizeModes</a></h3>
<div class='method'>
<p>returns an <a href="./../Classes/Array.html">Array</a> of the different resize modes you can specify when changing the size of an Image.<textarea class='editor'>Image.resizeModes;</textarea>
</div><h3 class='method-code'><span class='method-prefix'>Image.</span><a class='method-name' name='*allPlotWindows' href='./../Overviews/Methods.html#allPlotWindows'>allPlotWindows</a></h3>
<div class='method'>
<p>Returns an array of all the Image plot windows currently opened.<textarea class='editor'>Image.allPlotWindows</textarea>
</div><h3><a class='anchor' name='Inherited%20class%20methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3><a class='anchor' name='commons%20/%20general%20attributes'>commons / general attributes</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-width' href='./../Overviews/Methods.html#width'>width</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-width' href='./../Overviews/Methods.html#width'>width</a> = <span class='argstr'>w</span></h3>
<div class='method'>
<p>returns or set the width of the receiver</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-height' href='./../Overviews/Methods.html#height'>height</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-height' href='./../Overviews/Methods.html#height'>height</a> = <span class='argstr'>h</span></h3>
<div class='method'>
<p>returns or set the height of the receiver</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-setSize' href='./../Overviews/Methods.html#setSize'>setSize</a>(<span class='argstr'>width</span>, <span class='argstr'>height</span>, <span class='argstr'>resizeMode</span>)</h3>
<div class='method'>
<p>set the size of the receiver</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-bounds' href='./../Overviews/Methods.html#bounds'>bounds</a></h3>
<div class='method'>
<p>returns the bounds of the receiver.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-free' href='./../Overviews/Methods.html#free'>free</a></h3>
<div class='method'>
<p>deallocate the receiver. this method is useful if you want to manage and reclaim yourself resources. otherwise you do not need to call this method since each object is automatically garbage collected.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-scalesWhenResized' href='./../Overviews/Methods.html#scalesWhenResized'>scalesWhenResized</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-scalesWhenResized' href='./../Overviews/Methods.html#scalesWhenResized'>scalesWhenResized</a> = value</h3>
<div class='method'>
<p>flag to tell or set if the receiver should update its bitmap representation to scale when a resize operation if performed<textarea class='editor'>(
i = Image.new(SCDoc.helpSourceDir +/+ "images/Swamp.png");
i.bounds.postln; // getting the dimensions
w =i.plot;
)

// changing the size of an image
(
i.scalesWhenResized_(true);
i.setSize(400, (400 / (i.width / i.height)).asInteger);
a =i.plot;
)

(
a.close; w.close; i.free;
)</textarea>
</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-url' href='./../Overviews/Methods.html#url'>url</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-url' href='./../Overviews/Methods.html#url'>url</a> = <span class='argstr'>newURL</span></h3>
<div class='method'>
<p>returns or set the url of the receiver. Returning only if any where supplied at creation, otherwise returns nil. Setting may be used for different purpose but try to supply a valid one since it is used for archiving the image as an object.<textarea class='editor'>i = Image.new("http://www.google.com/intl/en_ALL/images/logo.gif");
i.url;
i.plot;
i.free;</textarea>
</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-interpolation' href='./../Overviews/Methods.html#interpolation'>interpolation</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-interpolation' href='./../Overviews/Methods.html#interpolation'>interpolation</a> = <span class='argstr'>mode</span></h3>
<div class='method'>
<p>get or set the level of interpolation used when rendering the image - it has not effect when the Image is accelerated. see <a href="#*interpolations">*interpolations</a> for a valid range of values.<textarea class='editor'>(
i = Image.new(SCDoc.helpSourceDir +/+ "images/Swamp.png");
w = i.plot;
i.interpolation;            // get the image currrent interpolation mode
)

(
i.interpolation = 'fast';        // experiment with interpolation modes
w.refresh;
)

(
i.interpolation = 'smooth';
w.refresh;
)

i.free;</textarea>
</div><h3><a class='anchor' name='saving%20and%20archiving'>saving and archiving</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-write' href='./../Overviews/Methods.html#write'>write</a>(<span class='argstr'>path</span>, <span class='argstr'>format</span>, <span class='argstr'>quality: -1</span>)</h3>
<div class='method'>
<p>write the Image to a file.<textarea class='editor'>i = Image.new(SCDoc.helpSourceDir +/+ "images/Swamp.png");
i.dump
i.write("~/Desktop/my_image.png".standardizePath);
i.free;

//    storeOn / asCompileString
i = Image.new(SCDoc.helpSourceDir +/+ "images/Swamp.png");

i.url;
i.asCompileString;
i.writeArchive("~/Desktop/my_image.scd".standardizePath);

i.free;
i = nil;

Document.open("~/Desktop/my_image.scd".standardizePath);

i = Object.readArchive("~/Desktop/my_image.scd".standardizePath);
i.plot;
i.free;</textarea>
<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>path<td class='argumentdesc'>
<p>the location where to save it<tr><td class='argumentname'>format<td class='argumentdesc'>
<p>(optional) format to use. see Image.formats for supported formats. If nil, it will get the format depending on the path extension.<tr><td class='argumentname'>quality<td class='argumentdesc'>
<p>The quality factor must be in the range 0 to 100 or -1. Specify 0 to obtain small compressed files, 100 for large uncompressed files, and -1 (the default) to use the default settings.</table></div><h3><a class='anchor' name='rendering'>rendering</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-plot' href='./../Overviews/Methods.html#plot'>plot</a>(<span class='argstr'>name</span>, <span class='argstr'>bounds</span>, <span class='argstr'>freeOnClose: false</span>, <span class='argstr'>background</span>, <span class='argstr'>showInfo: true</span>)</h3>
<div class='method'>
<p>plots the image in a Window.<textarea class='editor'>i = Image.new(SCDoc.helpSourceDir +/+ "images/Swamp.png");
w = i.plot;
w.close;

w = i.plot(showInfo:false);
w.close;
i.free;

// other option - image will be automatically freed when closed
Image.new(SCDoc.helpSourceDir +/+ "images/Swamp.png").plot("Hello", freeOnClose:true);</textarea>
<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>name<td class='argumentdesc'>
<p>the title of the Window. may be nil.<tr><td class='argumentname'>bounds<td class='argumentdesc'>
<p>the bounds of the Window. may be nil.<tr><td class='argumentname'>freeOnClose<td class='argumentdesc'>
<p>flag to tell if the Window should free the Image when closed.<tr><td class='argumentname'>background<td class='argumentdesc'>
<p>additional background to apply to the Window. may be useful for artifacts due to alpha / compositing...<tr><td class='argumentname'>showInfo<td class='argumentdesc'>
<p>shows pixel coordinates while the mouse is over the image's plot window.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-draw' href='./../Overviews/Methods.html#draw'>draw</a>(<span class='argstr'>aFunction</span>)</h3>
<div class='method'>
<p>shortcut for drawing inside an image. equivalent to :<ul>
<li>receiver.lockFocus<li>aFunction<li>receiver.unlockFocus</ul>

<p><textarea class='editor'>(
    j = Image.new(400,300);
    j.draw({ arg image;

        Pen.translate(100, 100);
        1000.do {
            // set the Color
            Pen.color = Color.green(rrand(0.0, 1), rrand(0.0, 0.5));
            Pen.addAnnularWedge(
                (100.rand)@(100.rand),
                rrand(10, 50),
                rrand(51, 100),
                2pi.rand,
                2pi.rand
            );
            Pen.perform([\stroke, \fill].choose);
        };
    }).plot(freeOnClose:true);
)

//    String drawing support on the image
//    drawStringAtPoint(string, point, font, color);
(
    j = Image.new(150,50);
    j.draw({ arg bounds;
        j.drawStringAtPoint("Hello, world!", 10@10, Font("Lucida Grande", 24), Color.black);
    });
)

j.plot;
j.write("~/Desktop/hello.png");
j.free;</textarea>
</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-drawStringAtPoint' href='./../Overviews/Methods.html#drawStringAtPoint'>drawStringAtPoint</a>(<span class='argstr'>string</span>, <span class='argstr'>point</span>, <span class='argstr'>font</span>, <span class='argstr'>color</span>)</h3>
<div class='method'>
<p>renders *correctly* a String inside an Image :) <code>// to fix to have a compliant interface</code><textarea class='editor'>(
    var width, height, tgHeight, ratio, str, font, color, strb, targetWidth=400, shadowColor, run = true;
    shadowColor = Color.black;

    color = Color.gray(0.8);
    str = "I Love Pixels";
    font = Font("Monaco", 10);
    strb = str.bounds(font);
    width = strb.width;
    height = strb.height;
    ratio = height / width;
    i = Image(width@(height));
    i.draw({|bb|
        Pen.smoothing_(false);
        i.drawStringAtPoint(str, 0@0, font, color);
    });
    i.interpolation_(\none);
    tgHeight = targetWidth * ratio;
    w = Window.new("", Rect(400,400, 450, 150)).drawHook_({
        Pen.setShadow(2@2, 0.4, color:Color.red);
        i.drawInRect(Rect(5,5,targetWidth, tgHeight));
    });

    w.view.background_(Color.white);
    w.onClose_({run = false; i.free;});
    w.front;
)</textarea>
</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-drawAtPoint' href='./../Overviews/Methods.html#drawAtPoint'>drawAtPoint</a>(<span class='argstr'>point</span>, <span class='argstr'>fromRect</span>, <span class='argstr'>operation: 'sourceOver'</span>, <span class='argstr'>fraction: 1.0</span>)</h3>
<div class='method'>
<p>render the image or a portion of it in the current graphic context.<textarea class='editor'>(
    var operation='sourceOver', fraction=1.0, i, w;

    i = Image.new(
    //    "http://supercollider.sourceforge.net/theme/sc01/icon.supercollider.gif"
    //    SCDoc.helpSourceDir +/+ "images/duck_alpha.png"
        SCDoc.helpSourceDir +/+ "images/Swamp.png"
    );

    w = Window.new("Image", Rect(120, 400, 360, 180)).front;

    Slider.new(w, Rect(10, 150, 150, 16))
        .value_(1.0)
        .action_({ arg sl;
            fraction = sl.value;
            w.refresh;
        });

    PopUpMenu.new(w, Rect(170, 150, 100, 16))
        .items_( Image.compositingOperations.collect({ arg i; i.asString }) )
        .value_(2)
        .action_({ arg pm;
            operation = Image.compositingOperations.at(pm.value);
            w.refresh;
        });

    w.onClose_({ i.free }); // free the image when the window is closed

    w.drawHook_({

        i.drawAtPoint(10@10, nil, operation, fraction);

    });
)</textarea>
<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>point<td class='argumentdesc'>
<p>the <a href="./../Classes/Point.html">Point</a> where to draw it<tr><td class='argumentname'>fromRect<td class='argumentdesc'>
<p>the portion of the Image to use<tr><td class='argumentname'>operation<td class='argumentdesc'>
<p>the compositing operation to use. <code>'sourceOver'</code> is the default.<tr><td class='argumentname'>fraction<td class='argumentdesc'>
<p>the opacity to use, ranging from 0.0 (fully transparent) to 1.0 (fully opaque)</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-drawInRect' href='./../Overviews/Methods.html#drawInRect'>drawInRect</a>(<span class='argstr'>rect</span>, <span class='argstr'>fromRect</span>, <span class='argstr'>operation: 'sourceOver'</span>, <span class='argstr'>fraction: 1.0</span>)</h3>
<div class='method'>
<p>render the image or a portion of it in a specified rectangle of the current graphic context. This may stretch the image depending on the destination rect.<textarea class='editor'>(
    i = Image.new(
        // "http://supercollider.sourceforge.net/theme/sc01/icon.supercollider.gif"
        SCDoc.helpSourceDir +/+ "images/icon.supercollider.png"
    );

    w = Window.new("Image", Rect(120, 400, 360, 180)).front;
    w.onClose_({ i.free }); // free the image when the window is closed
    w.drawHook_({
        i.drawInRect(Rect(10,10,50,50), Rect(10,10,50,50), 2, 1.0); // only a section
    });
)</textarea>
<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>rect<td class='argumentdesc'>
<p>the <a href="./../Classes/Rect.html">Rect</a> where to draw it<tr><td class='argumentname'>fromRect<td class='argumentdesc'>
<p>the portion of the Image to use<tr><td class='argumentname'>operation<td class='argumentdesc'>
<p>the compositing operation to use. <code>'sourceOver'</code> is the default.<tr><td class='argumentname'>fraction<td class='argumentdesc'>
<p>the opacity to use, ranging from 0.0 (fully transparent) to 1.0 (fully opaque)</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-tileInRect' href='./../Overviews/Methods.html#tileInRect'>tileInRect</a>(<span class='argstr'>rect</span>, <span class='argstr'>fromRect</span>, <span class='argstr'>operation: 'sourceOver'</span>, <span class='argstr'>opacity: 1.0</span>)</h3>
<div class='method'>
<p>tile the image or a portion of it in a specified rectangle of the current graphic context. This may stretch the image depending on the destination rect.<textarea class='editor'>(
i = Image.new(
    // "http://supercollider.sourceforge.net/theme/sc01/icon.supercollider.gif"
    SCDoc.helpSourceDir +/+ "images/icon.supercollider.png"
);

w = Window.new("Image", Rect(120, 400, 360, 180)).front;
w.onClose_({ i.free }); // free the image when the window is closed
w.drawFunc_({
    i.tileInRect(w.view.bounds, nil, 2, 1.0); // all image contents
});
)</textarea>
<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>rect<td class='argumentdesc'>
<p>the <a href="./../Classes/Rect.html">Rect</a> where to draw it<tr><td class='argumentname'>fromRect<td class='argumentdesc'>
<p>the portion of the Image to use<tr><td class='argumentname'>operation<td class='argumentdesc'>
<p>the compositing operation to use. <code>'sourceOver'</code> is the default.<div class='note'><span class='notelabel'>NOTE:</span> Compositing operations are currently disabled for tileInRect</div><tr><td class='argumentname'>opacity<td class='argumentdesc'>
<p>the opacity to use, ranging from 0.0 (fully transparent) to 1.0 (fully opaque)</table></div><h3><a class='anchor' name='Instance%20Methods%20/%20accessing%20and%20setting%20pixels'>Instance Methods / accessing and setting pixels</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-setPixel' href='./../Overviews/Methods.html#setPixel'>setPixel</a>(<span class='argstr'>rgbaInteger</span>, <span class='argstr'>x</span>, <span class='argstr'>y</span>)</h3>
<div class='method'>
<p>fill a pixel located at x @ y.<textarea class='editor'>i = Image.color(60, 60, Color.blue(0.1,0.1));
w = i.plot;
i.setPixel(Image.colorToPixel(Color.new(1,0,0,1)), 0, 0); // setting red
w.refresh;
("pixel at 0 @ 0:"+Image.pixelToColor(i.getPixel(0,0)).asArray).postln;
i.free;</textarea>
<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>rgbaInteger<td class='argumentdesc'>
<p>an 32 bit <a href="./../Classes/Integer.html">Integer</a> containing color information packed as 8bit RGBA<tr><td class='argumentname'>x<td class='argumentdesc'>
<p>the x position of the pixel in the image<tr><td class='argumentname'>y<td class='argumentdesc'>
<p>the y position of the pixel in the image</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-getPixel' href='./../Overviews/Methods.html#getPixel'>getPixel</a>(<span class='argstr'>x</span>, <span class='argstr'>y</span>)</h3>
<div class='method'>
<p>retrieve the pixel value at x @ y as a RGBA integer<textarea class='editor'>// A simple example on how to manipulate pixels with Image
(
b = Int32Array[
    Image.colorToPixel(Color.new255(255,0,0,255)), // red
    Image.colorToPixel(Color.new255(0,255,0,255)), // green
    Image.colorToPixel(Color.new255(0,0,255,255)), // blue
    Image.colorToPixel(Color.new255(255,0,255,255)) // purple
];
)

Image.pixelToColor(b[0]).red; // 1.0 see Color -red
Image.pixelToColor(b[0]).green; // 0.0 see Color -green
Image.pixelToColor(b[0]).blue; // 0.0 see Color -blue
Image.pixelToColor(b[0]).alpha; // 1.0 see Color -alpha

a = Image.new(b.size@1).pixels_(b).interpolation_(\fast);
a.plot;


// Set + Get
a.setPixel(Image.colorToPixel(Color.new255(255, 0, 255, 128)) /* create an Integer from 0-255 integer rgba value */, 0, 0).plot;
p = a.getPixel(0,0);

Image.pixelToColor(p).red;// 1.0
Image.pixelToColor(p).green; // 0.0
Image.pixelToColor(p).blue; // 1.0
Image.pixelToColor(p).alpha; // ~0.5

// now another important example
a.setPixel(Image.colorToPixel(Color.new255(255, 0, 255, 0)), 1, 0).plot; // clear color -&gt; alpha is 0
p = a.getPixel(1,0);

Image.pixelToColor(p).red; // you expect 1.0 but you get 0.0 ??? Why = because Image uses premultiplied color component value internally
// meaning all Red, Green, and Blue component are premultiplied by the alpha
// if alpha is 0 you get 0 back for all components.

Image.pixelToColor(p).green; // 0
Image.pixelToColor(p).blue; // 0
Image.pixelToColor(p).alpha; // 0

p = a.getColor(1,0); // more explicit - but same here</textarea>
</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-setColor' href='./../Overviews/Methods.html#setColor'>setColor</a>(<span class='argstr'>color</span>, <span class='argstr'>x</span>, <span class='argstr'>y</span>)</h3>
<div class='method'>
<p>fill the pixel located at x @ y with the specified <strong>color</strong>.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-getColor' href='./../Overviews/Methods.html#getColor'>getColor</a>(<span class='argstr'>x</span>, <span class='argstr'>y</span>)</h3>
<div class='method'>
<p>retrieve the pixel value at x @ y as a <a href="./../Classes/Color.html">Color</a>.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-pixels' href='./../Overviews/Methods.html#pixels'>pixels</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-pixels' href='./../Overviews/Methods.html#pixels'>pixels</a> = <span class='argstr'>array</span></h3>
<div class='method'>
<p>retrieve or set all the pixels of the receiver.<div class='note'><span class='notelabel'>NOTE:</span> Careful: the returned Array is a <a href="./../Classes/Int32Array.html">Int32Array</a> of size receiver.width * receiver.height containing all pixel values as 32bit Integer. See <a href="#*colorToPixel">*colorToPixel</a> and <a href="#*pixelToColor">*pixelToColor</a>.</div><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>array<td class='argumentdesc'>
<p>an <a href="./../Classes/Int32Array.html">Int32Array</a> of size receiver.width * receiver.height containing all pixel values as 32bit Integer</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-loadPixels' href='./../Overviews/Methods.html#loadPixels'>loadPixels</a>(<span class='argstr'>array</span>, <span class='argstr'>region</span>, <span class='argstr'>start: 0</span>)</h3>
<div class='method'>
<p>load all the pixels of the receiver in an array. it is better and faster to call this function instead of <a href="#-pixels">-pixels</a> if you plan to retrieve frequently the pixel data (since it won't allocate a new array everytime !)<textarea class='editor'>// exec one line at a time
(
i = Image.new(
    // "http://supercollider.sourceforge.net/theme/sc01/icon.supercollider.gif"
    SCDoc.helpSourceDir +/+ "images/icon.supercollider.png"
);
)

// first grab the pixels
p = i.pixels;

// do some mods - here invert
// i.invert; // not implemented yet

// reload directly in my array - do not need to call i.pixels again
i.loadPixels(p);
i.free;
p;</textarea>
<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>array<td class='argumentdesc'>
<p>the array that will be filled. Should be an <a href="./../Classes/Int32Array.html">Int32Array</a> of size receiver.width * receiver.height.<tr><td class='argumentname'>region<td class='argumentdesc'>
<p>the targeted rectangular region. (nil by default, meaning full size)<tr><td class='argumentname'>start<td class='argumentdesc'>
<p>the start index of the array.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-setPixels' href='./../Overviews/Methods.html#setPixels'>setPixels</a>(<span class='argstr'>array</span>, <span class='argstr'>region</span>, <span class='argstr'>start: 0</span>)</h3>
<div class='method'>
<p>set the pixels in a specific portion of the receiver.<textarea class='editor'>(
i = Image.new(20@20);
i.pixels_(
    Int32Array.fill(i.width * i.height, {
        Image.colorToPixel(Color.new255(255.rand,127.rand,255.rand,255))
    })
);
//i.interpolation_(\fast); // uncomment to see the difference
w = i.plot(freeOnClose:true);
i.pixels.postln;
)

(
i = Image.color(50@50, Color.white);
i.setPixels(
    Int32Array.fill(20*20,{Image.colorToPixel(Color.new255(255.rand,127.rand,255.rand,255))}),
    Rect(10,10,20,20)
);
i.interpolation_(\fast); // uncomment to see the difference
w = i.plot(freeOnClose:true);
i.pixels.postln;
)</textarea>
<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>array<td class='argumentdesc'>
<p>an <a href="./../Classes/Int32Array.html">Int32Array</a> of size <strong>rect</strong>.width * <strong>rect</strong>.height containing all pixel values as 32bit Integer<tr><td class='argumentname'>region<td class='argumentdesc'>
<p>a rectangle defining the portion to update in the receiver. By default <strong>rect</strong> is nil, meaning full image size.<tr><td class='argumentname'>start<td class='argumentdesc'>
<p>the array start index.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-pixelRatio' href='./../Overviews/Methods.html#pixelRatio'>pixelRatio</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-pixelRatio' href='./../Overviews/Methods.html#pixelRatio'>pixelRatio</a> = <span class='argstr'>ratio</span></h3>
<div class='method'>
<p>Get/set pixel ratio of the image.
<p>This does NOT affect the content of the image, only how it is interpreted when it is drawn onto a View or another Image. For example, in a high DPI context, the pixel ratio of a View might be 2. When drawing an image with a pixelRatio of 1, each pixel of the image will fill a 2x2 area of the View. If both the Image and the View had a pixel ratio of 2, each pixel would be 1:1 with pixels in the View.
<p>By default, the pixelRatio of all Images is 1 - <em>this ensures that an image will look the same when drawn on a normal or a high DPI view</em>. Setting a custom (!= 1) pixelRatio should generally only be done to draw specially rendered high DPI images to a View that is known to be high DPI.
<p>Note that when drawing to an Image using <a href="./../Classes/Pen.html">Pen</a>, pixelRatio is accounted for - so, a line of width 1 will have a true width of 1px for an image where <code>image.pixelRatio==1</code>, and a true width of 2px where <code>image.pixelRatio==2</code>.</div><h3><a class='anchor' name='Inherited%20instance%20methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h3><a class='anchor' name='Undocumented%20instance%20methods'>Undocumented instance methods</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-archiveAsCompileString' href='./../Overviews/Methods.html#archiveAsCompileString'>archiveAsCompileString</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-copy' href='./../Overviews/Methods.html#copy'>copy</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-fill' href='./../Overviews/Methods.html#fill'>fill</a>(<span class='argstr'>color</span>)</h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-isValid' href='./../Overviews/Methods.html#isValid'>isValid</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-name' href='./../Overviews/Methods.html#name'>name</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-name' href='./../Overviews/Methods.html#name'>name</a> = value</h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-smooth' href='./../Overviews/Methods.html#smooth'>smooth</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-smooth' href='./../Overviews/Methods.html#smooth'>smooth</a> = <span class='argstr'>smooth</span></h3>
<div class='doclink'>helpfile source: <a href='file:///usr/share/SuperCollider/HelpSource/Classes/Image.schelp'>/usr/share/SuperCollider/HelpSource/Classes/Image.schelp</a><br>link::Classes/Image::<br></div></div><script src='./../editor.js' type='text/javascript'></script>
</body></html>