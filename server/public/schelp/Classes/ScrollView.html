<html><head><title>ScrollView</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='./../prettify.js' type='text/javascript'></script>
<script src='./../lang-sc.js' type='text/javascript'></script>
<script type='text/javascript'>var helpRoot='./..';</script>
</head>
<ul id='menubar'></ul>
<body onload='fixTOC();prettyPrint()'>
<div class='contents'>
<div class='header'>
<div id='label'>SuperCollider CLASSES</div>
<div id='categories'><a href='./../Browse.html#GUI>Views'>GUI>Views</a></div>
<h1>ScrollView</h1>
<div id='summary'>A container view that can scroll its contents</div>
</div>
<div class='subheader'>
<div id='filename'>Source: /usr/local/share/SuperCollider/SCClassLibrary/Common/GUI/Base/<a href='file:///usr/local/share/SuperCollider/SCClassLibrary/Common/GUI/Base/BasicViews.sc'>BasicViews.sc</a></div><div id='superclasses'>Inherits from: <a href="../Classes/AbstractScroll.html">AbstractScroll</a> : <a href="../Classes/View.html">View</a> : <a href="../Classes/QObject.html">QObject</a> : <a href="../Classes/Object.html">Object</a></div>
<div id='subclasses'>Subclasses: <a href="../Classes/QScrollView.html">QScrollView</a>, <a href="../Classes/ScrollTopView.html">ScrollTopView</a></div>
<div id='related'>See also: <a href="./../Classes/CompositeView.html">CompositeView</a></div>
</div>
<div id='toc'>
<ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'><li class='toc2'><a href='#The canvas'>The canvas</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Restrictions'>Restrictions</a></li>
<ul class='toc'></ul></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc2'><a href='#Inherited class methods'>Inherited class methods</a></li>
<li class='toc2'><a href='#Undocumented class methods'>Undocumented class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*new'>new</a> </li>
<li class='toc3'><a href='#*qtClass'>qtClass</a> </li>
</ul></ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc2'><a href='#Geometry'>Geometry</a></li>
<ul class='toc'><li class='toc3'><a href='#-canvas'>canvas</a> </li>
<li class='toc3'><a href='#-innerBounds'>innerBounds</a> </li>
<li class='toc3'><a href='#-visibleOrigin'>visibleOrigin</a> </li>
</ul><li class='toc2'><a href='#Behavior'>Behavior</a></li>
<ul class='toc'><li class='toc3'><a href='#-autohidesScrollers'>autohidesScrollers</a> </li>
<li class='toc3'><a href='#-hasHorizontalScroller'>hasHorizontalScroller</a> </li>
<li class='toc3'><a href='#-hasVerticalScroller'>hasVerticalScroller</a> </li>
<li class='toc3'><a href='#-autoScrolls'>autoScrolls</a> </li>
</ul><li class='toc2'><a href='#Appearance'>Appearance</a></li>
<ul class='toc'><li class='toc3'><a href='#-hasBorder'>hasBorder</a> </li>
</ul><li class='toc2'><a href='#Actions'>Actions</a></li>
<ul class='toc'><li class='toc3'><a href='#-action'>action</a> </li>
</ul><li class='toc2'><a href='#Inherited instance methods'>Inherited instance methods</a></li>
<li class='toc2'><a href='#Undocumented instance methods'>Undocumented instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-background'>background</a> </li>
<li class='toc3'><a href='#-children'>children</a> </li>
<li class='toc3'><a href='#-initScrollView'>initScrollView</a> </li>
</ul></ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'><li class='toc2'><a href='#Layout management on the canvas'>Layout management on the canvas</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Force a canvas size'>Force a canvas size</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#"Rulers", using an action function'>"Rulers", using an action function</a></li>
<ul class='toc'></ul></ul></ul></div><h2><a class='anchor' name='description'>Description</a></h2>

<p>A container view which allows the user to scroll across contents when they exceed the view's bounds.<h3><a class='anchor' name='The canvas'>The canvas</a></h3>

<p>The view places the children onto a <em>canvas</em>, which may then be scrolled. The child views' position is always relative to the canvas, and thus not affected by scrolling.
<p>The size of the canvas is always equal to the collective bounds of the children, and automatically adjusts when they are added, moved, resized and removed. If you wish to set it to a particular size, you could do so by first placing e.g. a <a href="./../Classes/CompositeView.html">CompositeView</a> (or another container) of desired size, and then placing all the other views into that container.
<p>Exceptionally though, you can <strong>replace the canvas</strong> with any other view (e.g. simply with <a href="./../Classes/View.html">View</a>), which allows you to install a <a href="./../Classes/Layout.html">layout</a> on it. In that case, the canvas will fill the whole visible area of the ScrollView, if the layout contents allow so, or a larger area, if the layout contents demand so. Effectively, the <strong>contents will resize</strong> together with the ScrollView, unless their size constraints prevent that, and if <a href="#-autohidesScrollers">-autohidesScrollers</a> is <code class='code prettyprint lang-sc'>true</code>, a scrollbar will only be shown if the contents can not be resized small enough in the scrollbar's direction. See <a href="#-canvas">-canvas</a> for further explanation.<h3><a class='anchor' name='Restrictions'>Restrictions</a></h3>
<div class='note'><span class='notelabel'>NOTE:</span> <ul>
<li>The <a href="./../Classes/View.html#-resize">View: -resize</a> mode of the children is ignored.<li>One should not use a decorator such as FlowLayout directly on a ScrollView, only on a container view placed within it.</ul>
</div><h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3><a class='anchor' name='Inherited class methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h3><a class='anchor' name='Undocumented class methods'>Undocumented class methods</a></h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*new' href='./../Overviews/Methods.html#new'>new</a> (<span class='argstr'>parent</span>, <span class='argstr'>bounds</span>)</h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*qtClass' href='./../Overviews/Methods.html#qtClass'>qtClass</a> </h3>
<h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3><a class='anchor' name='Geometry'>Geometry</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-canvas' href='./../Overviews/Methods.html#canvas'>canvas</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-canvas' href='./../Overviews/Methods.html#canvas'>canvas</a> = <span class='argstr'>view</span></h3>
<div class='method'>
<p> Returns the current canvas that carries the child views, or replaces it with another.
<p> By default, the canvas is a subclass of QObject, and hence does not allow the type of manipulations that views do. However, it can only be replaced with a subclass of View, which greatly extends the possibilities, including the use of layouts on the canvas.
<p> The new canvas will always resize with the ScrollView, as far its size constraints allow. A plain <a href="./../Classes/View.html">View</a> which completely disregards its children will be freely resizable, and hence the scrolling will never be possible, since the scrollbars are activated according to the size of the canvas. To prevent this, you can either place explicit size constraints on it using <a href="./../Classes/View.html#-minSize">View: -minSize</a> and similar, or you can install a layout on it, which will forward to it the size constraints of the children.
<p> See the <a href="#examples">example</a> below.
<p> Once the canvas is replaced, new views constructed with the ScrollView as the parent will end up as children of the canvas view, equivalent to constructing them with the canvas as the parent, or inserting them into the layout installed on the canvas.<div class='warning'><span class='warninglabel'>WARNING:</span> Replacing the canvas will remove and destroy all the views placed on the previous one!</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-innerBounds' href='./../Overviews/Methods.html#innerBounds'>innerBounds</a> </h3>
<div class='method'>
<p> Returns either the rectangle corresponding to the size of the canvas, or the visible area of the ScrollView's background, whichever is larger. The position of the rectangle is always 0@0.
<p> See the <a href="#description">discussion</a> above regarding the size of the canvas.<h4>Returns:</h4>
<div class='returnvalue'>
<p>A Rect.</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-visibleOrigin' href='./../Overviews/Methods.html#visibleOrigin'>visibleOrigin</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-visibleOrigin' href='./../Overviews/Methods.html#visibleOrigin'>visibleOrigin</a> = <span class='argstr'>point</span></h3>
<div class='method'>
<p> Gets the position on the canvas corresponding to its upper-left-most visible point, or moves the canvas so as to leave the given point on it at the top-left corner of the visible bounds, if possible.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>point<td class='argumentdesc'>
<p> A Point.</table></div><h3><a class='anchor' name='Behavior'>Behavior</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-autohidesScrollers' href='./../Overviews/Methods.html#autohidesScrollers'>autohidesScrollers</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-autohidesScrollers' href='./../Overviews/Methods.html#autohidesScrollers'>autohidesScrollers</a> = <span class='argstr'>aBool</span></h3>
<div class='supmethod'>From superclass: <a href='./../Classes/AbstractScroll.html'>AbstractScroll</a></div>
<div class='method'>
<p> Sets or gets whether the view hides one or another scrollbar if the contents do not exceed the view's bounds in the scrollbar's direction.
<p> If <a href="#-hasHorizontalScroller">-hasHorizontalScroller</a> or <a href="#-hasVerticalScroller">-hasVerticalScroller</a> is set to <code class='code prettyprint lang-sc'>false</code>, the respective scrollbar will always be hidden, regardless of this policy.
<p> Defaults to <strong>true</strong>.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-hasHorizontalScroller' href='./../Overviews/Methods.html#hasHorizontalScroller'>hasHorizontalScroller</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-hasHorizontalScroller' href='./../Overviews/Methods.html#hasHorizontalScroller'>hasHorizontalScroller</a> = <span class='argstr'>aBool</span></h3>
<div class='supmethod'>From superclass: <a href='./../Classes/AbstractScroll.html'>AbstractScroll</a></div>
<div class='method'>
<p> Sets or gets whether the view has the horizontal scrollbar. If this is <code class='code prettyprint lang-sc'>true</code>, the scrollbar may still be hidden if <a href="#-autohidesScrollers">-autohidesScrollers</a> allows so; however, if this is <code class='code prettyprint lang-sc'>false</code> the scrollbar will never be shown.
<p> Defaults to <strong>true</strong>.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-hasVerticalScroller' href='./../Overviews/Methods.html#hasVerticalScroller'>hasVerticalScroller</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-hasVerticalScroller' href='./../Overviews/Methods.html#hasVerticalScroller'>hasVerticalScroller</a> = <span class='argstr'>aBool</span></h3>
<div class='supmethod'>From superclass: <a href='./../Classes/AbstractScroll.html'>AbstractScroll</a></div>
<div class='method'>
<p> Sets or gets whether the view has the vertical scrollbar. If this is <code class='code prettyprint lang-sc'>true</code>, the scrollbar may still be hidden if <a href="#-autohidesScrollers">-autohidesScrollers</a> allows so; however, if this it <code class='code prettyprint lang-sc'>false</code> the scrollbar will never be shown.
<p> Defaults to <strong>true</strong>.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-autoScrolls' href='./../Overviews/Methods.html#autoScrolls'>autoScrolls</a>: METHOD NOT FOUND!</h3>
<div class='method'>
<p> Sets or gets whether the view scrolls automatically when you drag on a child view past the edge of visible bounds.
<p> Defaults to <strong>true</strong>.</div><h3><a class='anchor' name='Appearance'>Appearance</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-hasBorder' href='./../Overviews/Methods.html#hasBorder'>hasBorder</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-hasBorder' href='./../Overviews/Methods.html#hasBorder'>hasBorder</a> = <span class='argstr'>aBool</span></h3>
<div class='method'>
<p> Sets or gets whether the view draws its border.
<p> Defaults to <strong>true</strong>.</div><h3><a class='anchor' name='Actions'>Actions</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-action' href='./../Overviews/Methods.html#action'>action</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-action' href='./../Overviews/Methods.html#action'>action</a> = <span class='argstr'>handler</span></h3>
<div class='supmethod'>From superclass: <a href='./../Classes/View.html'>View</a></div>
<div class='method'>
<p> Sets or gets the object to be evaluated when the user moves the scrollbars, or when <a href="#-visibleOrigin">-visibleOrigin</a> is set.</div><h3><a class='anchor' name='Inherited instance methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h3><a class='anchor' name='Undocumented instance methods'>Undocumented instance methods</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-background' href='./../Overviews/Methods.html#background'>background</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-background' href='./../Overviews/Methods.html#background'>background</a> = <span class='argstr'>color</span></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-children' href='./../Overviews/Methods.html#children'>children</a> (<span class='argstr'>class</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-initScrollView' href='./../Overviews/Methods.html#initScrollView'>initScrollView</a> </h3>
<h2><a class='anchor' name='examples'>Examples</a></h2>
<h3><a class='anchor' name='Layout management on the canvas'>Layout management on the canvas</a></h3>

<p>By replacing the canvas of the ScrollView with a View, and installing a layout on it, the contents will expand to the edge of the ScrollView, and only exceed the edge if necessary.<pre class='code prettyprint lang-sc'>(
var scroll = ScrollView(bounds:Rect(0,0,300,300).center_(Window.availableBounds.center));
var canvas = View();
var layout;
var i = 0;

var makeEntry = {
    var view = View().background_(Color.rand).layout_(
        HLayout(
            TextField().string_( ("This is entry number " + i.asString) ),
            Button().states_([["Delete"]]).action_({view.remove; i = i - 1;})
        )
    );
    i = i + 1;
    view;
};

layout = VLayout();
layout.add ( View().background_(Color.black).layout_(
    HLayout(
        Button().states_([["Add"]]).action_({ layout.insert(makeEntry.(), i) }),
        nil // stretch remaining empty space
    )
));

canvas.layout = layout;
10.do { canvas.layout.add( makeEntry.() ) };
canvas.layout.add(nil); // stretch remaining empty space

scroll.canvas = canvas;
scroll.front;
)</pre>
<h3><a class='anchor' name='Force a canvas size'>Force a canvas size</a></h3>
<pre class='code prettyprint lang-sc'>(
w = Window.new;

b = ScrollView(w, Rect(0, 0, 300, 300)).hasBorder_(true);
c = CompositeView(b, Rect(0, 0, 500, 500)); // 'canvas' is this big
c.decorator = FlowLayout(c.bounds); // now we can use a decorator

Slider2D(c, Rect(0, 0, 240, 240));
Slider2D(c, Rect(0, 0, 240, 240));
Slider2D(c, Rect(0, 0, 240, 240));

c.decorator.nextLine;
w.front;
)</pre>
<h3><a class='anchor' name='"Rulers", using an action function'>"Rulers", using an action function</a></h3>
<pre class='code prettyprint lang-sc'>(
var drawFunc;
w = Window.new;

a = ScrollView(w, Rect(40, 40, 300, 300));
b = ScrollView(w, Rect(0, 40, 40, 300)).hasHorizontalScroller_(false).hasVerticalScroller_(false);
c = ScrollView(w, Rect(40, 0, 300, 40)).hasHorizontalScroller_(false).hasVerticalScroller_(false);
b.background = Color.grey;
c.background = Color.grey;

d = UserView(a, Rect(0, 0, 620, 620));
e = UserView(b, Rect(0, 0, 40, 630));
f = UserView(c, Rect(0, 0, 630, 40));

a.action = { var origin;
    origin = a.visibleOrigin;
    b.visibleOrigin = 0@(origin.y);
    c.visibleOrigin = (origin.x)@0;
};

drawFunc = {
    30.do({arg i;
        (i+1).asString.drawAtPoint((i+1 * 20)@0, Font("Courier", 9), Color.black);
    });
};

d.drawFunc = {
    Pen.use({
        Pen.translate(0, 5);
        drawFunc.value;
    });
    Pen.translate(15, 0).rotate(0.5pi);
    drawFunc.value;
};

e.drawFunc = {
    Pen.translate(40, 0).rotate(0.5pi);
    drawFunc.value;
};

f.drawFunc = {
    Pen.translate(0, 25);
    drawFunc.value;
};

w.front;
)</pre>

<p><div class='doclink'>source: <a href='file:///usr/local/share/SuperCollider/HelpSource/Classes/ScrollView.schelp'>/usr/local/share/SuperCollider/HelpSource/Classes/ScrollView.schelp</a><br>link::Classes/ScrollView::<br>sc version: 3.8dev</div></div></body></html>