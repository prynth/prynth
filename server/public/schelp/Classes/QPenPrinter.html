<!doctype html><html lang='en'><head><title>QPenPrinter | SuperCollider 3.11.2 Help</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../codemirror.css' type='text/css' />
<link rel='stylesheet' href='./../editor.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../lib/jquery.min.js'></script>
<script src='./../lib/codemirror-5.39.2.min.js' type='text/javascript'></script>
<script src='./../lib/codemirror-addon-simple-5.39.2.min.js' type='text/javascript'></script>
<script>
var helpRoot = './..';
var scdoc_title = 'QPenPrinter';
var scdoc_sc_version = '3.11.2';
</script>
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='qrc:///qtwebchannel/qwebchannel.js' type='text/javascript'></script>
</head>
<body onload='fixTOC()'>
<div id='toc'>
<div id='toctitle'>QPenPrinter:</div>
<span class='toc_search'>Filter: <input id='toc_search'></span><ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*new'>new</a> </li>
<li class='toc3'><a href='#*print'>print</a> </li>
<li class='toc2'><a href='#Inherited%20class%20methods'>Inherited class methods</a></li>
</ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc2'><a href='#Printing'>Printing</a></li>
<ul class='toc'><li class='toc3'><a href='#-showDialog'>showDialog</a> </li>
<li class='toc3'><a href='#-print'>print</a> </li>
<li class='toc3'><a href='#-newPage'>newPage</a> </li>
</ul><li class='toc2'><a href='#Properties'>Properties</a></li>
<ul class='toc'><li class='toc3'><a href='#-paperRect'>paperRect</a> </li>
<li class='toc3'><a href='#-pageRect'>pageRect</a> </li>
<li class='toc3'><a href='#-pageSize'>pageSize</a> </li>
</ul><li class='toc2'><a href='#Page%20range'>Page range</a></li>
<ul class='toc'><li class='toc3'><a href='#-fromPage'>fromPage</a> </li>
<li class='toc3'><a href='#-toPage'>toPage</a> </li>
</ul><li class='toc2'><a href='#Inherited%20instance%20methods'>Inherited instance methods</a></li>
<li class='toc2'><a href='#Undocumented%20instance%20methods'>Undocumented instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-bounds'>bounds</a> </li>
</ul></ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'></ul></ul></div><div id='menubar'></div>
<div class='contents'>
<div class='header'>
<div id='label'>
<span id='folder'>Classes</span>
 | <span id='categories'><a href='./../Browse.html#GUI'>GUI</a>&#8201;&gt;&#8201;<a href='./../Browse.html#GUI>Accessories'>Accessories</a></span>
</div><h1>QPenPrinter<span id='superclasses'> : <a href="../Classes/QObject.html">QObject</a> : <a href="../Classes/Object.html">Object</a></span>
</h1>
<div id='summary'>QPen PDF export and printing of vector graphics</div>
</div>
<div class='subheader'>
<div id='filename'>Source: <a href='file:///usr/share/SuperCollider/SCClassLibrary/Common/GUI/Base/QPenPrinter.sc' title='/usr/share/SuperCollider/SCClassLibrary/Common/GUI/Base/QPenPrinter.sc'>QPenPrinter.sc</a></div><div id='related'>See also: <a href="./../Classes/Pen.html">Pen</a></div>
</div>
<h2><a class='anchor' name='description'>Description</a></h2>

<p>QPenPrinter allows Pen to operate on a printer device. The graphics can be exported to PDF by using "print to file" as printer device.<h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3 class='method-code'><span class='method-prefix'>QPenPrinter.</span><a class='method-name' name='*new' href='./../Overviews/Methods.html#new'>new</a></h3>
<div class='method'>
<p>Create a new QPenPrinter object.<h4>Returns:</h4>
<div class='returnvalue'>
<p>an instance of QPenPrinter</div></div><h3 class='method-code'><span class='method-prefix'>QPenPrinter.</span><a class='method-name' name='*print' href='./../Overviews/Methods.html#print'>print</a>(<span class='argstr'>printFunc</span>, <span class='argstr'>cancelFunc</span>)</h3>
<div class='method'>
<p>Convenience function to show a print dialog and print.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>printFunc<td class='argumentdesc'>
<p>A <a href="./../Classes/Function.html">Function</a> to be evaluated when the user presses "Print", with the printer object as Pen painter target. See <strong>aPrintFunc</strong> in <a href="#-print">-print</a> below.<tr><td class='argumentname'>cancelFunc<td class='argumentdesc'>
<p>An optional <a href="./../Classes/Function.html">Function</a> to be evaluated if the user presses "Cancel".</table></div><h3><a class='anchor' name='Inherited%20class%20methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3><a class='anchor' name='Printing'>Printing</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-showDialog' href='./../Overviews/Methods.html#showDialog'>showDialog</a>(<span class='argstr'>aOkFunc</span>, <span class='argstr'>aCancelFunc</span>)</h3>
<div class='method'>
<p>Shows a Print Dialog to allow the user to configure the printer object. This is asynchronous and the method will return immediately. When the user presses the "Print" button, <strong>aOkFunc</strong> is called with this QPenPrinter object as argument.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>aOkFunc<td class='argumentdesc'>
<p>A <a href="./../Classes/Function.html">Function</a> to be evaluated when the user presses "Print".<tr><td class='argumentname'>aCancelFunc<td class='argumentdesc'>
<p>An optional <a href="./../Classes/Function.html">Function</a> to be evaluated if the user presses "Cancel".</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-print' href='./../Overviews/Methods.html#print'>print</a>(<span class='argstr'>aPrintFunc</span>)</h3>
<div class='method'>
<p>This method does the actual printing or PDF export. It evaluates <strong>aPrintFunc</strong> with the printer object as Pen painter target. This QPenPrinter object is passed as the argument.
<p>All the ordinary <a href="./../Classes/Pen.html">Pen</a> commands can be used inside the function.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>aPrintFunc<td class='argumentdesc'>
<p>A <a href="./../Classes/Function.html">Function</a> to be evaluated to draw the graphics.</table><h4>Discussion:</h4>

<p>If this method is called without configuring the printer object first, it will print on the default printer with default settings.
<p>This method is typically called from within the <strong>aOkFunc</strong> of <a href="#-showDialog">-showDialog</a> above. After showDialog has configured the printer once, this method can be called multiple times to reuse the last printer configuration.
<p>The point at (0@0) will coincide with the origin of <a href="#-pageRect">-pageRect</a>, which is offset by the page margins. So you don't need to translate the Pen.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-newPage' href='./../Overviews/Methods.html#newPage'>newPage</a></h3>
<div class='method'>
<p>Starts a new page. Typically called within the <strong>aPrintFunc</strong> of <a href="#-print">-print</a>.</div><h3><a class='anchor' name='Properties'>Properties</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-paperRect' href='./../Overviews/Methods.html#paperRect'>paperRect</a></h3>
<div class='method'>
<p>Get the paper bounds.<h4>Returns:</h4>
<div class='returnvalue'>
<p>a <a href="./../Classes/Rect.html">Rect</a></div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-pageRect' href='./../Overviews/Methods.html#pageRect'>pageRect</a></h3>
<div class='method'>
<p>Get the page bounds, which is the printable area and usually smaller than <a href="#-paperRect">-paperRect</a> due to margins.<h4>Returns:</h4>
<div class='returnvalue'>
<p>a <a href="./../Classes/Rect.html">Rect</a></div><h4>Discussion:</h4>

<p>The <strong>origin</strong> of the Rect is relative to the paper, and will be non-zero due to margins.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-pageSize' href='./../Overviews/Methods.html#pageSize'>pageSize</a></h3>
<div class='method'>
<p>Get the page size as a Size.<h4>Returns:</h4>
<div class='returnvalue'>
<p>a <a href="./../Classes/Size.html">Size</a></div><h4>Discussion:</h4>

<p>This can be used to scale the graphics to fit the page if the bounds of the graphics is known:<textarea class='editor'>x = penPrinter.pageSize.width / bounds.width;
Pen.scale(x,x);
// ... draw stuff here ...</textarea>
</div><h3><a class='anchor' name='Page%20range'>Page range</a></h3>

<p>The methods below returns the page range selected by the user. Page number starts at 1. When both methods returns 0 it means "print all pages".<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-fromPage' href='./../Overviews/Methods.html#fromPage'>fromPage</a></h3>
<div class='method'>
<p>Get the start page.<h4>Returns:</h4>
<div class='returnvalue'>
<p>an <a href="./../Classes/Integer.html">Integer</a></div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-toPage' href='./../Overviews/Methods.html#toPage'>toPage</a></h3>
<div class='method'>
<p>Get the end page.<h4>Returns:</h4>
<div class='returnvalue'>
<p>an <a href="./../Classes/Integer.html">Integer</a></div></div><h3><a class='anchor' name='Inherited%20instance%20methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h3><a class='anchor' name='Undocumented%20instance%20methods'>Undocumented instance methods</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-bounds' href='./../Overviews/Methods.html#bounds'>bounds</a></h3>
<h2><a class='anchor' name='examples'>Examples</a></h2>

<p>Simple usage:<textarea class='editor'>QPenPrinter.print {
    // first page
    Pen.moveTo(100@100);
    Pen.lineTo(300@300);
    Pen.stroke;

    // second page
    p.newPage;
    Pen.addRect(p.pageSize.asRect);
    Pen.stroke;
}</textarea>

<p>Keep the QPenPrinter object to save configuration state:<textarea class='editor'>p = QPenPrinter();</textarea>

<p>The code below can then be called multiple times:<textarea class='editor'>p.showDialog {
    p.print {
        // first page
        Pen.moveTo(100@100);
        Pen.lineTo(300@300);
        Pen.stroke;

        // second page
        p.newPage;
        Pen.addRect(p.pageSize.asRect);
        Pen.stroke;
    }
} {
    "Printing cancelled!".postln;
};</textarea>
<div class='doclink'>helpfile source: <a href='file:///usr/share/SuperCollider/HelpSource/Classes/QPenPrinter.schelp'>/usr/share/SuperCollider/HelpSource/Classes/QPenPrinter.schelp</a><br>link::Classes/QPenPrinter::<br></div></div><script src='./../editor.js' type='text/javascript'></script>
</body></html>