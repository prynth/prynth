<!doctype html><html lang='en'><head><title>SoundFileView | SuperCollider 3.11.2 Help</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../codemirror.css' type='text/css' />
<link rel='stylesheet' href='./../editor.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../lib/jquery.min.js'></script>
<script src='./../lib/codemirror-5.39.2.min.js' type='text/javascript'></script>
<script src='./../lib/codemirror-addon-simple-5.39.2.min.js' type='text/javascript'></script>
<script>
var helpRoot = './..';
var scdoc_title = 'SoundFileView';
var scdoc_sc_version = '3.11.2';
</script>
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='qrc:///qtwebchannel/qwebchannel.js' type='text/javascript'></script>
</head>
<body onload='fixTOC()'>
<div id='toc'>
<div id='toctitle'>SoundFileView:</div>
<span class='toc_search'>Filter: <input id='toc_search'></span><ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc2'><a href='#Inherited%20class%20methods'>Inherited class methods</a></li>
<li class='toc2'><a href='#Undocumented%20class%20methods'>Undocumented class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*qtClass'>qtClass</a> </li>
</ul></ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc2'><a href='#Data'>Data</a></li>
<ul class='toc'><li class='toc3'><a href='#-soundfile'>soundfile</a> </li>
<li class='toc3'><a href='#-read'>read</a> </li>
<li class='toc3'><a href='#-readFile'>readFile</a> </li>
<li class='toc3'><a href='#-readWithTask'>readWithTask</a> </li>
<li class='toc3'><a href='#-readFileWithTask'>readFileWithTask</a> </li>
<li class='toc3'><a href='#-data'>data</a> </li>
<li class='toc3'><a href='#-setData'>setData</a> </li>
<li class='toc3'><a href='#-alloc'>alloc</a> </li>
<li class='toc3'><a href='#-set'>set</a> </li>
<li class='toc3'><a href='#-startFrame'>startFrame</a> </li>
<li class='toc3'><a href='#-numFrames'>numFrames</a> </li>
<li class='toc3'><a href='#-readProgress'>readProgress</a> </li>
</ul><li class='toc2'><a href='#Navigation'>Navigation</a></li>
<ul class='toc'><li class='toc3'><a href='#-viewFrames'>viewFrames</a> </li>
<li class='toc3'><a href='#-zoom'>zoom</a> </li>
<li class='toc3'><a href='#-zoomToFrac'>zoomToFrac</a> </li>
<li class='toc3'><a href='#-zoomAllOut'>zoomAllOut</a> </li>
<li class='toc3'><a href='#-zoomSelection'>zoomSelection</a> </li>
<li class='toc3'><a href='#-xZoom'>xZoom</a> </li>
<li class='toc3'><a href='#-yZoom'>yZoom</a> </li>
<li class='toc3'><a href='#-yOffset'>yOffset</a> </li>
<li class='toc3'><a href='#-spacing'>spacing</a> </li>
<li class='toc3'><a href='#-scrollPos'>scrollPos</a> </li>
<li class='toc3'><a href='#-scrollTo'>scrollTo</a> </li>
<li class='toc3'><a href='#-scroll'>scroll</a> </li>
<li class='toc3'><a href='#-scrollToStart'>scrollToStart</a> </li>
<li class='toc3'><a href='#-scrollToEnd'>scrollToEnd</a> </li>
</ul><li class='toc2'><a href='#Selection'>Selection</a></li>
<ul class='toc'><li class='toc3'><a href='#-selections'>selections</a> </li>
<li class='toc3'><a href='#-selection'>selection</a> </li>
<li class='toc3'><a href='#-setSelection'>setSelection</a> </li>
<li class='toc3'><a href='#-currentSelection'>currentSelection</a> </li>
<li class='toc3'><a href='#-selectionStart'>selectionStart</a> </li>
<li class='toc3'><a href='#-setSelectionStart'>setSelectionStart</a> </li>
<li class='toc3'><a href='#-selectionSize'>selectionSize</a> </li>
<li class='toc3'><a href='#-setSelectionSize'>setSelectionSize</a> </li>
<li class='toc3'><a href='#-selectionStartTime'>selectionStartTime</a> </li>
<li class='toc3'><a href='#-selectionDuration'>selectionDuration</a> </li>
<li class='toc3'><a href='#-selectAll'>selectAll</a> </li>
<li class='toc3'><a href='#-selectNone'>selectNone</a> </li>
<li class='toc3'><a href='#-setSelectionColor'>setSelectionColor</a> </li>
<li class='toc3'><a href='#-setEditableSelectionStart'>setEditableSelectionStart</a> </li>
<li class='toc3'><a href='#-setEditableSelectionSize'>setEditableSelectionSize</a> </li>
<li class='toc3'><a href='#-readSelection'>readSelection</a> </li>
<li class='toc3'><a href='#-readSelectionWithTask'>readSelectionWithTask</a> </li>
</ul><li class='toc2'><a href='#Display'>Display</a></li>
<ul class='toc'><li class='toc3'><a href='#-peakColor'>peakColor</a> </li>
<li class='toc3'><a href='#-rmsColor'>rmsColor</a> </li>
<li class='toc3'><a href='#-waveColors'>waveColors</a> </li>
<li class='toc3'><a href='#-gridOn'>gridOn</a> </li>
<li class='toc3'><a href='#-gridResolution'>gridResolution</a> </li>
<li class='toc3'><a href='#-gridOffset'>gridOffset</a> </li>
<li class='toc3'><a href='#-gridColor'>gridColor</a> </li>
<li class='toc3'><a href='#-drawsWaveForm'>drawsWaveForm</a> </li>
<li class='toc3'><a href='#-drawsRMS'>drawsRMS</a> </li>
<li class='toc3'><a href='#-drawsCenterLine'>drawsCenterLine</a> </li>
<li class='toc3'><a href='#-drawsBoundingLines'>drawsBoundingLines</a> </li>
<li class='toc3'><a href='#-timeCursorOn'>timeCursorOn</a> </li>
<li class='toc3'><a href='#-timeCursorPosition'>timeCursorPosition</a> </li>
<li class='toc3'><a href='#-timeCursorColor'>timeCursorColor</a> </li>
<li class='toc3'><a href='#-elasticMode'>elasticMode</a> </li>
</ul><li class='toc2'><a href='#Actions'>Actions</a></li>
<ul class='toc'><li class='toc3'><a href='#-action'>action</a> </li>
<li class='toc3'><a href='#-metaAction'>metaAction</a> </li>
</ul><li class='toc2'><a href='#Inherited%20instance%20methods'>Inherited instance methods</a></li>
<li class='toc2'><a href='#Undocumented%20instance%20methods'>Undocumented instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-load'>load</a> </li>
<li class='toc3'><a href='#-timeCursorEditable'>timeCursorEditable</a> </li>
</ul></ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'><li class='toc2'><a href='#Basic%20example'>Basic example</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Step%20by%20step%20examples'>Step by step examples</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Adding%20a%20scroll%20bar'>Adding a scroll bar</a></li>
<ul class='toc'></ul></ul></ul></div><div id='menubar'></div>
<div class='contents'>
<div class='header'>
<div id='label'>
<span id='folder'>Classes</span>
 | <span id='categories'><a href='./../Browse.html#GUI'>GUI</a>&#8201;&gt;&#8201;<a href='./../Browse.html#GUI>Views'>Views</a></span>
</div><h1>SoundFileView<span id='superclasses'> : <a href="../Classes/View.html">View</a> : <a href="../Classes/QObject.html">QObject</a> : <a href="../Classes/Object.html">Object</a></span>
</h1>
<div id='summary'>Sound file display</div>
</div>
<div class='subheader'>
<div id='filename'>Source: <a href='file:///usr/share/SuperCollider/SCClassLibrary/Common/GUI/Base/QSoundFileView.sc' title='/usr/share/SuperCollider/SCClassLibrary/Common/GUI/Base/QSoundFileView.sc'>QSoundFileView.sc</a></div><div id='subclasses'>Subclasses: <a href="../Classes/QSoundFileView.html">QSoundFileView</a></div>
<div id='related'>See also: <a href="./../Classes/SoundFile.html">SoundFile</a></div>
</div>
<h2><a class='anchor' name='description'>Description</a></h2>

<p>A sound file viewer with numerous options.
<p>Zoom in and out using Shift + right-click + mouse-up/down;
<p>Scroll using right-click + mouse-left/right.<h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3><a class='anchor' name='Inherited%20class%20methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h3><a class='anchor' name='Undocumented%20class%20methods'>Undocumented class methods</a></h3>
<h3 class='method-code'><span class='method-prefix'>SoundFileView.</span><a class='method-name' name='*qtClass' href='./../Overviews/Methods.html#qtClass'>qtClass</a></h3>
<h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3><a class='anchor' name='Data'>Data</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-soundfile' href='./../Overviews/Methods.html#soundfile'>soundfile</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-soundfile' href='./../Overviews/Methods.html#soundfile'>soundfile</a> = value</h3>
<div class='method'>
<p><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>(arg1)<td class='argumentdesc'>
<p> An Instance of SoundFile to display.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-read' href='./../Overviews/Methods.html#read'>read</a>(<span class='argstr'>startFrame</span>, <span class='argstr'>frames</span>, <span class='argstr'>block</span>, <span class='argstr'>closeFile</span>, <span class='argstr'>doneAction</span>)</h3>
<div class='method'>
<p> Reads a section of the <a href="#-soundfile">-soundfile</a> and displays it in the view. For large files, you may want to use readWithTask instead.
<p> The 'block' argument has no effect; the display resolution is infinite.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>startFrame<td class='argumentdesc'>
<p> The beginning of the section, in frames.<tr><td class='argumentname'>frames<td class='argumentdesc'>
<p> The size of the section, in frames.<tr><td class='argumentname'>block<td class='argumentdesc'>
<p> The block size - visual resolution of the display. An Integer of the form 2**n.<tr><td class='argumentname'>closeFile<td class='argumentdesc'>
<p> If true, closes the SoundFile after reading.<tr><td class='argumentname'>doneAction<td class='argumentdesc'>
<p> A Function called when the file reading has completed.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-readFile' href='./../Overviews/Methods.html#readFile'>readFile</a>(<span class='argstr'>aSoundFile</span>, <span class='argstr'>startFrame</span>, <span class='argstr'>frames</span>, <span class='argstr'>block</span>, <span class='argstr'>closeFile</span>, <span class='argstr'>doneAction</span>)</h3>
<div class='method'>
<p> Reads a section of an open instance of SoundFile, and displays it in the view. For large files, you may want to use the method readWithTask instead.
<p> The 'block' argument has no effect; the display resolution is infinite.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>aSoundFile<td class='argumentdesc'>
<p> An open instance of SoundFile.<tr><td class='argumentname'>startFrame<td class='argumentdesc'>
<p> The beginning of the section, in frames.<tr><td class='argumentname'>frames<td class='argumentdesc'>
<p> The size of the section, in frames.<tr><td class='argumentname'>block<td class='argumentdesc'>
<p> The block size - visual resolution of the display. An Integer of the form 2**n.<tr><td class='argumentname'>closeFile<td class='argumentdesc'>
<p> If true, closes the SoundFile after reading.<tr><td class='argumentname'>doneAction<td class='argumentdesc'>
<p> A Function called when the file reading has completed.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-readWithTask' href='./../Overviews/Methods.html#readWithTask'>readWithTask</a>(<span class='argstr'>startFrame</span>, <span class='argstr'>frames</span>, <span class='argstr'>block</span>, <span class='argstr'>doneAction</span>, <span class='argstr'>showProgress</span>)</h3>
<div class='method'>
<p> Reads a section of the <a href="#-soundfile">-soundfile</a> asynchronously (in the background), updating the <a href="#-readProgress">-readProgress</a> along the way. If the <code>showProgress</code> argument is <code>true</code>, a SoundFileViewProgressWindow opens to show the progress.
<p> The 'block' argument has no effect; the display resolution is infinite. The 'showProgress' argument has no effect; the view always displays reading progress within itself.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>startFrame<td class='argumentdesc'>
<p> The beginning of the section, in frames.<tr><td class='argumentname'>frames<td class='argumentdesc'>
<p> The size of the section, in frames.<tr><td class='argumentname'>block<td class='argumentdesc'>
<p> The block size - visual resolution of the display. An Integer of the form 2**n.<tr><td class='argumentname'>doneAction<td class='argumentdesc'>
<p> An optional function to be evaluated on completion.<tr><td class='argumentname'>showProgress<td class='argumentdesc'>
<p> Whether to open a progress window. Defaults to <code>true</code>.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-readFileWithTask' href='./../Overviews/Methods.html#readFileWithTask'>readFileWithTask</a>(<span class='argstr'>soundFile</span>, <span class='argstr'>startFrame</span>, <span class='argstr'>frames</span>, <span class='argstr'>block</span>, <span class='argstr'>doneAction</span>, <span class='argstr'>showProgress</span>)</h3>
<div class='method'>
<p> Reads a section of an open instance of SoundFile asynchronously (in the background), updating the <a href="#-readProgress">-readProgress</a> along the way. If the <code>showProgress</code> argument is <code>true</code>, a SoundFileViewProgressWindow opens to show the progress.
<p> The 'block' argument has no effect; the display resolution is infinite.  The 'showProgress' argument has no effect; the view always displays reading progress within itself.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>soundFile<td class='argumentdesc'>
<p> An open instance of SoundFile.<tr><td class='argumentname'>startFrame<td class='argumentdesc'>
<p> The beginning of the section, in frames.<tr><td class='argumentname'>frames<td class='argumentdesc'>
<p> The size of the section, in frames.<tr><td class='argumentname'>block<td class='argumentdesc'>
<p> The block size - visual resolution of the display. An Integer of the form 2**n.<tr><td class='argumentname'>doneAction<td class='argumentdesc'>
<p> An optional function to be evaluated on completion.<tr><td class='argumentname'>showProgress<td class='argumentdesc'>
<p> Whether to open a progress window. Defaults to <code>true</code>.</table></div></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-data' href='./../Overviews/Methods.html#data'>data</a> = <span class='argstr'>data</span></h3>
<div class='method'>
<p> Sets custom data instead of a sound file. This is a setter only; it is not possible to get the data. If you need access to the data, you must keep it in your own variable.
<p> Setting this property assumes 1 channel and sample rate of 44100 Hz. Use <a href="#-setData">-setData</a> instead if you want more control.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>data<td class='argumentdesc'>
<p> An Array of Floats; multiple channel data should be interleaved.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-setData' href='./../Overviews/Methods.html#setData'>setData</a>(<span class='argstr'>data</span>, <span class='argstr'>block</span>, <span class='argstr'>startFrame: 0</span>, <span class='argstr'>channels: 1</span>, <span class='argstr'>samplerate: 44100</span>)</h3>
<div class='method'>
<p> Sets custom display data instead of a sound file, interpreting it using specified number of channels and sample rate.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>data<td class='argumentdesc'>
<p> An Array of Floats; multiple channel data should be interleaved.<tr><td class='argumentname'>block<td class='argumentdesc'>
<p>The block size - visual resolution of the display. An Integer of the form 2**n. (since the port to QT, the 'block' argument has no effect; the display resolution is infinite).<tr><td class='argumentname'>startFrame<td class='argumentdesc'>
<p> An integer.<tr><td class='argumentname'>channels<td class='argumentdesc'>
<p> An integer.<tr><td class='argumentname'>samplerate<td class='argumentdesc'>
<p> An integer.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-alloc' href='./../Overviews/Methods.html#alloc'>alloc</a>(<span class='argstr'>frames</span>, <span class='argstr'>channels: 1</span>, <span class='argstr'>samplerate: 44100</span>)</h3>
<div class='method'>
<p>Allocates a desired amount of display channels and frames; all frames have initial value of 0.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>frames<td class='argumentdesc'>
<p> An Integer.<tr><td class='argumentname'>channels<td class='argumentdesc'>
<p> An Integer.<tr><td class='argumentname'>samplerate<td class='argumentdesc'>
<p> An Integer.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-set' href='./../Overviews/Methods.html#set'>set</a>(<span class='argstr'>offset: 0</span>, <span class='argstr'>data</span>)</h3>
<div class='method'>
<p>Overwrites a range of display data with another data. This method can be used after <a href="#-alloc">-alloc</a> or <a href="#-setData">-setData</a> has been called, but not while the view is displaying a sound file.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>offset<td class='argumentdesc'>
<p> The frame at which to start overwriting; an Integer.<tr><td class='argumentname'>data<td class='argumentdesc'>
<p> The new data; an Array of Floats; multiple channel data should be interleaved.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-startFrame' href='./../Overviews/Methods.html#startFrame'>startFrame</a></h3>
<div class='method'>
<p> The beginning of the read section of the soundfile, or 0 if <a href="#-alloc">-alloc</a> or <a href="#-setData">-setData</a> has been used.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-numFrames' href='./../Overviews/Methods.html#numFrames'>numFrames</a></h3>
<div class='method'>
<p> The total amount of frames in the view; this is unrelated to <a href="#-zoom">zooming</a> and <a href="#-scroll">scrolling</a>.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-readProgress' href='./../Overviews/Methods.html#readProgress'>readProgress</a></h3>
<div class='method'>
<p> The reading progress, updated periodically when reading a soundfile using <a href="#-readWithTask">-readWithTask</a> or <a href="#-readFileWithTask">-readFileWithTask</a>.</div><h3><a class='anchor' name='Navigation'>Navigation</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-viewFrames' href='./../Overviews/Methods.html#viewFrames'>viewFrames</a></h3>
<div class='method'>
<p> The amount of currently visible frames in the view.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-zoom' href='./../Overviews/Methods.html#zoom'>zoom</a>(<span class='argstr'>factor</span>)</h3>
<div class='method'>
<p> Zooms by a factor relative to current zoom.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>factor<td class='argumentdesc'>
<p> A Float.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-zoomToFrac' href='./../Overviews/Methods.html#zoomToFrac'>zoomToFrac</a>(<span class='argstr'>fraction</span>)</h3>
<div class='method'>
<p> Zooms to a specific scale.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>fraction<td class='argumentdesc'>
<p> A Float.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-zoomAllOut' href='./../Overviews/Methods.html#zoomAllOut'>zoomAllOut</a></h3>
<div class='method'>
<p> Zooms to the <a href="#-currentSelection">current selection</a>.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-zoomSelection' href='./../Overviews/Methods.html#zoomSelection'>zoomSelection</a>(<span class='argstr'>selection</span>)</h3>
<div class='method'>
<p> Zooms to a specific selection.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>selection<td class='argumentdesc'>
<p> The index of the selection; an Integer between 0 an 63.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-xZoom' href='./../Overviews/Methods.html#xZoom'>xZoom</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-xZoom' href='./../Overviews/Methods.html#xZoom'>xZoom</a> = <span class='argstr'>seconds</span></h3>
<div class='method'>
<p> The number of seconds of audio to display in the view. E.g., to zoom out by a factor of 2, <code>view.xZoom = dataDuration / 2</code>. (You are responsible for keeping track of the data duration.)<h4>Returns:</h4>
<div class='returnvalue'>
<p>A Float, in seconds of audio displayed.</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-yZoom' href='./../Overviews/Methods.html#yZoom'>yZoom</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-yZoom' href='./../Overviews/Methods.html#yZoom'>yZoom</a> = <span class='argstr'>factor</span></h3>
<div class='method'>
<p> Vertical scaling. The default <code>yZoom = 1</code> sets ±1.0 to the top and bottom of the view. If <code>yZoom = 2</code>, the view covers ±0.5 of the value range.<h4>Returns:</h4>
<div class='returnvalue'>
<p>A Float scaling factor.</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-yOffset' href='./../Overviews/Methods.html#yOffset'>yOffset</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-yOffset' href='./../Overviews/Methods.html#yOffset'>yOffset</a> = <span class='argstr'>offset</span></h3>
<div class='method'>
<p> Vertical offset. The default <code>yOffset = 0</code> sets value of 0.0 in the middle of the channel's view, while <code>yOffset = 1</code>, sets 0.0 at the top and <code>yOffset = -1</code> sets 0.0 at the bottom of the view. This is performed after (and thus is not scaled by) the <a href="#-yZoom">-yZoom</a> factor.<h4>Returns:</h4>
<div class='returnvalue'>
<p>A Float offset.</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-spacing' href='./../Overviews/Methods.html#spacing'>spacing</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-spacing' href='./../Overviews/Methods.html#spacing'>spacing</a> = <span class='argstr'>factor</span></h3>
<div class='method'>
<p> A ratio between vertical space outside of the ±1.0 value range and channel's full height. The default <code>spacing = 0.1</code> makes top and bottom spaces add up to <code>0.1 * height</code> (each of them occupying half of that), while ±1.0 value range occupies <code>0.9 * height</code>. The value is clipped in the range from <code>0.0</code> to <code>1.0</code>.<h4>Returns:</h4>
<div class='returnvalue'>
<p>A Float scaling factor.</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-scrollPos' href='./../Overviews/Methods.html#scrollPos'>scrollPos</a></h3>
<div class='method'>
<p> The scrolling position of the view, as a fraction of the total scrolling range. The total scrolling range is <code>totalDuration - xZoom</code>.<h4>Returns:</h4>
<div class='returnvalue'>
<p>A Float in the range of 0.0 to 1.0.</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-scrollTo' href='./../Overviews/Methods.html#scrollTo'>scrollTo</a>(<span class='argstr'>fraction</span>)</h3>
<div class='method'>
<p> Scrolls to a fraction of the total scrolling range. The total scrolling range is <code>totalDuration - xZoom</code>.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>fraction<td class='argumentdesc'>
<p> A Float in the range of 0.0 to 1.0.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-scroll' href='./../Overviews/Methods.html#scroll'>scroll</a>(<span class='argstr'>fraction</span>)</h3>
<div class='method'>
<p> Scrolls by a fraction of the visible range.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>fraction<td class='argumentdesc'>
<p> A Float.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-scrollToStart' href='./../Overviews/Methods.html#scrollToStart'>scrollToStart</a></h3>
<div class='method'>
<p> Scrolls to the beginning.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-scrollToEnd' href='./../Overviews/Methods.html#scrollToEnd'>scrollToEnd</a></h3>
<div class='method'>
<p> Scrolls to the end.</div><h3><a class='anchor' name='Selection'>Selection</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-selections' href='./../Overviews/Methods.html#selections'>selections</a></h3>
<div class='method'>
<p> All the selections.<h4>Returns:</h4>
<div class='returnvalue'>
<p>An array of 64 arrays of start frames and sizes: [ [ start0, size0 ] , [ start1, size1 ], ... ].</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-selection' href='./../Overviews/Methods.html#selection'>selection</a>(<span class='argstr'>index</span>)</h3>
<div class='method'>
<p> The selection at index.<h4>Returns:</h4>
<div class='returnvalue'>
<p>An Array of the form <code>[start, size]</code>, where start and size denote frames.</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-setSelection' href='./../Overviews/Methods.html#setSelection'>setSelection</a>(<span class='argstr'>index</span>, <span class='argstr'>selection</span>)</h3>
<div class='method'>
<p> Sets the selection at index.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>index<td class='argumentdesc'>
<p> An Integer between 0 an 63.<tr><td class='argumentname'>selection<td class='argumentdesc'>
<p> An Array of the form <code>[start, size]</code>, where start and size are Integers and denote frames.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-currentSelection' href='./../Overviews/Methods.html#currentSelection'>currentSelection</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-currentSelection' href='./../Overviews/Methods.html#currentSelection'>currentSelection</a> = <span class='argstr'>index</span></h3>
<div class='method'>
<p> The index of the current selection<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>index<td class='argumentdesc'>
<p> An integer between 0 an 63.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-selectionStart' href='./../Overviews/Methods.html#selectionStart'>selectionStart</a>(<span class='argstr'>index</span>)</h3>
<div class='method'>
<p> The start frame of a selection.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>index<td class='argumentdesc'>
<p> The index of the selection; an Integer between 0 an 63.</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>An Integer.</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-setSelectionStart' href='./../Overviews/Methods.html#setSelectionStart'>setSelectionStart</a>(<span class='argstr'>index</span>, <span class='argstr'>frame</span>)</h3>
<div class='method'>
<p> Sets the start frame of a selection.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>index<td class='argumentdesc'>
<p> The index of the selection; an Integer between 0 an 63.<tr><td class='argumentname'>frame<td class='argumentdesc'>
<p> The starting frame of the selection, an Integer.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-selectionSize' href='./../Overviews/Methods.html#selectionSize'>selectionSize</a>(<span class='argstr'>index</span>)</h3>
<div class='method'>
<p> The size of a selection.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>index<td class='argumentdesc'>
<p> The index of the selection; an Integer between 0 an 63.</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>An Integer.</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-setSelectionSize' href='./../Overviews/Methods.html#setSelectionSize'>setSelectionSize</a>(<span class='argstr'>index</span>, <span class='argstr'>frames</span>)</h3>
<div class='method'>
<p> Sets the size of a selection.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>index<td class='argumentdesc'>
<p> The index of the selection; an Integer between 0 an 63.<tr><td class='argumentname'>frames<td class='argumentdesc'>
<p> The size in frames of the selection, an Integer.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-selectionStartTime' href='./../Overviews/Methods.html#selectionStartTime'>selectionStartTime</a>(<span class='argstr'>index</span>)</h3>
<div class='method'>
<p> The start of a selection in seconds.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>index<td class='argumentdesc'>
<p> The index of the selection; an Integer between 0 an 63.</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>A Float.</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-selectionDuration' href='./../Overviews/Methods.html#selectionDuration'>selectionDuration</a>(<span class='argstr'>index</span>)</h3>
<div class='method'>
<p> The size of a selection in seconds.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>index<td class='argumentdesc'>
<p> The index of the selection; an Integer between 0 an 63.</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>A Float.</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-selectAll' href='./../Overviews/Methods.html#selectAll'>selectAll</a>(<span class='argstr'>index</span>)</h3>
<div class='method'>
<p> Sets a selection to span the whole data range.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>index<td class='argumentdesc'>
<p> The index of the selection; an Integer between 0 an 63.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-selectNone' href='./../Overviews/Methods.html#selectNone'>selectNone</a>(<span class='argstr'>index</span>)</h3>
<div class='method'>
<p> Sets the size of a selection to 0.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>index<td class='argumentdesc'>
<p> The index of the selection; an Integer between 0 an 63.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-setSelectionColor' href='./../Overviews/Methods.html#setSelectionColor'>setSelectionColor</a>(<span class='argstr'>index</span>, <span class='argstr'>color</span>)</h3>
<div class='method'>
<p> Sets the color of a selection.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>index<td class='argumentdesc'>
<p> The index of the selection; an Integer between 0 an 63.<tr><td class='argumentname'>color<td class='argumentdesc'>
<p> A Color.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-setEditableSelectionStart' href='./../Overviews/Methods.html#setEditableSelectionStart'>setEditableSelectionStart</a>(<span class='argstr'>index</span>, <span class='argstr'>editable</span>)</h3>
<div class='method'>
<p> Sets whether the start point of a selection can be edited.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>index<td class='argumentdesc'>
<p> The index of the selection; an Integer between 0 an 63.<tr><td class='argumentname'>editable<td class='argumentdesc'>
<p> A Boolean.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-setEditableSelectionSize' href='./../Overviews/Methods.html#setEditableSelectionSize'>setEditableSelectionSize</a>(<span class='argstr'>index</span>, <span class='argstr'>editable</span>)</h3>
<div class='method'>
<p> Whether the end point of a selection can be edited.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>index<td class='argumentdesc'>
<p> The index of the selection; an Integer between 0 an 63.<tr><td class='argumentname'>editable<td class='argumentdesc'>
<p> A Boolean.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-readSelection' href='./../Overviews/Methods.html#readSelection'>readSelection</a>(<span class='argstr'>block</span>, <span class='argstr'>closeFile</span>)</h3>
<div class='method'>
<p><div class='note'><span class='notelabel'>NOTE:</span> Not implemented</div>
<p> Read the data within a selection.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>block<td class='argumentdesc'>
<p> The block size - visual resolution of the display. An Integer of the form 2**n.<tr><td class='argumentname'>closeFile<td class='argumentdesc'>
<p> If true, closes the SoundFile after reading.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-readSelectionWithTask' href='./../Overviews/Methods.html#readSelectionWithTask'>readSelectionWithTask</a></h3>
<div class='method'>
<p><div class='note'><span class='notelabel'>NOTE:</span> Not implemented</div>
<p> Read the data within the current selection asynchronously (in the background), showing the progress in a separate window.</div><h3><a class='anchor' name='Display'>Display</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-peakColor' href='./../Overviews/Methods.html#peakColor'>peakColor</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-peakColor' href='./../Overviews/Methods.html#peakColor'>peakColor</a> = <span class='argstr'>color</span></h3>
<div class='method'>
<p> The color of the peak-to-peak data. This can be overridden by <a href="#-waveColors">-waveColors</a>. Defaults to <code>Color(0.95, 0.7)</code>.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>color<td class='argumentdesc'>
<p> A <code>Color</code>.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-rmsColor' href='./../Overviews/Methods.html#rmsColor'>rmsColor</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-rmsColor' href='./../Overviews/Methods.html#rmsColor'>rmsColor</a> = <span class='argstr'>color</span></h3>
<div class='method'>
<p> The color of the RMS data. Defaults to <code>Color(1.0, 1.0)</code>.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>color<td class='argumentdesc'>
<p> A <code>Color</code>.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-waveColors' href='./../Overviews/Methods.html#waveColors'>waveColors</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-waveColors' href='./../Overviews/Methods.html#waveColors'>waveColors</a> = <span class='argstr'>colors</span></h3>
<div class='method'>
<p> An array of colors for the peak-to-peak data for each channel, allowing each channel to be represented by a different color. Defaults to <code>[ ]</code>. Once set, it overrides <a href="#-peakColor">-peakColor</a>. In order to revert to using <code>.peakColor</code>, set <code>.waveColors</code> back to an empty array: <code>.waveColors_([])</code>.<div class='note'><span class='notelabel'>NOTE:</span> <a href="#-rmsColor">-rmsColor</a> stays the same for all channels. However, using alpha blending, it is possible to display RMS data using either a lighter (e.g. <code>.rmsColor_(Color.grey(1, 0.3))</code>) or a darker (e.g. <code>.rmsColor_(Color.grey(0, 0.3))</code>) shade of the peak-to-peak color.</div><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>colors<td class='argumentdesc'>
<p> And array of <code>[Color]</code>.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-gridOn' href='./../Overviews/Methods.html#gridOn'>gridOn</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-gridOn' href='./../Overviews/Methods.html#gridOn'>gridOn</a> = <span class='argstr'>flag</span></h3>
<div class='method'>
<p> Whether the grid is displayed. Defaults to <code>true</code>.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>flag<td class='argumentdesc'>
<p> A Boolean.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-gridResolution' href='./../Overviews/Methods.html#gridResolution'>gridResolution</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-gridResolution' href='./../Overviews/Methods.html#gridResolution'>gridResolution</a> = <span class='argstr'>seconds</span></h3>
<div class='method'>
<p> The resolution of the grid.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>seconds<td class='argumentdesc'>
<p> An instance of Float.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-gridOffset' href='./../Overviews/Methods.html#gridOffset'>gridOffset</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-gridOffset' href='./../Overviews/Methods.html#gridOffset'>gridOffset</a> = <span class='argstr'>seconds</span></h3>
<div class='method'>
<p> Sets the grid offset.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>seconds<td class='argumentdesc'>
<p> Grid blocks are offset by this value (in seconds).</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-gridColor' href='./../Overviews/Methods.html#gridColor'>gridColor</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-gridColor' href='./../Overviews/Methods.html#gridColor'>gridColor</a> = <span class='argstr'>color</span></h3>
<div class='method'>
<p> The color of the grid.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>color<td class='argumentdesc'>
<p> A Color.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-drawsWaveForm' href='./../Overviews/Methods.html#drawsWaveForm'>drawsWaveForm</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-drawsWaveForm' href='./../Overviews/Methods.html#drawsWaveForm'>drawsWaveForm</a> = <span class='argstr'>boolean</span></h3>
<div class='method'>
<p> Whether the data is displayed. Defaults to <code>true</code>.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>boolean<td class='argumentdesc'>
<p> A Boolean.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-drawsRMS' href='./../Overviews/Methods.html#drawsRMS'>drawsRMS</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-drawsRMS' href='./../Overviews/Methods.html#drawsRMS'>drawsRMS</a> = <span class='argstr'>boolean</span></h3>
<div class='method'>
<p> Whether the RMS data for the waveform is displayed. Defaults to <code>true</code>.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-drawsCenterLine' href='./../Overviews/Methods.html#drawsCenterLine'>drawsCenterLine</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-drawsCenterLine' href='./../Overviews/Methods.html#drawsCenterLine'>drawsCenterLine</a> = <span class='argstr'>boolean</span></h3>
<div class='method'>
<p> Whether the center line (at value 0.0) is displayed. Defaults to <code>true</code>.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>boolean<td class='argumentdesc'>
<p> A Boolean.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-drawsBoundingLines' href='./../Overviews/Methods.html#drawsBoundingLines'>drawsBoundingLines</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-drawsBoundingLines' href='./../Overviews/Methods.html#drawsBoundingLines'>drawsBoundingLines</a> = <span class='argstr'>boolean</span></h3>
<div class='method'>
<p> Whether the bounding lines (at values ±1.0) are displayed. Defaults to <code>true</code>.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>boolean<td class='argumentdesc'>
<p> A Boolean.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-timeCursorOn' href='./../Overviews/Methods.html#timeCursorOn'>timeCursorOn</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-timeCursorOn' href='./../Overviews/Methods.html#timeCursorOn'>timeCursorOn</a> = <span class='argstr'>flag</span></h3>
<div class='method'>
<p> Whether the time cursor is displayed. Defaults to <code>false</code>.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>flag<td class='argumentdesc'>
<p> A Boolean.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-timeCursorPosition' href='./../Overviews/Methods.html#timeCursorPosition'>timeCursorPosition</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-timeCursorPosition' href='./../Overviews/Methods.html#timeCursorPosition'>timeCursorPosition</a> = <span class='argstr'>frame</span></h3>
<div class='method'>
<p> The position of the time cursor in frames.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>frame<td class='argumentdesc'>
<p> An Integer.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-timeCursorColor' href='./../Overviews/Methods.html#timeCursorColor'>timeCursorColor</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-timeCursorColor' href='./../Overviews/Methods.html#timeCursorColor'>timeCursorColor</a> = <span class='argstr'>color</span></h3>
<div class='method'>
<p> The color of the time cursor.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>color<td class='argumentdesc'>
<p> A Color.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-elasticMode' href='./../Overviews/Methods.html#elasticMode'>elasticMode</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-elasticMode' href='./../Overviews/Methods.html#elasticMode'>elasticMode</a> = value</h3>
<div class='method'>
<p> Not operational, for compatibility only.</div><h3><a class='anchor' name='Actions'>Actions</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-action' href='./../Overviews/Methods.html#action'>action</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-action' href='./../Overviews/Methods.html#action'>action</a> = <span class='argstr'>func</span></h3>
<div class='supmethod'>From superclass: <a href='./../Classes/View.html'>View</a></div>
<div class='method'>
<p> The object to be evaluated whenever the user interacts with the view.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-metaAction' href='./../Overviews/Methods.html#metaAction'>metaAction</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-metaAction' href='./../Overviews/Methods.html#metaAction'>metaAction</a> = <span class='argstr'>action</span></h3>
<div class='method'>
<p> The object to be evaluated on Ctrl + click.</div><h3><a class='anchor' name='Inherited%20instance%20methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h3><a class='anchor' name='Undocumented%20instance%20methods'>Undocumented instance methods</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-load' href='./../Overviews/Methods.html#load'>load</a>(<span class='argstr'>filename</span>, <span class='argstr'>startFrame</span>, <span class='argstr'>frames</span>, <span class='argstr'>block</span>, <span class='argstr'>doneAction</span>)</h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-timeCursorEditable' href='./../Overviews/Methods.html#timeCursorEditable'>timeCursorEditable</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-timeCursorEditable' href='./../Overviews/Methods.html#timeCursorEditable'>timeCursorEditable</a> = <span class='argstr'>flag</span></h3>
<h2><a class='anchor' name='examples'>Examples</a></h2>
<h3><a class='anchor' name='Basic%20example'>Basic example</a></h3>
<textarea class='editor'>// To zoom in/out: Shift + right-click + mouse-up/down
// To scroll: right-click + mouse-left/right
(
w = Window.new("soundfile test", Rect(200, 300, 740, 100));
a = SoundFileView.new(w, Rect(20,20, 700, 60));

f = SoundFile.new;
f.openRead(Platform.resourceDir +/+ "sounds/a11wlk01.wav");
f.inspect;

a.soundfile = f;
a.read(0, f.numFrames);

a.timeCursorOn = true;
a.timeCursorColor = Color.red;
a.timeCursorPosition = 2050;
a.drawsWaveForm = true;
a.gridOn = true;
a.gridResolution = 0.2;

w.front;
)</textarea>
<h3><a class='anchor' name='Step%20by%20step%20examples'>Step by step examples</a></h3>
<textarea class='editor'>( // make a simple SoundFileView
y = Window.screenBounds.height - 120;
w = Window.new("soundfile test", Rect(200, y, 740, 100)).alwaysOnTop_(true);
w.front;
a = SoundFileView.new(w, Rect(20,20, 700, 60));

f = SoundFile.new;
f.openRead(Platform.resourceDir +/+ "sounds/a11wlk01.wav");
// f.inspect;

a.soundfile = f;            // set soundfile
a.read(0, f.numFrames);     // read in the entire file.
a.refresh;                  // refresh to display the file.
)

// To zoom in/out: Shift + right-click + mouse-up/down
// To scroll: right-click + mouse-left/right

// reading file
a.read(0, f.numFrames / 2).refresh; // read first half
a.read.refresh;                     // read entire file by default
a.read(f.numFrames / 2).refresh;    // read second half
a.read(0, -1).refresh;              // -1 also reads entire file, like buffer.

// the resolution of the view is always infinite;
// you can always zoom in until you see a single sample.

a.read(0, -1).refresh;

// for longer files, you can use:
a.readWithTask;

// zoom is relative
a.zoom(0.2).refresh;
a.zoom(2).refresh;
a.zoom(2).refresh;
a.zoomToFrac(0.5); // zoom to half file size
a.zoomAllOut;

a.gridOn = true;            // time grid, 1 second by default,
a.gridResolution = 0.2;     // or set resolution in seconds
a.gridColor = Color.cyan;   // color is changeable.
a.gridOffset_(0.1);         // not sure if this is working?

a.timeCursorOn = true;          // a settable cursor
a.timeCursorPosition = 2050;    // position is in frames.
a.timeCursorColor = Color.white;

// toggle drawing on/off
a.drawsWaveForm = false;
a.drawsWaveForm = true;

// these methods should return view properties:
a.gridOn
a.gridResolution
a.gridColor
a.timeCursorOn
a.timeCursorPosition
a.timeCursorColor

// Selections: multiple selections are supported.
// e.g. use selection 0:
a.setSelectionColor(0, Color.red);  // set...( index, value )
a.selectionStart(0);                // at index
a.setSelectionStart(0, 12345);
a.setSelectionSize(0, 12345);

a.setSelectionStart(0, 1234);
a.selectionStart(0);

// now selection 1
a.setSelectionColor(1, Color.white);
a.setSelectionStart(1, 1234).setSelectionSize(1, 1234 * 2);
a.selectionStart(1);
a.setSelectionStart(0, 12345);

// the current selection gets changed when click/dragging in view.
a.currentSelection;     // index of current selection;
a.currentSelection_(1); // switch current selection - try click/drag white now.
a.currentSelection;

a.selections.size;      // 64 selections
a.selections[0];
a.selections[1];
a.selections;

// setSelection (index, selection);
a.setSelection(0, [234, 2345]);
a.selection(1); // returns [start, size].

(       // mouseUpAction
a.mouseUpAction = {
    ("mouseUp, current selection is now:"
        + a.selections[a.currentSelection]).postln;
};
)
// lock selection 0:
a.currentSelection_(0);
a.setEditableSelectionStart(0, false);
a.setEditableSelectionSize(0, false);


// unlock selection 0:
a.setEditableSelectionStart(0, true);
a.setEditableSelectionSize(0, true);

a.selectionStartTime(0);
a.selectionDuration(0);


a.setSelectionStart(0, 12345);
a.setSelectionSize(0, 12345);
a.readSelection.refresh;
a.readSelection(16).refresh;    // in higher resolution
a.read.refresh;                 // go back to entire file.


a.dataNumSamples;   // visual data have this many points
a.data.plot;
a.setData(a.data.reverse);


a.zoom(0.25);       // scrolling is normalized
a.scrollTo(0.5);    //
a.scrollTo(0.6);    //
a.scroll(12);       // scroll is in viewFrames.

a.zoom(4);

w.close;</textarea>
<h3><a class='anchor' name='Adding%20a%20scroll%20bar'>Adding a scroll bar</a></h3>

<p>Zooming and scrolling by mouse, directly in a SoundFileView, may not be immediately intuitive. (Most users wouldn't guess to shift-right-click!) You can add a <a href="./../Classes/RangeSlider.html">RangeSlider</a> to act as a scrollbar.
<p>Notes:<ul>
<li>If the user shift-right-clicks, the only way to track the SoundFileView's display changes is by using mouse actions: <a href="./../Classes/View.html#-mouseDownAction">View: -mouseDownAction</a> and <a href="./../Classes/View.html#-mouseUpAction">View: -mouseUpAction</a> to know which button is pressed, and <a href="./../Classes/View.html#-mouseMoveAction">View: -mouseMoveAction</a> to read the new scrolling and zooming values.<li><a href="./../Classes/SoundFileView.html#-xZoom">SoundFileView: -xZoom</a> is in seconds, while the range slider is normalized to a 0-1 range. So <code>xZoom == slider.range * duration</code>, and <code>slider.range == xZoom / duration</code>.<li><a href="./../Classes/SoundFileView.html#-scrollPos">SoundFileView: -scrollPos</a> is normalized to the "total scrolling range," where 1.0 is scrolled fully to the right. We have to subtract the displayed area: <code>slider.lo = sfv.scrollPos / (1 - slider.size)</code>, with some refinements to avoid division by 0.</ul>
<textarea class='editor'>f = SoundFile.openRead(Platform.resourceDir +/+ "sounds/a11wlk01.wav");
f.readData(d = Signal.newClear(f.numFrames * f.numChannels));
f.close;

(
var w = Window("test", Rect(700, 200, 600, 300)),
file, sfv, sfZoom, mouseButton,
dur = d.size / f.sampleRate / f.numChannels;

w.layout = VLayout(
    sfv = SoundFileView(),
    sfZoom = RangeSlider().orientation_(\horizontal)
);

sfZoom.lo_(0).range_(1)
.action_({ |view|
    var divisor, rangeStart;
    rangeStart = view.lo;
    divisor = 1 - sfZoom.range;
    if(divisor &lt; 0.0001) {
        rangeStart = 0;
        divisor = 1;
    };
    sfv.xZoom_(sfZoom.range * dur)
    .scrollTo(rangeStart / divisor)
});

sfv.setData(d, startFrame: 0, channels: f.numChannels, samplerate: f.sampleRate);

sfv.mouseDownAction_({ |view, x, y, mod, buttonNumber|
    mouseButton = buttonNumber;
})
.mouseUpAction_({ |view, x, y, mod|
    mouseButton = nil;
})
.mouseMoveAction_({ |view, x, y, mod|
    var rangeSize, rangeStart;
    if(mouseButton == 1) {
        rangeSize = view.xZoom / dur;
        rangeStart = view.scrollPos * (1 - rangeSize);
        sfZoom.lo_(rangeStart).range_(rangeSize);
    };
});

w.front;
)</textarea>

<p><div class='doclink'>helpfile source: <a href='file:///usr/share/SuperCollider/HelpSource/Classes/SoundFileView.schelp'>/usr/share/SuperCollider/HelpSource/Classes/SoundFileView.schelp</a><br>link::Classes/SoundFileView::<br></div></div><script src='./../editor.js' type='text/javascript'></script>
</body></html>