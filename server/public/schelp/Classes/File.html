<!doctype html><html lang='en'><head><title>File | SuperCollider 3.11.2 Help</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../codemirror.css' type='text/css' />
<link rel='stylesheet' href='./../editor.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../lib/jquery.min.js'></script>
<script src='./../lib/codemirror-5.39.2.min.js' type='text/javascript'></script>
<script src='./../lib/codemirror-addon-simple-5.39.2.min.js' type='text/javascript'></script>
<script>
var helpRoot = './..';
var scdoc_title = 'File';
var scdoc_sc_version = '3.11.2';
</script>
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='qrc:///qtwebchannel/qwebchannel.js' type='text/javascript'></script>
</head>
<body onload='fixTOC()'>
<div id='toc'>
<div id='toctitle'>File:</div>
<span class='toc_search'>Filter: <input id='toc_search'></span><ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*new'>new</a> </li>
<li class='toc3'><a href='#*open'>open</a> </li>
<li class='toc3'><a href='#*getcwd'>getcwd</a> </li>
<li class='toc3'><a href='#*use'>use</a> </li>
<li class='toc3'><a href='#*readAllString'>readAllString</a> </li>
<li class='toc3'><a href='#*readAllSignal'>readAllSignal</a> </li>
<li class='toc3'><a href='#*readAllStringHTML'>readAllStringHTML</a> </li>
<li class='toc3'><a href='#*readAllStringRTF'>readAllStringRTF</a> </li>
<li class='toc2'><a href='#Filesystem%20utilities'>Filesystem utilities</a></li>
<ul class='toc'><li class='toc3'><a href='#*exists'>exists</a> </li>
<li class='toc3'><a href='#*existsCaseSensitive'>existsCaseSensitive</a> </li>
<li class='toc3'><a href='#*systemIsCaseSensitive'>systemIsCaseSensitive</a> </li>
<li class='toc3'><a href='#*mkdir'>mkdir</a> </li>
<li class='toc3'><a href='#*delete'>delete</a> </li>
<li class='toc3'><a href='#*deleteAll'>deleteAll</a> </li>
<li class='toc3'><a href='#*realpath'>realpath</a> </li>
<li class='toc3'><a href='#*copy'>copy</a> </li>
<li class='toc3'><a href='#*type'>type</a> </li>
<li class='toc3'><a href='#*fileSize'>fileSize</a> </li>
<li class='toc3'><a href='#*mtime'>mtime</a> </li>
</ul><li class='toc2'><a href='#Error%20handling%20in%20filesystem%20utilities'>Error handling in filesystem utilities</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Inherited%20class%20methods'>Inherited class methods</a></li>
</ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-open'>open</a> </li>
<li class='toc3'><a href='#-close'>close</a> </li>
<li class='toc3'><a href='#-readAllString'>readAllString</a> </li>
<li class='toc3'><a href='#-readAllStringHTML'>readAllStringHTML</a> </li>
<li class='toc3'><a href='#-readAllStringRTF'>readAllStringRTF</a> </li>
<li class='toc3'><a href='#-readAllSignal'>readAllSignal</a> </li>
<li class='toc3'><a href='#-seek'>seek</a> </li>
<li class='toc3'><a href='#-pos'>pos</a> </li>
<li class='toc3'><a href='#-length'>length</a> </li>
<li class='toc2'><a href='#Inherited%20instance%20methods'>Inherited instance methods</a></li>
</ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'></ul></ul></div><div id='menubar'></div>
<div class='contents'>
<div class='header'>
<div id='label'>
<span id='folder'>Classes</span>
 | <span id='categories'><a href='./../Browse.html#Files'>Files</a></span>
</div><h1>File<span id='superclasses'> : <a href="../Classes/UnixFILE.html">UnixFILE</a> : <a href="../Classes/IOStream.html">IOStream</a> : <a href="../Classes/Stream.html">Stream</a> : <a href="../Classes/AbstractFunction.html">AbstractFunction</a> : <a href="../Classes/Object.html">Object</a></span>
</h1>
<div id='summary'>A class for reading and writing files</div>
</div>
<div class='subheader'>
<div id='filename'>Source: <a href='file:///usr/share/SuperCollider/SCClassLibrary/Common/Files/File.sc' title='/usr/share/SuperCollider/SCClassLibrary/Common/Files/File.sc'>File.sc</a></div><div id='subclasses'>Subclasses: <a href="../Classes/AtsFile.html">AtsFile</a></div>
<div id='related'>See also: <a href="./../Classes/FileReader.html">FileReader</a></div>
</div>
<h2><a class='anchor' name='description'>Description</a></h2>

<p>A class for reading and writing files. Not sound files.<h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3 class='method-code'><span class='method-prefix'>File.</span><a class='method-name' name='*new' href='./../Overviews/Methods.html#new'>new</a>(<span class='argstr'>pathName</span>, <span class='argstr'>mode</span>)</h3>
<div class='method'>
<p>Create a File instance and open the file. If the open fails, <a href="./../Classes/UnixFILE.html#-isOpen">isOpen</a> will return false.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>pathName<td class='argumentdesc'>
<p>A <a href="./../Classes/String.html">String</a> containing the path name of the file to open.<tr><td class='argumentname'>mode<td class='argumentdesc'>
<p>a <a href="./../Classes/String.html">String</a> indicating one of the following modes:<dl>
<dt>"r"<dd>Opens a file for reading. The file must exist.<dt>"w"<dd>Creates an empty file for writing. If a file with the same name already exists its content is erased and the file is treated as a new empty file.<dt>"a"<dd>Appends to a file. Writing operations append data at the end of the file. The file is created if it does not exist.<dt>"rb", "wb", "ab"<dd>same as above, but data is binary<dt>"r+"<dd>Opens a file for update both reading and writing. The file must exist.<dt>"w+"<dd>Creates an empty file for both reading and writing. If a file with the same name already exists its content is erased and the file is treated as a new empty file.<dt>"a+"<dd>Opens a file for reading and appending. All writing operations are performed at the end of the file, protecting the previous content to be overwritten. You can reposition the internal pointer using the seek method to anywhere in the file for reading, but writing operations will move it back to the end of file. The file is created if it does not exist.<dt>"rb+", "wb+", "ab+"<dd>same as above, but data is binary</dl>
</table></div><h3 class='method-code'><span class='method-prefix'>File.</span><a class='method-name' name='*open' href='./../Overviews/Methods.html#open'>open</a>(<span class='argstr'>pathName</span>, <span class='argstr'>mode</span>)</h3>
<div class='method'>
<p>Same as <a href="#*new">*new</a>, but a more intuitive name.</div><h3 class='method-code'><span class='method-prefix'>File.</span><a class='method-name' name='*getcwd' href='./../Overviews/Methods.html#getcwd'>getcwd</a></h3>
<div class='method'>
<p>POSIX standard 'get current working directory'.<textarea class='editor'>// example;
File.getcwd;</textarea>
</div><h3 class='method-code'><span class='method-prefix'>File.</span><a class='method-name' name='*use' href='./../Overviews/Methods.html#use'>use</a>(<span class='argstr'>pathName</span>, <span class='argstr'>mode</span>, <span class='argstr'>function</span>)</h3>
<div class='method'>
<p>Open the file, evaluate the function with the file as argument, and close it again. If the process fails, close the file and throw an error.</div><h3 class='method-code'><span class='method-prefix'>File.</span><a class='method-name' name='*readAllString' href='./../Overviews/Methods.html#readAllString'>readAllString</a>(<span class='argstr'>pathName</span>)</h3>
<div class='method'>
<p>Open the file at the given path, call <a href="#-readAllString">-readAllString</a>, and return the string. Whether the process succeeds or fails, the file will always be closed.<textarea class='editor'>// write a file
File.use("~/test.txt".standardizePath, "w", { |f| f.write("The green fox fell into the blue lake") });

// read it again
File.readAllString("~/test.txt".standardizePath);</textarea>
</div><h3 class='method-code'><span class='method-prefix'>File.</span><a class='method-name' name='*readAllSignal' href='./../Overviews/Methods.html#readAllSignal'>readAllSignal</a>(<span class='argstr'>pathName</span>)</h3>
<div class='method'>
<p>Open the file at the given path, call <a href="#-readAllSignal">-readAllSignal</a>, and return the signal. Whether the process succeeds or fails, the file will always be closed.</div><h3 class='method-code'><span class='method-prefix'>File.</span><a class='method-name' name='*readAllStringHTML' href='./../Overviews/Methods.html#readAllStringHTML'>readAllStringHTML</a>(<span class='argstr'>pathName</span>)</h3>
<div class='method'>
<p>Open the file at the given path, call <a href="#-readAllStringHTML">-readAllStringHTML</a>, and return the string. Whether the process succeeds or fails, the file will always be closed.</div><h3 class='method-code'><span class='method-prefix'>File.</span><a class='method-name' name='*readAllStringRTF' href='./../Overviews/Methods.html#readAllStringRTF'>readAllStringRTF</a>(<span class='argstr'>pathName</span>)</h3>
<div class='method'>
<p>Open the file at the given path, call <a href="#-readAllStringRTF">-readAllStringRTF</a>, and return the string. Whether the process succeeds or fails, the file will always be closed.</div><h3><a class='anchor' name='Filesystem%20utilities'>Filesystem utilities</a></h3>
<h3 class='method-code'><span class='method-prefix'>File.</span><a class='method-name' name='*exists' href='./../Overviews/Methods.html#exists'>exists</a>(<span class='argstr'>pathName</span>)</h3>
<div class='method'>
<p>Answers if a file exists at that path.<div class='note'><span class='notelabel'>NOTE:</span> Some filesystems, like the one used by macOS, are case insensitive. On such systems, this method will return true for "fOo" even if the file is actually named "Foo". For a workaround, see <a href="#*existsCaseSensitive">*existsCaseSensitive</a> below.</div>
<p><h4>Returns:</h4>
<div class='returnvalue'>
<p>a <a href="./../Classes/Boolean.html">Boolean</a></div></div><h3 class='method-code'><span class='method-prefix'>File.</span><a class='method-name' name='*existsCaseSensitive' href='./../Overviews/Methods.html#existsCaseSensitive'>existsCaseSensitive</a>(<span class='argstr'>pathName</span>)</h3>
<div class='method'>
<p>Like <a href="#*exists">*exists</a> but ensure case sensitivity <em>of the last path component</em> on case insensitive filesystems. On case sensitive systems, it falls back to using <code>exists</code>.<div class='note'><span class='notelabel'>NOTE:</span> This is slower than the normal <code>exists</code> method, so use it only when really needed.</div></div><h3 class='method-code'><span class='method-prefix'>File.</span><a class='method-name' name='*systemIsCaseSensitive' href='./../Overviews/Methods.html#systemIsCaseSensitive'>systemIsCaseSensitive</a></h3>
<div class='method'>
<p>Answers if the filesystem is case sensitive or not.</div><h3 class='method-code'><span class='method-prefix'>File.</span><a class='method-name' name='*mkdir' href='./../Overviews/Methods.html#mkdir'>mkdir</a>(<span class='argstr'>pathName</span>)</h3>
<div class='method'>
<p>Create directory at path, including any missing parent directories.<h4>Returns:</h4>
<div class='returnvalue'>
<p>a <a href="./../Classes/Boolean.html">Boolean</a>, as follows:<ul>
<li><code>true</code> -- A new directory was created at <code>path</code>.<li><code>false</code> -- A directory already existed at <code>path</code>; a new one was not created.</ul>
</div></div><h3 class='method-code'><span class='method-prefix'>File.</span><a class='method-name' name='*delete' href='./../Overviews/Methods.html#delete'>delete</a>(<span class='argstr'>pathName</span>)</h3>
<div class='method'>
<p>Deletes the file at that path. Use only for good, never for evil.<h4>Returns:</h4>
<div class='returnvalue'>
<p>a <a href="./../Classes/Boolean.html">Boolean</a>, as follows:<ul>
<li><code>true</code> -- You can assume that the path no longer exists. (Either it existed and was deleted, or it didn't exist and it still doesn't exist.)<li><code>false</code> -- The file could not be deleted (probably a permissions error). Your code should assume that the path still exists.</ul>
</div></div><h3 class='method-code'><span class='method-prefix'>File.</span><a class='method-name' name='*deleteAll' href='./../Overviews/Methods.html#deleteAll'>deleteAll</a>(<span class='argstr'>pathName</span>)</h3>
<div class='method'>
<p>Deletes the file and all children at that path. Use only for good, never for evil.<h4>Returns:</h4>
<div class='returnvalue'>
<p>a <a href="./../Classes/Boolean.html">Boolean</a>, as follows:<ul>
<li><code>true</code> -- At least one file was deleted.<li><code>false</code> -- No files were deleted.</ul>

<p>If deletion fails, a PrimitiveFailedError object will be thrown.</div></div><h3 class='method-code'><span class='method-prefix'>File.</span><a class='method-name' name='*realpath' href='./../Overviews/Methods.html#realpath'>realpath</a>(<span class='argstr'>pathName</span>)</h3>
<div class='method'>
<p>Follow symbolic links (and aliases on macOS) and any parent directory references (like "..") and return the true absolute path.<h4>Returns:</h4>
<div class='returnvalue'>
<p>a <a href="./../Classes/String.html">String</a> or <code>nil</code> if path did not exist.</div></div><h3 class='method-code'><span class='method-prefix'>File.</span><a class='method-name' name='*copy' href='./../Overviews/Methods.html#copy'>copy</a>(<span class='argstr'>pathNameFrom</span>, <span class='argstr'>pathNameTo</span>)</h3>
<div class='method'>
<p>Copy file, symlink or directory. this method will fail if pathNameTo already exists.
<p>Symlinks are copied as symlinks (re-created).</div><h3 class='method-code'><span class='method-prefix'>File.</span><a class='method-name' name='*type' href='./../Overviews/Methods.html#type'>type</a>(<span class='argstr'>pathName</span>)</h3>
<div class='method'>
<p>Get file type as one of <code>\error, \not_found, \regular, \directory, \symlink, \block, \character, \fifo, \socket, \unknown</code><h4>Returns:</h4>
<div class='returnvalue'>
<p>a <a href="./../Classes/Symbol.html">Symbol</a></div></div><h3 class='method-code'><span class='method-prefix'>File.</span><a class='method-name' name='*fileSize' href='./../Overviews/Methods.html#fileSize'>fileSize</a>(<span class='argstr'>pathName</span>)</h3>
<div class='method'>
<p>Get size of file in bytes.<h4>Returns:</h4>
<div class='returnvalue'>
<p>an <a href="./../Classes/Integer.html">Integer</a></div></div><h3 class='method-code'><span class='method-prefix'>File.</span><a class='method-name' name='*mtime' href='./../Overviews/Methods.html#mtime'>mtime</a>(<span class='argstr'>pathName</span>)</h3>
<div class='method'>
<p>Get last modification time in seconds since the Epoch.<h4>Returns:</h4>
<div class='returnvalue'>
<p>an <a href="./../Classes/Integer.html">Integer</a></div></div><h3><a class='anchor' name='Error%20handling%20in%20filesystem%20utilities'>Error handling in filesystem utilities</a></h3>

<p>If one of the above filesystem primitives fails, in most cases, a PrimitiveFailedError object will be thrown:<textarea class='editor'>File.mkdir("/usr/oh-no-you-cant");</textarea>
<pre>ERROR: Primitive '_FileMkDir' failed.
caught exception 'boost::filesystem::create_directory: Permission denied: "/usr/oh-no-you-cant"' in primitive in method Meta_File:mkdir</pre>
<p>The methods <a href="./../Classes/Function.html#-try">Function: -try</a> and <a href="./../Classes/Function.html#-protect">Function: -protect</a> can detect and handle these errors. See <a href="./../Guides/Understanding-Errors.html">Understanding errors</a> for details.
<p>Currently, <a href="./../Classes/File.html#*copy">File: *copy</a>, <a href="./../Classes/File.html#*fileSize">File: *fileSize</a>, <a href="./../Classes/File.html#*mkdir">File: *mkdir</a>, <a href="./../Classes/File.html#*mtime">File: *mtime</a>, and <a href="./../Classes/File.html#*type">File: *type</a> throw errors upon failure. (<a href="./../Classes/File.html#*delete">File: *delete</a> does not throw an error, but instead returns a Boolean.)<h3><a class='anchor' name='Inherited%20class%20methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-open' href='./../Overviews/Methods.html#open'>open</a>(<span class='argstr'>pathName</span>, <span class='argstr'>mode</span>)</h3>
<div class='method'>
<p>Open the file. Files are automatically opened upon creation, so this call is only necessary if you are closing and opening the same file object repeatedly.<div class='note'><span class='notelabel'>NOTE:</span> it is possible when saving files with a standard file dialog to elect to "hide the extension" and save it as RTF. When opening the file you must specify the real filename: "filename.rtf", even though you can't see in file load dialogs or in the Finder.</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-close' href='./../Overviews/Methods.html#close'>close</a></h3>
<div class='method'>
<p>Close the file.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-readAllString' href='./../Overviews/Methods.html#readAllString'>readAllString</a></h3>
<div class='method'>
<p>Reads the entire file as a <a href="./../Classes/String.html">String</a>.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-readAllStringHTML' href='./../Overviews/Methods.html#readAllStringHTML'>readAllStringHTML</a></h3>
<div class='method'>
<p>Reads the entire file as a <a href="./../Classes/String.html">String</a>, stripping HTML tags.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-readAllStringRTF' href='./../Overviews/Methods.html#readAllStringRTF'>readAllStringRTF</a></h3>
<div class='method'>
<p>Reads the entire file as a <a href="./../Classes/String.html">String</a>, stripping RTF formatting.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-readAllSignal' href='./../Overviews/Methods.html#readAllSignal'>readAllSignal</a></h3>
<div class='method'>
<p>Reads the entire file as a <a href="./../Classes/Signal.html">Signal</a>, where every chunk of four bytes is interpreted as a 32-bit floating point sample.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-seek' href='./../Overviews/Methods.html#seek'>seek</a>(<span class='argstr'>offset: 0</span>, <span class='argstr'>origin: 0</span>)</h3>
<div class='method'>
<p>Moves the read/write pointer to a given location in the file, where offset is location given in bytes, and origin is the reference of the offset:<dl>
<dt>0<dd>offset is from the beginning of the file<dt>1<dd>offset is relative to the current position in the file<dt>2<dd>offset is from the end of the file</dl>
</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-pos' href='./../Overviews/Methods.html#pos'>pos</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-pos' href='./../Overviews/Methods.html#pos'>pos</a> = <span class='argstr'>toPos</span></h3>
<div class='method'>
<p>Sets or returns the current position in the file (in bytes). when used as a setter, this method is a shortcut for seek(0, value). so setting the pos moves the current file position to a given location from the beginning of the file. the value is clipped so that it lies between 0 inclusively and the file length exclusively.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-length' href='./../Overviews/Methods.html#length'>length</a></h3>
<div class='method'>
<p>Returns the current file size in bytes.</div><h3><a class='anchor' name='Inherited%20instance%20methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h2><a class='anchor' name='examples'>Examples</a></h2>
<textarea class='editor'>// write some string to a file:
(
var f, g;
f = File("~/test.txt".standardizePath,"w");
f.write("Does this work?\n is this thing on ?\n");
f.close;
)

// read it again:
(
g = File("~/test.txt".standardizePath,"r");
g.readAllString.postln;
g.close;
)

// try the above with File.use:

File.use("~/test.txt".standardizePath, "w", { |f| f.write("Doesn't this work?\n is this thing really on ?\n"); });
File.use("~/test.txt".standardizePath, "r", { |f| f.readAllString.postln });


// more file writing/reading examples:
(
var h, k;
h = File("~/test.dat".standardizePath, "wb");
h.inspect;
h.write( FloatArray[1.1, 2.2, 3.3, pi, 3.sqrt] );
h.close;

k = File("~/test.dat".standardizePath, "rb");
(k.length div: 4).do({ k.getFloat.postln; });
k.close;
)


(
var f, g;
f = File("~/test.txt".standardizePath,"w");
100.do({ f.putChar([$a, $b, $c, $d, $e, $\n].choose); });
f.close;

g = File("~/test.txt".standardizePath,"r");
g.readAllString.postln;
g.close;

g = File("~/test.txt".standardizePath,"r");
g.getLine(1024).postln;
"*".postln;
g.getLine(1024).postln;
"**".postln;
g.getLine(1024).postln;
"***".postln;
g.getLine(1024).postln;
"****".postln;
g.close;
)

(
//var f, g;
f = File("~/test.dat".standardizePath,"wb");
f.inspect;
100.do({ f.putFloat(1.0.rand); });

f.inspect;
f.close;

g = File("~/test.dat".standardizePath,"rb");
100.do({
    g.getFloat.postln;
});
g.inspect;
g.close;
)

(
//var f, g;
f = File("~/test.dat".standardizePath,"r");
f.inspect;
f.close;
)</textarea>

<p><div class='doclink'>helpfile source: <a href='file:///usr/share/SuperCollider/HelpSource/Classes/File.schelp'>/usr/share/SuperCollider/HelpSource/Classes/File.schelp</a><br>link::Classes/File::<br></div></div><script src='./../editor.js' type='text/javascript'></script>
</body></html>