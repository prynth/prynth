<html><head><title>DragSource</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='./../prettify.js' type='text/javascript'></script>
<script src='./../lang-sc.js' type='text/javascript'></script>
<script type='text/javascript'>var helpRoot='./..';</script>
</head>
<ul id='menubar'></ul>
<body onload='fixTOC();prettyPrint()'>
<div class='contents'>
<div class='header'>
<div id='label'>SuperCollider CLASSES</div>
<div id='categories'><a href='./../Browse.html#GUI>Views'>GUI>Views</a></div>
<h1>DragSource</h1>
<div id='summary'>A simple drag-and-drop source.</div>
</div>
<div class='subheader'>
<div id='filename'>Source: /usr/local/share/SuperCollider/SCClassLibrary/Common/GUI/Base/<a href='file:///usr/local/share/SuperCollider/SCClassLibrary/Common/GUI/Base/DragView.sc'>DragView.sc</a></div><div id='superclasses'>Inherits from: <a href="../Classes/DragView.html">DragView</a> : <a href="../Classes/TextField.html">TextField</a> : <a href="../Classes/TextViewBase.html">TextViewBase</a> : <a href="../Classes/View.html">View</a> : <a href="../Classes/QObject.html">QObject</a> : <a href="../Classes/Object.html">Object</a></div>
<div id='subclasses'>Subclasses: <a href="../Classes/QDragSource.html">QDragSource</a></div>
<div id='related'>See also: <a href="./../Classes/DragSink.html">DragSink</a>, <a href="./../Classes/DragBoth.html">DragBoth</a></div>
</div>
<div id='toc'>
<ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc2'><a href='#Inherited class methods'>Inherited class methods</a></li>
</ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-defaultGetDrag'>defaultGetDrag</a> </li>
<li class='toc2'><a href='#Inherited instance methods'>Inherited instance methods</a></li>
</ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'></ul></ul></div><h2><a class='anchor' name='description'>Description</a></h2>

<p><a href="./../Classes/DragSource.html">DragSource</a>, <a href="./../Classes/DragSink.html">DragSink</a> and <a href="./../Classes/DragBoth.html">DragBoth</a> are a set of view classes intended as simple-to-use drag-and-drop sources and destinations. They are graphically represented as a simple rectangle, and their specialty is that they <em>do not require the Cmd/Ctrl key to be held down to initiate dragging</em>.
<p>Akin to <a href="./../Classes/StaticText.html">StaticText</a> they can store arbitrary content in the <a href="./../Classes/StaticText.html#-object">-object</a> variable, and display it using <a href="./../Classes/Object.html#-asString">Object: -asString</a>. You can set the displayed text separately using <a href="./../Classes/StaticText.html#-string">-string</a>, and keep it independent of the content if you set <a href="./../Classes/StaticText.html#-setBoth">-setBoth</a> to <code class='code prettyprint lang-sc'>false</code>.
<p><strong>DragSource</strong>, specifically, gives the <strong>-object</strong> variable as the data <strong>for dragging</strong>, but <strong>accepts no drop</strong>.
<p>See: <a href="./../Classes/View.html#Drag and drop">View: Drag and drop</a> for a general description of the drag and drop mechanism.<h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3><a class='anchor' name='Inherited class methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-defaultGetDrag' href='./../Overviews/Methods.html#defaultGetDrag'>defaultGetDrag</a> </h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>The <a href="./../Classes/StaticText.html#-object">-object</a>.</div></div><h3><a class='anchor' name='Inherited instance methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h2><a class='anchor' name='examples'>Examples</a></h2>
<pre class='code prettyprint lang-sc'>(
s.waitForBoot({    // only needed if you are using sound
    w = Window.new.front;

    // store various kinds of objects in the drag source

    // a string source
    a = DragSource(w, Rect(10, 10, 150, 20)).align_(\center);
    a.object = "I am a string source";

    // a Float source
    b = DragSource(w, Rect(10, 40, 150, 20)).align_(\center);
    b.object = 2.234;

    // a Point source
    c = DragSource(w, Rect(10, 70, 150, 20)).align_(\center);
    c.object = Point(20, 30);

    // A sound function source
    // dragLabel_() is used for the label while dragging
    d = DragSource(w, Rect(10, 100, 150, 20)).align_(\center);
    d.object = { Synth(\default) };
    d.dragLabel = " I am a sound function.\n My dragLabel_() is set \n to inform you about that ";

    // A sound function source
    // here the string label is independent of the content type (Function)
    // dragLabel_() is used for the label while dragging
    f = DragSource(w, Rect(10, 130, 150, 20)).align_(\center).setBoth_(false);
    f.object = { { SinOsc.ar(440,0,0.4) }.play };
    f.string = "My label is independent";
    f.dragLabel = " My dragLabel_() says \n I am dragging a sound function ";

    // receive anthing
    g = DragSink(w, Rect(170, 10, 200, 20)).align_(\center);
    g.string = "recieve anything, do nothing";

    // receive only floats
    g = DragSink(w, Rect(170, 40, 200, 20)).align_(\center);
    g.string = "I only like floats";
    g.canReceiveDragHandler = { View.currentDrag.isFloat };

    // receive only numbers and points, and convert them to rects
    h = DragSink(w, Rect(170, 70, 200, 20)).align_(\center);
    h.string = "I convert to Rect";
    h.canReceiveDragHandler = { View.currentDrag.isKindOf(Number) || View.currentDrag.isKindOf(Point) };
    h.receiveDragHandler = { arg v; h.object = View.currentDrag.asRect };

    // receive only functions, and try to play them
    i = DragSink(w, Rect(170, 100, 200, 20)).align_(\center);
    i.string = "I evaluate a (sound) function";
    i.canReceiveDragHandler = { View.currentDrag.isKindOf(Function) };
    i.receiveDragHandler = { arg v;
        i.object = View.currentDrag.value;
        i.string = "click here for silence";
        i.background_(Color.red)};
    i.mouseDownAction_({
        i.object.free;
        i.string = "I evaluate a (sound) function";
        i.background_(Color.clear) });

    StaticText(w, Rect(10, 200, 380, 50))
        .stringColor_(Color.white)
        .string_("Try dragging any item on the left -----&gt; to any item on the right");
});
)</pre>

<p><div class='doclink'>source: <a href='file:///usr/local/share/SuperCollider/HelpSource/Classes/DragSource.schelp'>/usr/local/share/SuperCollider/HelpSource/Classes/DragSource.schelp</a><br>link::Classes/DragSource::<br>sc version: 3.8dev</div></div></body></html>