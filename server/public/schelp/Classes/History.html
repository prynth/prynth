<html><head><title>History</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='./../prettify.js' type='text/javascript'></script>
<script src='./../lang-sc.js' type='text/javascript'></script>
<script type='text/javascript'>var helpRoot='./..';</script>
</head>
<ul id='menubar'></ul>
<body onload='fixTOC();prettyPrint()'>
<div class='contents'>
<div class='header'>
<div id='label'>SuperCollider CLASSES</div>
<div id='categories'><a href='./../Browse.html#Streams-Patterns-Events'>Streams-Patterns-Events</a></div>
<h1>History</h1>
<div id='summary'>keeps a history of interpreted lines of code</div>
</div>
<div class='subheader'>
<div id='filename'>Source: /usr/local/share/SuperCollider/SCClassLibrary/Common/Streams/<a href='file:///usr/local/share/SuperCollider/SCClassLibrary/Common/Streams/History.sc'>History.sc</a></div><div id='superclasses'>Inherits from: <a href="../Classes/Object.html">Object</a></div>
<div id='related'>See also: <a href="./../Classes/Archive.html">Archive</a></div>
</div>
<div id='toc'>
<ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*start'>start</a> </li>
<li class='toc3'><a href='#*end'>end</a> </li>
<li class='toc3'><a href='#*clear'>clear</a> </li>
<li class='toc3'><a href='#*enter'>enter</a> </li>
<li class='toc3'><a href='#*document'>document</a> </li>
<li class='toc3'><a href='#*makeWin'>makeWin</a> </li>
<li class='toc3'><a href='#*keepsLog'>keepsLog</a> </li>
<li class='toc3'><a href='#*verbose'>verbose</a> </li>
<li class='toc3'><a href='#*drop'>drop</a> </li>
<li class='toc3'><a href='#*keep'>keep</a> </li>
<li class='toc3'><a href='#*saveCS'>saveCS</a> </li>
<li class='toc3'><a href='#*loadCS'>loadCS</a> </li>
<li class='toc3'><a href='#*saveStory'>saveStory</a> </li>
<li class='toc3'><a href='#*loadStory'>loadStory</a> </li>
<li class='toc3'><a href='#*play'>play</a> </li>
<li class='toc3'><a href='#*stop'>stop</a> </li>
<li class='toc3'><a href='#*rewrite'>rewrite</a> </li>
<li class='toc2'><a href='#More internal methods:'>More internal methods:</a></li>
<ul class='toc'><li class='toc3'><a href='#*current'>current</a> </li>
<li class='toc3'><a href='#*lines'>lines</a>  <a href='#*lineShorts'>lineShorts</a> </li>
<li class='toc3'><a href='#*new'>new</a> </li>
</ul><li class='toc2'><a href='#Inherited class methods'>Inherited class methods</a></li>
<li class='toc2'><a href='#Undocumented class methods'>Undocumented class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*checkPath'>checkPath</a> </li>
<li class='toc3'><a href='#*formatTime'>formatTime</a> </li>
<li class='toc3'><a href='#*forwardFunc'>forwardFunc</a> </li>
<li class='toc3'><a href='#*localOff'>localOff</a> </li>
<li class='toc3'><a href='#*localOn'>localOn</a> </li>
<li class='toc3'><a href='#*network'>network</a> </li>
<li class='toc3'><a href='#*prettyString'>prettyString</a> </li>
<li class='toc3'><a href='#*readFromDoc'>readFromDoc</a> </li>
<li class='toc3'><a href='#*recordLocally'>recordLocally</a> </li>
<li class='toc3'><a href='#*removeAt'>removeAt</a> </li>
<li class='toc3'><a href='#*removeLast'>removeLast</a> </li>
<li class='toc3'><a href='#*shorten'>shorten</a> </li>
<li class='toc3'><a href='#*showLogFile'>showLogFile</a> </li>
<li class='toc3'><a href='#*showLogFolder'>showLogFolder</a> </li>
<li class='toc3'><a href='#*startTimeStamp'>startTimeStamp</a> </li>
<li class='toc3'><a href='#*started'>started</a> </li>
<li class='toc3'><a href='#*unformatTime'>unformatTime</a> </li>
</ul></ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc2'><a href='#Inherited instance methods'>Inherited instance methods</a></li>
<li class='toc2'><a href='#Undocumented instance methods'>Undocumented instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-addLine'>addLine</a> </li>
<li class='toc3'><a href='#-clear'>clear</a> </li>
<li class='toc3'><a href='#-document'>document</a> </li>
<li class='toc3'><a href='#-drop'>drop</a> </li>
<li class='toc3'><a href='#-hasMovedOn'>hasMovedOn</a> </li>
<li class='toc3'><a href='#-indicesFor'>indicesFor</a> </li>
<li class='toc3'><a href='#-isCurrent'>isCurrent</a> </li>
<li class='toc3'><a href='#-keep'>keep</a> </li>
<li class='toc3'><a href='#-keys'>keys</a> </li>
<li class='toc3'><a href='#-lineShorts'>lineShorts</a> </li>
<li class='toc3'><a href='#-lines'>lines</a> </li>
<li class='toc3'><a href='#-loadCS'>loadCS</a> </li>
<li class='toc3'><a href='#-loadStory'>loadStory</a> </li>
<li class='toc3'><a href='#-makeCurrent'>makeCurrent</a> </li>
<li class='toc3'><a href='#-makeWin'>makeWin</a> </li>
<li class='toc3'><a href='#-matchKeys'>matchKeys</a> </li>
<li class='toc3'><a href='#-matchString'>matchString</a> </li>
<li class='toc3'><a href='#-play'>play</a> </li>
<li class='toc3'><a href='#-player'>player</a> </li>
<li class='toc3'><a href='#-removeAt'>removeAt</a> </li>
<li class='toc3'><a href='#-removeLast'>removeLast</a> </li>
<li class='toc3'><a href='#-saveCS'>saveCS</a> </li>
<li class='toc3'><a href='#-saveStory'>saveStory</a> </li>
<li class='toc3'><a href='#-stop'>stop</a> </li>
<li class='toc3'><a href='#-storyString'>storyString</a> </li>
</ul></ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'></ul></ul></div><h2><a class='anchor' name='description'>Description</a></h2>

<p>History keeps track of all code lines that are being executed, in order to forward them to other players, to easily reuse earlier versions, or to store and reproduce a performance. Since it records everything that is interpreted, there is only one privileged instance of History - <code class='code prettyprint lang-sc'>History.current</code>. (adc 2006/7)<h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*start' href='./../Overviews/Methods.html#start'>start</a> </h3>
<div class='method'>
<p>start adding interpreted code to (current) history.</div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*end' href='./../Overviews/Methods.html#end'>end</a> </h3>
<div class='method'>
<p>end adding interpreted code to (current) history.</div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*clear' href='./../Overviews/Methods.html#clear'>clear</a> </h3>
<div class='method'>
<p>remove all items from (current) history.</div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*enter' href='./../Overviews/Methods.html#enter'>enter</a> (<span class='argstr'>lineStr</span>, <span class='argstr'>id: 'me'</span>)</h3>
<div class='method'>
<p>add an entry by hand.</div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*document' href='./../Overviews/Methods.html#document'>document</a> </h3>
<div class='method'>
<p>post the history in a new document (as story).</div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*makeWin' href='./../Overviews/Methods.html#makeWin'>makeWin</a> (<span class='argstr'>where</span>, <span class='argstr'>numItems: 8</span>)</h3>
<div class='method'>
<p>make a HistoryGui for History.current, at the point given, with the given textHeight.</div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*keepsLog' href='./../Overviews/Methods.html#keepsLog'>keepsLog</a></h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*keepsLog' href='./../Overviews/Methods.html#keepsLog'>keepsLog</a> = value</h3>
<div class='method'>
<p>get and set flag whether to log History to a file.</div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*verbose' href='./../Overviews/Methods.html#verbose'>verbose</a></h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*verbose' href='./../Overviews/Methods.html#verbose'>verbose</a> = value</h3>
<div class='method'>
<p>get and set flag whether to post debug messages from History operations.</div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*drop' href='./../Overviews/Methods.html#drop'>drop</a> (<span class='argstr'>num</span>)</h3>
<div class='method'>
<p>drop the newest n lines from history. if n is negative, drop the oldest n lines.</div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*keep' href='./../Overviews/Methods.html#keep'>keep</a> (<span class='argstr'>num</span>)</h3>
<div class='method'>
<p>keep only the newest n lines from history. if n is negative, keep the oldest n lines.</div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*saveCS' href='./../Overviews/Methods.html#saveCS'>saveCS</a> (<span class='argstr'>path</span>, <span class='argstr'>forward: false</span>)</h3>
<div class='method'>
<p>store history as one compileString.</div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*loadCS' href='./../Overviews/Methods.html#loadCS'>loadCS</a> (<span class='argstr'>path</span>, <span class='argstr'>forward: false</span>)</h3>
<div class='method'>
<p>load a history from (compilestring) file.</div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*saveStory' href='./../Overviews/Methods.html#saveStory'>saveStory</a> (<span class='argstr'>path</span>)</h3>
<div class='method'>
<p>store in a file, in historical order as individual code snippets.</div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*loadStory' href='./../Overviews/Methods.html#loadStory'>loadStory</a> (<span class='argstr'>path</span>)</h3>
<div class='method'>
<p>read history into current, from a file in story format.</div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*play' href='./../Overviews/Methods.html#play'>play</a> (<span class='argstr'>start: 0</span>, <span class='argstr'>end</span>, <span class='argstr'>verbose: true</span>)</h3>
<div class='method'>
<p>play back current history from start to end line, per default verbose.</div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*stop' href='./../Overviews/Methods.html#stop'>stop</a> </h3>
<div class='method'>
<p>stop current history playback.</div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*rewrite' href='./../Overviews/Methods.html#rewrite'>rewrite</a> (<span class='argstr'>path</span>, <span class='argstr'>open: true</span>)</h3>
<div class='method'>
<p>Write a properly formatted code file from a history.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>path<td class='argumentdesc'>
<p>The filename is the original name with "_rewritten." appended.<tr><td class='argumentname'>open<td class='argumentdesc'>
<p>If open is true (default: true), open a text window with the string.</table></div><h3><a class='anchor' name='More internal methods:'>More internal methods:</a></h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*current' href='./../Overviews/Methods.html#current'>current</a></h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*current' href='./../Overviews/Methods.html#current'>current</a> = value</h3>
<div class='method'>
<p>the current History instance</div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*lines' href='./../Overviews/Methods.html#lines'>lines</a> </h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*lineShorts' href='./../Overviews/Methods.html#lineShorts'>lineShorts</a> </h3>
<div class='method'>
<p>the curently recorded lines in History.current.
<p>lineShorts is a copy with shortened strings for display.</div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*new' href='./../Overviews/Methods.html#new'>new</a> (<span class='argstr'>lines</span>)</h3>
<div class='method'>
<p>create a new instance.</div><h3><a class='anchor' name='Inherited class methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h3><a class='anchor' name='Undocumented class methods'>Undocumented class methods</a></h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*checkPath' href='./../Overviews/Methods.html#checkPath'>checkPath</a> (<span class='argstr'>path</span>)</h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*formatTime' href='./../Overviews/Methods.html#formatTime'>formatTime</a> (<span class='argstr'>val</span>)</h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*forwardFunc' href='./../Overviews/Methods.html#forwardFunc'>forwardFunc</a></h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*forwardFunc' href='./../Overviews/Methods.html#forwardFunc'>forwardFunc</a> = value</h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*localOff' href='./../Overviews/Methods.html#localOff'>localOff</a> </h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*localOn' href='./../Overviews/Methods.html#localOn'>localOn</a> </h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*network' href='./../Overviews/Methods.html#network'>network</a> </h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*prettyString' href='./../Overviews/Methods.html#prettyString'>prettyString</a> (<span class='argstr'>str</span>)</h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*readFromDoc' href='./../Overviews/Methods.html#readFromDoc'>readFromDoc</a> (<span class='argstr'>path</span>)</h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*recordLocally' href='./../Overviews/Methods.html#recordLocally'>recordLocally</a></h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*recordLocally' href='./../Overviews/Methods.html#recordLocally'>recordLocally</a> = value</h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*removeAt' href='./../Overviews/Methods.html#removeAt'>removeAt</a> (<span class='argstr'>index</span>)</h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*removeLast' href='./../Overviews/Methods.html#removeLast'>removeLast</a> </h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*shorten' href='./../Overviews/Methods.html#shorten'>shorten</a> (<span class='argstr'>line</span>, <span class='argstr'>maxLength</span>)</h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*showLogFile' href='./../Overviews/Methods.html#showLogFile'>showLogFile</a> </h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*showLogFolder' href='./../Overviews/Methods.html#showLogFolder'>showLogFolder</a> </h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*startTimeStamp' href='./../Overviews/Methods.html#startTimeStamp'>startTimeStamp</a> </h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*started' href='./../Overviews/Methods.html#started'>started</a> </h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*unformatTime' href='./../Overviews/Methods.html#unformatTime'>unformatTime</a> (<span class='argstr'>str</span>)</h3>
<h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3><a class='anchor' name='Inherited instance methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h3><a class='anchor' name='Undocumented instance methods'>Undocumented instance methods</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-addLine' href='./../Overviews/Methods.html#addLine'>addLine</a> (<span class='argstr'>now</span>, <span class='argstr'>authID</span>, <span class='argstr'>lineStr</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-clear' href='./../Overviews/Methods.html#clear'>clear</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-document' href='./../Overviews/Methods.html#document'>document</a> (<span class='argstr'>title: ""</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-drop' href='./../Overviews/Methods.html#drop'>drop</a> (<span class='argstr'>num</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-hasMovedOn' href='./../Overviews/Methods.html#hasMovedOn'>hasMovedOn</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-hasMovedOn' href='./../Overviews/Methods.html#hasMovedOn'>hasMovedOn</a> = <span class='argstr'>flag: true</span></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-indicesFor' href='./../Overviews/Methods.html#indicesFor'>indicesFor</a> (<span class='argstr'>keys</span>, <span class='argstr'>string: ""</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-isCurrent' href='./../Overviews/Methods.html#isCurrent'>isCurrent</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-keep' href='./../Overviews/Methods.html#keep'>keep</a> (<span class='argstr'>num</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-keys' href='./../Overviews/Methods.html#keys'>keys</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-lineShorts' href='./../Overviews/Methods.html#lineShorts'>lineShorts</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-lines' href='./../Overviews/Methods.html#lines'>lines</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-lines' href='./../Overviews/Methods.html#lines'>lines</a> = <span class='argstr'>inLines</span></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-loadCS' href='./../Overviews/Methods.html#loadCS'>loadCS</a> (<span class='argstr'>path</span>, <span class='argstr'>forward: false</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-loadStory' href='./../Overviews/Methods.html#loadStory'>loadStory</a> (<span class='argstr'>path</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-makeCurrent' href='./../Overviews/Methods.html#makeCurrent'>makeCurrent</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-makeWin' href='./../Overviews/Methods.html#makeWin'>makeWin</a> (<span class='argstr'>where</span>, <span class='argstr'>numItems: 8</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-matchKeys' href='./../Overviews/Methods.html#matchKeys'>matchKeys</a> (<span class='argstr'>key</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-matchString' href='./../Overviews/Methods.html#matchString'>matchString</a> (<span class='argstr'>str</span>, <span class='argstr'>ignoreCase: true</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-play' href='./../Overviews/Methods.html#play'>play</a> (<span class='argstr'>start: 0</span>, <span class='argstr'>end</span>, <span class='argstr'>verbose: true</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-player' href='./../Overviews/Methods.html#player'>player</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-removeAt' href='./../Overviews/Methods.html#removeAt'>removeAt</a> (<span class='argstr'>index</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-removeLast' href='./../Overviews/Methods.html#removeLast'>removeLast</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-saveCS' href='./../Overviews/Methods.html#saveCS'>saveCS</a> (<span class='argstr'>path</span>, <span class='argstr'>forward: false</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-saveStory' href='./../Overviews/Methods.html#saveStory'>saveStory</a> (<span class='argstr'>path</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-stop' href='./../Overviews/Methods.html#stop'>stop</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-storyString' href='./../Overviews/Methods.html#storyString'>storyString</a> </h3>
<h2><a class='anchor' name='examples'>Examples</a></h2>
<pre class='code prettyprint lang-sc'>History.clear.end;        // clear to start over
History.start;             // starts recording, opens log file

                // execute these lines one by one
1 + 2;
p = ProxySpace.push(s.boot);
~a = {Dust.ar([1,1] * 30 ) * 0.3 }; //
~a.play;
~a.end;

History.end;        // History.end ends logging as well.


History.document; // create a document with all the changes
History.showLogFile; // open the log file as it was written.

g = History.makeWin(0@20); // make a gui window, put it where you like
g = History.makeWin(0@20, 5); // lines to see in textview

History.play;            // posts lines by default;

History.play(verbose: false);    // just do it, no posting;

    // continue recording
History.start;

10 + 200;            // enter 5 more lines
p.push;
~b = { |freq=500| LFDNoise3.ar(freq.dup(2)) * 0.2 };
~b.play;
~b.set(\freq, 1000);
~b.end(2);

History.end;


    // save current history to a file.
History.saveCS("~/Desktop/TestHist.scd");
h = History.new.loadCS("~/Desktop/TestHist.scd");
h.lines.printcsAll; "";

    // under the hood: History.someCommand goes to History.current:

    // History.current is where new codelines always go.
h = History.current;
h.lines.printcsAll; "";
h.lineShorts.printcsAll; "";    // lineshorts are for gui display

History.enter("2 + 2");        // make a simple entry by hand.
h.lines.printcsAll; "";

        // one can edit a history:

History.drop(-1); // drop the oldest memory
History.drop(1); // drop the newest memory

h.keep(9);         h.lines.printAll; "";
h.drop(3);         h.lines.printAll; "";
h.removeLast;        h.lines.printAll;"";
h.removeAt([3, 4]);    h.lines.printAll;"";


// more examples
History.clear.start;

1 + 2;            // code lines get stored

(nil + 2).postln;    // error lines are ignored

    // comment-only line is kept, empty lines not:

    // save and load as text files


History.saveCS; // save as compilestring for reloading.
            // save with name, in forward time order.
History.saveCS("~/Desktop/testHist.scd", forward: true);
            // load back in from file
h = History.new.loadCS("~/Desktop/testHist.scd", forward: true);
h.lines.postcs; "";

    // save as human-readable/hand-playable story
History.saveStory        // write all to time-stamped file in historical order
History.saveStory("~/Desktop/myTestStory.scd");    // ... with given filename.
History.loadStory("~/Desktop/myTestStory.scd");    // load from story format file

Document.open("~/Desktop/myTestStory.scd");    // the story file is human-readable.


    // Various Internals
    // make a new instance of History by hand:
h = History([[0, \me, "1+2"], [1.234, \me, "q = q ? ();"], [3, \me, "\"History\".speak"]]);
h.lines.printcsAll; "";
h.lineShorts.printcsAll; "";

h.play;    // play it
h.stop;


    // string formatting utils
h.storyString;
History.formatTime(1234.56);
History.unformatTime("0:20:34.56");
(
History.prettyString("
/* removes line returns at start and end of code strings ... */

").postcs;
)    // convert a line to a short string of n characters for gui display
History.shorten(h.lines.first.postcs, 60).postcs;


    // in networked setups, one may turn off local recording and rely on remote recording:
History.recordLocally
History.localOff
History.recordLocally
History.localOn
History.recordLocally


    // by default, history always logs here (and makes the folder if not there yet):
History.logFolder;
History.showLogFolder;
History.logPath;
History.showLogFile;    // current logfile...
    // todo: optionally, one should be able to turn logging off?

    // filtering lines, to get subsets of all lines by key and/or searchstring:

    // get indices for specific keys
h = History([[0, \me, "a=1+2"], [1, \me, "3+5"], [1.234, \you, "q = q ? ();"], [3, \her, "\"Herstory ==== \".speak"]]);
h.keys;
h.matchKeys(\me);
h.matchKeys(\you);
h.matchKeys(\her);
h.matchKeys;         // nil if no test
h.matchKeys(\all);     // all keys match
h.matchKeys([\me, \her])
h.matchKeys(\isidor)    // empty array if no line found

h.matchString("Herst");
h.matchString("q");
h.matchString("1+");
h.matchString("herStory", false); // ignoreCase is false by default
h.matchString("herStory", true); // ignoreCase

h.indicesFor([\me, \her], "=");    // indices for line written by \me or \her AND containing "=";

    // searching is only an interface/access feature,
    // so please read on at HistoryGui help ...
h.makeWin;

HistoryGui.help;</pre>

<p><div class='doclink'>source: <a href='file:///usr/local/share/SuperCollider/HelpSource/Classes/History.schelp'>/usr/local/share/SuperCollider/HelpSource/Classes/History.schelp</a><br>link::Classes/History::<br>sc version: 3.8dev</div></div></body></html>