<html><head><title>EnvirGui</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='./../prettify.js' type='text/javascript'></script>
<script src='./../lang-sc.js' type='text/javascript'></script>
<script type='text/javascript'>var helpRoot='./..';</script>
</head>
<ul id='menubar'></ul>
<body onload='fixTOC();prettyPrint()'>
<div class='contents'>
<div class='header'>
<div id='label'>SuperCollider CLASSES</div>
<div id='categories'><a href='./../Browse.html#Libraries>JITLib>GUI'>Libraries>JITLib>GUI</a>, <a href='./../Browse.html#Live Coding'>Live Coding</a></div>
<h1>EnvirGui</h1>
<div id='summary'>display the contents of an environment for editing</div>
</div>
<div class='subheader'>
<div id='filename'>Source: /usr/local/share/SuperCollider/SCClassLibrary/JITLib/GUI/<a href='file:///usr/local/share/SuperCollider/SCClassLibrary/JITLib/GUI/EnvirGui.sc'>EnvirGui.sc</a></div><div id='superclasses'>Inherits from: <a href="../Classes/JITGui.html">JITGui</a> : <a href="../Classes/Object.html">Object</a></div>
<div id='subclasses'>Subclasses: <a href="../Classes/NdefParamGui.html">NdefParamGui</a></div>
<div id='related'>See also: <a href="./../Classes/EZText.html">EZText</a>, <a href="./../Classes/TdefGui.html">TdefGui</a>, <a href="./../Classes/PdefGui.html">PdefGui</a></div>
</div>
<div id='toc'>
<ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc2'><a href='#Creation'>Creation</a></li>
<ul class='toc'><li class='toc3'><a href='#*new'>new</a> </li>
</ul><li class='toc2'><a href='#Inherited class methods'>Inherited class methods</a></li>
</ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc2'><a href='#Instance Variables'>Instance Variables</a></li>
<ul class='toc'><li class='toc3'><a href='#-numItems'>numItems</a> </li>
<li class='toc3'><a href='#-envir'>envir</a> </li>
<li class='toc3'><a href='#-zone'>zone</a> </li>
<li class='toc3'><a href='#-paramViews'>paramViews</a> </li>
<li class='toc3'><a href='#-specs'>specs</a> </li>
<li class='toc3'><a href='#-editKeys'>editKeys</a> </li>
<li class='toc3'><a href='#-keysRotation'>keysRotation</a> </li>
<li class='toc3'><a href='#-docBut'>docBut</a>  <a href='#-knowBut'>knowBut</a>  <a href='#-parentBut'>parentBut</a>  <a href='#-protoBut'>protoBut</a> </li>
</ul><li class='toc2'><a href='#Some Methods'>Some Methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-object'>object</a> </li>
<li class='toc3'><a href='#-envir'>envir</a> </li>
<li class='toc3'><a href='#-name'>name</a> </li>
<li class='toc3'><a href='#-getSpec'>getSpec</a> </li>
<li class='toc3'><a href='#-putSpec'>putSpec</a> </li>
<li class='toc3'><a href='#-replaceKeys'>replaceKeys</a>  <a href='#-addReplaceKey'>addReplaceKey</a>  <a href='#-removeReplaceKey'>removeReplaceKey</a>  <a href='#-showKeyFor'>showKeyFor</a> </li>
<li class='toc3'><a href='#-highlight'>highlight</a>  <a href='#-unhighlight'>unhighlight</a>  <a href='#-colorizeArea'>colorizeArea</a> </li>
</ul><li class='toc2'><a href='#Some internal methods'>Some internal methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-setByKeys'>setByKeys</a> </li>
<li class='toc3'><a href='#-showFields'>showFields</a> </li>
<li class='toc3'><a href='#-useRanger'>useRanger</a> </li>
<li class='toc3'><a href='#-makeViews'>makeViews</a>  <a href='#-makeNameView'>makeNameView</a>  <a href='#-makeOptionalViews'>makeOptionalViews</a>  <a href='#-makeKnowBut'>makeKnowBut</a>  <a href='#-makeDocBut'>makeDocBut</a>  <a href='#-makeClrBut'>makeClrBut</a>  <a href='#-makeProtoBut'>makeProtoBut</a>  <a href='#-makeParentBut'>makeParentBut</a> </li>
<li class='toc3'><a href='#-accepts'>accepts</a>  <a href='#-setDefaults'>setDefaults</a>  <a href='#-getState'>getState</a>  <a href='#-checkUpdate'>checkUpdate</a>  <a href='#-updateButtons'>updateButtons</a> </li>
</ul><li class='toc2'><a href='#Inherited instance methods'>Inherited instance methods</a></li>
<li class='toc2'><a href='#Undocumented instance methods'>Undocumented instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-setFunc'>setFunc</a> </li>
</ul></ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'></ul></ul></div><h2><a class='anchor' name='description'>Description</a></h2>

<p>EnvirGui displays all keys and values of an environment, so one can change them flexibly. Single number get displayed with an <a href="./../Classes/EZSlider.html">EZSlider</a>, pairs of numbers with an <a href="./../Classes/EZRanger.html">EZRanger</a>, and anything else is shown as an <a href="./../Classes/EZText.html">EZText</a> (a text field).<h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3><a class='anchor' name='Creation'>Creation</a></h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*new' href='./../Overviews/Methods.html#new'>new</a> (<span class='argstr'>object</span>, <span class='argstr'>numItems: 8</span>, <span class='argstr'>parent</span>, <span class='argstr'>bounds</span>, <span class='argstr'>makeSkip: true</span>, <span class='argstr'>options: [  ]</span>)</h3>
<div class='method'>
<p>create a new EnvirGui NdefParamGui<pre class='code prettyprint lang-sc'>// simple example
g = EnvirGui.new(nil, 5);    // empty with 5 slots
g.parent.alwaysOnTop_(true);
g.object_((a: 1, b: \werty, freq: [500, 2000]));    // put some things in
g.envir.put(\karl1, \otto1);                // one more
g.envir.put(\caesar, \julius);                // one more

g.envir.putAll((b: -12, r: 1, s: 2, t: 3, u: 4, v: 5))

g.object_((x: 2));    // put another object in

g.envir.putAll((b: -12, r: 1, s: 2, t: 3, u: 4, v: 5))

g.envir.removeAt(\b)
g.envir.removeAt(\r)
g.envir.removeAt(\s)
g.envir.removeAt(\t)
g.envir.removeAt(\u)
g.envir.removeAt(\v)
g.close;</pre>
<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>object<td class='argumentdesc'>
<p>the envir to display<tr><td class='argumentname'>numItems<td class='argumentdesc'>
<p>the number of items to display. If an envir is given, and no num, num is envir.size.<tr><td class='argumentname'>parent<td class='argumentdesc'>
<p>the parent view to display in; if none is given, a new window is created.<tr><td class='argumentname'>bounds<td class='argumentdesc'>
<p>the bounds within which to display; if none is given, bounds are calculated.<tr><td class='argumentname'>makeSkip<td class='argumentdesc'>
<p>flag whether to make a skipjack to manage updates of the envirgui.<tr><td class='argumentname'>options<td class='argumentdesc'>
<p>configuration options</table></div><h3><a class='anchor' name='Inherited class methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3><a class='anchor' name='Instance Variables'>Instance Variables</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-numItems' href='./../Overviews/Methods.html#numItems'>numItems</a> </h3>
<div class='supmethod'>From superclass: <a href='./../Classes/JITGui.html'>JITGui</a></div>
<div class='method'>
<p>how many envir items to display</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-envir' href='./../Overviews/Methods.html#envir'>envir</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-envir' href='./../Overviews/Methods.html#envir'>envir</a> = <span class='argstr'>envir</span></h3>
<div class='method'>
<p>the envir displayed - actually an alias for object.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-zone' href='./../Overviews/Methods.html#zone'>zone</a> </h3>
<div class='supmethod'>From superclass: <a href='./../Classes/JITGui.html'>JITGui</a></div>
<div class='method'>
<p>the composite view the envirgui makes for itself</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-paramViews' href='./../Overviews/Methods.html#paramViews'>paramViews</a> </h3>
<div class='method'>
<p>the paramViews that display the values:<ul>
<li>Single numbers appear in an <a href="./../Classes/EZSlider.html">EZSlider</a>,<li>pairs of numbers will be shown in an <a href="./../Classes/EZRanger.html">EZRanger</a>,<li>all other values are shown as compileStrings in an <a href="./../Classes/EZText.html">EZText</a>.</ul>

<p>See <a href="./../Classes/ParamView.html">ParamView</a> for details.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-specs' href='./../Overviews/Methods.html#specs'>specs</a> </h3>
<div class='method'>
<p>a local dictionary of the specs used for display ranges of numerical parameters by the paramViews of this envirgui. See the <a href="#-getSpec">-getSpec</a> method for details.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-editKeys' href='./../Overviews/Methods.html#editKeys'>editKeys</a> </h3>
<div class='method'>
<p>the keys of the currently displayed items in the dict.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-keysRotation' href='./../Overviews/Methods.html#keysRotation'>keysRotation</a> </h3>
<div class='method'>
<p>if the size of envir exceeds numItems, the keys displayed can be rotated: e.g. with 10 keys displayed on 5 paramViews, keysRotation 0 means show keys (0..4), keysRotation 2 means show keys (2..6), etc.
<p><strong>gui elements present if requested in options</strong></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-docBut' href='./../Overviews/Methods.html#docBut'>docBut</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-knowBut' href='./../Overviews/Methods.html#knowBut'>knowBut</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-parentBut' href='./../Overviews/Methods.html#parentBut'>parentBut</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-protoBut' href='./../Overviews/Methods.html#protoBut'>protoBut</a> </h3>
<div class='method'>
<p></div><h3><a class='anchor' name='Some Methods'>Some Methods</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-object' href='./../Overviews/Methods.html#object'>object</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-object' href='./../Overviews/Methods.html#object'>object</a> = <span class='argstr'>obj</span></h3>
<div class='supmethod'>From superclass: <a href='./../Classes/JITGui.html'>JITGui</a></div>
<div class='method'>
<p>set the environment to show<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>obj<td class='argumentdesc'>
<p>can be nil, a dictionary, an environment, or an event.<pre class='code prettyprint lang-sc'>g = EnvirGui((freq: 120, \amp: 0.2, \pan: -0.5), 12, nil, bounds: Rect(20, 400, 220, 100));
g.object_((a: 1, b: [2, 3], c: \symbol, d: [4, 5, 6], f: { "boing".postln }))</pre>
</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-envir' href='./../Overviews/Methods.html#envir'>envir</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-envir' href='./../Overviews/Methods.html#envir'>envir</a> = <span class='argstr'>envir</span></h3>
<div class='method'>
<p>same as object_(obj)</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-name' href='./../Overviews/Methods.html#name'>name</a><h3 class='imethodname'><span class='methprefix'>-</span><a name='-name' href='./../Overviews/Methods.html#name'>name</a> = <span class='argstr'>name</span></h3>
<div class='method'>
<p>if in its own window, set the window's name<pre class='code prettyprint lang-sc'>g.name_("Yoohoo");</pre>
</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-getSpec' href='./../Overviews/Methods.html#getSpec'>getSpec</a> (<span class='argstr'>key</span>, <span class='argstr'>value</span>)</h3>
<div class='method'>
<p>For editing, numerical parameters need control specs for the ranges on the gui. These can be set locally in the EnvirGui, or global specs will be looked up. If no local or global specs exist for that parameter name, getSpec makes a usable guess for them. (With JITLibExtensions, one can also look up specs attached to an object such as a proxy.)<pre class='code prettyprint lang-sc'>// inline example
g = EnvirGui.new; g.parent.alwaysOnTop_(true);
g.getSpec(\freq, 400);        // \freq exists as global spec, so use that
g.object_((freq: 150));

g.getSpec(\iFrek, 500);        // no global spec, so make a new one:
                // exponential from val * 0.05 to val * 20;
g.specs;            // and keep it here
g.envir.put(\iFrek, 500);</pre>
<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>key<td class='argumentdesc'>
<p>the parameter name for which to find a spec<tr><td class='argumentname'>value<td class='argumentdesc'>
<p>the current value of that param, which is used when guessing specs.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-putSpec' href='./../Overviews/Methods.html#putSpec'>putSpec</a> (<span class='argstr'>key</span>, <span class='argstr'>obj</span>)</h3>
<div class='method'>
<p>add a spec for a given key, or (if it is a global key) override a global spec with a local one:<pre class='code prettyprint lang-sc'>// set a desired range and warp:
g.putSpec(\iFrek, [10, 1000, \exp]);
g.putSpec(\freq, [10, 1000, \exp]);
g.specs;
g.putSpec(\freq, \freq);

// specs are remembered when object changes
g.putSpec(\freq, [10, 1000, \exp]);
g.object_((freq: 200, iFrek: 20));

// if needed, clear specs by hand when switching objects
g.specs.clear; g.object_((freq: 200, iFrek: 20));

g.close</pre>
</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-replaceKeys' href='./../Overviews/Methods.html#replaceKeys'>replaceKeys</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-addReplaceKey' href='./../Overviews/Methods.html#addReplaceKey'>addReplaceKey</a> (<span class='argstr'>replaced</span>, <span class='argstr'>replacer</span>, <span class='argstr'>spec</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-removeReplaceKey' href='./../Overviews/Methods.html#removeReplaceKey'>removeReplaceKey</a> (<span class='argstr'>replacer</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-showKeyFor' href='./../Overviews/Methods.html#showKeyFor'>showKeyFor</a> (<span class='argstr'>key</span>)</h3>
<div class='method'>
<p>keys with technical names can be replaced in the display with clearer names.
<p>e = (longFreq: 123, amp: 0.25); g = EnvirGui(e); g.parent.alwaysOnTop_(true);
<p>g.editKeys; g.addReplaceKey(\longFreq, \freq1, [50, 500, \exp]); g.viewForParam(\longFreq).visible_(false); g.viewForParam(\freq1).visible_(true);
<p>e.put(\z, 345); e.put(\a, 34);
<p>g.replaceKeys g.removeReplaceKey(\longFreq)</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-highlight' href='./../Overviews/Methods.html#highlight'>highlight</a> (<span class='argstr'>index</span>, <span class='argstr'>prefix</span>, <span class='argstr'>color</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-unhighlight' href='./../Overviews/Methods.html#unhighlight'>unhighlight</a> (<span class='argstr'>index</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-colorizeArea' href='./../Overviews/Methods.html#colorizeArea'>colorizeArea</a> (<span class='argstr'>area</span>, <span class='argstr'>hilite: true</span>)</h3>
<div class='method'>
<p>methods for visually emphasizing areas.
<p>g.highlight(0, "&gt;&gt;_", Color.red(1, 0.5)); g.unhighlight(0);</div><h3><a class='anchor' name='Some internal methods'>Some internal methods</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-setByKeys' href='./../Overviews/Methods.html#setByKeys'>setByKeys</a> (<span class='argstr'>newKeys</span>)</h3>
<div class='method'>
<p>update the widgets for the current keys</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-showFields' href='./../Overviews/Methods.html#showFields'>showFields</a> (<span class='argstr'>num: 0</span>)</h3>
<div class='method'>
<p>show (num) active fields, make others invisible.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-useRanger' href='./../Overviews/Methods.html#useRanger'>useRanger</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-useRanger' href='./../Overviews/Methods.html#useRanger'>useRanger</a> = value</h3>
<div class='method'>
<p>set and get whether arrays of 2 number values should be displayed with EZRangers.
<p><strong>methods that make gui elements:</strong></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-makeViews' href='./../Overviews/Methods.html#makeViews'>makeViews</a> (<span class='argstr'>options</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-makeNameView' href='./../Overviews/Methods.html#makeNameView'>makeNameView</a> (<span class='argstr'>nameWid</span>, <span class='argstr'>height</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-makeOptionalViews' href='./../Overviews/Methods.html#makeOptionalViews'>makeOptionalViews</a> (<span class='argstr'>options</span>, <span class='argstr'>height: 20</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-makeKnowBut' href='./../Overviews/Methods.html#makeKnowBut'>makeKnowBut</a> (<span class='argstr'>width</span>, <span class='argstr'>height</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-makeDocBut' href='./../Overviews/Methods.html#makeDocBut'>makeDocBut</a> (<span class='argstr'>width</span>, <span class='argstr'>height</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-makeClrBut' href='./../Overviews/Methods.html#makeClrBut'>makeClrBut</a> (<span class='argstr'>width</span>, <span class='argstr'>height</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-makeProtoBut' href='./../Overviews/Methods.html#makeProtoBut'>makeProtoBut</a> (<span class='argstr'>width</span>, <span class='argstr'>height</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-makeParentBut' href='./../Overviews/Methods.html#makeParentBut'>makeParentBut</a> (<span class='argstr'>width</span>, <span class='argstr'>height</span>)</h3>
<div class='method'>
<p><strong>standard JITGui methods:</strong></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-accepts' href='./../Overviews/Methods.html#accepts'>accepts</a> (<span class='argstr'>obj</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-setDefaults' href='./../Overviews/Methods.html#setDefaults'>setDefaults</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-getState' href='./../Overviews/Methods.html#getState'>getState</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-checkUpdate' href='./../Overviews/Methods.html#checkUpdate'>checkUpdate</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-updateButtons' href='./../Overviews/Methods.html#updateButtons'>updateButtons</a> </h3>
<div class='method'>
<p></div><h3><a class='anchor' name='Inherited instance methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h3><a class='anchor' name='Undocumented instance methods'>Undocumented instance methods</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-setFunc' href='./../Overviews/Methods.html#setFunc'>setFunc</a> (<span class='argstr'>key</span>)</h3>
<h2><a class='anchor' name='examples'>Examples</a></h2>
<pre class='code prettyprint lang-sc'>    // Setting envir variables in a Tdef:
(
Tdef(\text).set(\note, [0, 2, 7], \dur, { [0.1, 0.2, 0.4].choose }, \pan, 0, \amp, 0.1);

w = Window("EZTexts", Rect(200, 400, 304, 120)).front;
w.addFlowLayout;

TdefGui(Tdef(\text), 0, parent: w);

e = EnvirGui(Tdef(\text).envir, 4, parent: w);

Tdef(\text, { |ev|
    var mydur;
    loop {
        mydur = ev.dur;
        (note: ev.note, dur: mydur, amp: ev.amp, pan: ev.pan).postln.play;
        mydur.wait;
    }
}).play;
)

    // or equivalently, use the built-in EnvirGui in TdefGui:
TdefGui(Tdef(\text), 8);

Tdef(\text).set(\yuhu, Prand([2, 3, 5, 8, 13], inf), \magic, [\abra, \cadabra]);

Tdef(\text).clear;
Tdef(\text).envir.clear;</pre>

<p><div class='doclink'>source: <a href='file:///usr/local/share/SuperCollider/HelpSource/Classes/EnvirGui.schelp'>/usr/local/share/SuperCollider/HelpSource/Classes/EnvirGui.schelp</a><br>link::Classes/EnvirGui::<br>sc version: 3.8dev</div></div></body></html>