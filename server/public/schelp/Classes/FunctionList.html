<html><head><title>FunctionList</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='./../prettify.js' type='text/javascript'></script>
<script src='./../lang-sc.js' type='text/javascript'></script>
<script type='text/javascript'>var helpRoot='./..';</script>
</head>
<ul id='menubar'></ul>
<body onload='fixTOC();prettyPrint()'>
<div class='contents'>
<div class='header'>
<div id='label'>SuperCollider CLASSES</div>
<div id='categories'><a href='./../Browse.html#Core>Kernel'>Core>Kernel</a></div>
<h1>FunctionList</h1>
<div id='summary'>A function that composes multiple functions into one</div>
</div>
<div class='subheader'>
<div id='filename'>Source: /usr/local/share/SuperCollider/SCClassLibrary/Common/Core/<a href='file:///usr/local/share/SuperCollider/SCClassLibrary/Common/Core/AbstractFunction.sc'>AbstractFunction.sc</a></div><div id='superclasses'>Inherits from: <a href="../Classes/AbstractFunction.html">AbstractFunction</a> : <a href="../Classes/Object.html">Object</a></div>
</div>
<div id='toc'>
<ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*new'>new</a> </li>
<li class='toc2'><a href='#Inherited class methods'>Inherited class methods</a></li>
</ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-array'>array</a> </li>
<li class='toc3'><a href='#-addFunc'>addFunc</a> </li>
<li class='toc3'><a href='#-removeFunc'>removeFunc</a> </li>
<li class='toc2'><a href='#Inherited instance methods'>Inherited instance methods</a></li>
<li class='toc2'><a href='#Undocumented instance methods'>Undocumented instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-copy'>copy</a> </li>
<li class='toc3'><a href='#-do'>do</a> </li>
<li class='toc3'><a href='#-envirFlop'>envirFlop</a> </li>
<li class='toc3'><a href='#-flop'>flop</a> </li>
<li class='toc3'><a href='#-flopped'>flopped</a> </li>
<li class='toc3'><a href='#-replaceFunc'>replaceFunc</a> </li>
<li class='toc3'><a href='#-value'>value</a> </li>
<li class='toc3'><a href='#-valueArray'>valueArray</a> </li>
<li class='toc3'><a href='#-valueArrayEnvir'>valueArrayEnvir</a> </li>
<li class='toc3'><a href='#-valueEnvir'>valueEnvir</a> </li>
</ul></ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'></ul></ul></div><h2><a class='anchor' name='description'>Description</a></h2>

<p>A FunctionList is a function that composes multiple functions into one. This allows allow to deal transparently with several functions as if they were one and to append new functions at a later point. The functions are evaluated in the order they have in the FunctionList's array, which is by default the order in which they have been added to it.
<p>See the <a href="./../Reference/Functions.html">Functions</a> help file for a basic introduction.<pre class='code prettyprint lang-sc'>a = FunctionList.new;
fork { loop { 0.7.wait; a.value.postln } };
a.addFunc({ 800.rand });
a.addFunc({ "another".scramble });</pre>
<h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*new' href='./../Overviews/Methods.html#new'>new</a> (<span class='argstr'>functions</span>)</h3>
<div class='method'>
<p>create a new instance.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>functions<td class='argumentdesc'>
<p>An array of functions or objects</table></div><h3><a class='anchor' name='Inherited class methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-array' href='./../Overviews/Methods.html#array'>array</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-array' href='./../Overviews/Methods.html#array'>array</a> = value</h3>
<div class='method'>
<p>Set/get the FunctionList's array. New functions can be added to the array directly, e.g.<pre class='code prettyprint lang-sc'>x = FunctionList(...some functions);
x.array = x.array.insert(2, aFunction);</pre>
</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-addFunc' href='./../Overviews/Methods.html#addFunc'>addFunc</a> ( <span class='argstr'>... functions</span>)</h3>
<div class='method'>
<p>This message is used to be able to add to an Object, to a Function, or to a FunctionList. <code class='code prettyprint lang-sc'>nil.addFunc</code> returns a function, if only one function is passed in the argument. <code class='code prettyprint lang-sc'>function.addFunc</code> then returns a FunctionList.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-removeFunc' href='./../Overviews/Methods.html#removeFunc'>removeFunc</a> (<span class='argstr'>function</span>)</h3>
<div class='method'>
<p>remove a function from the list.<h4>Returns:</h4>
<div class='returnvalue'>
<p>the last function when only one function is left, or <code class='code prettyprint lang-sc'>nil</code> when the last function was removed.</div><h4>Discussion:</h4>

<p><code class='code prettyprint lang-sc'>addFunc</code> and <code class='code prettyprint lang-sc'>removeFunc</code> are implemented for <a href="./../Classes/Nil.html">Nil</a>, <a href="./../Classes/Object.html">Object</a> and <a href="./../Classes/FunctionList.html">FunctionList</a><pre class='code prettyprint lang-sc'>nil.addFunc(f) // returns f
obj.addFunc(f) // returns FunctionList([obj, f])
nil.removeFunc(f) // returns nil
obj.removeFunc(f) // returns nil, if f === obj, else obj is returned</pre>
</div><h3><a class='anchor' name='Inherited instance methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h3><a class='anchor' name='Undocumented instance methods'>Undocumented instance methods</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-copy' href='./../Overviews/Methods.html#copy'>copy</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-do' href='./../Overviews/Methods.html#do'>do</a> (<span class='argstr'>function</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-envirFlop' href='./../Overviews/Methods.html#envirFlop'>envirFlop</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-flop' href='./../Overviews/Methods.html#flop'>flop</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-flopped' href='./../Overviews/Methods.html#flopped'>flopped</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-replaceFunc' href='./../Overviews/Methods.html#replaceFunc'>replaceFunc</a> (<span class='argstr'>find</span>, <span class='argstr'>replace</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-value' href='./../Overviews/Methods.html#value'>value</a> ( <span class='argstr'>... args</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-valueArray' href='./../Overviews/Methods.html#valueArray'>valueArray</a> (<span class='argstr'>args</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-valueArrayEnvir' href='./../Overviews/Methods.html#valueArrayEnvir'>valueArrayEnvir</a> (<span class='argstr'>args</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-valueEnvir' href='./../Overviews/Methods.html#valueEnvir'>valueEnvir</a> ( <span class='argstr'>... args</span>)</h3>
<h2><a class='anchor' name='examples'>Examples</a></h2>
<pre class='code prettyprint lang-sc'>// example

a = nil;
a = a.addFunc { |x="", y=""|Â "this % is an % example\n".postf(x, y); 1 };
a.postln;
a = a.addFunc { |x="", y=""| "there is no % that is %\n".postf(x, y); 2 };
a.value;
a.value("text", "extraordinary well written")
a.valueArray(["x", "y"]);</pre>
<pre class='code prettyprint lang-sc'>// Function:do vs FunctionList:do (same)
a.do { |x| x.value };
{ 4 }.do { |x| x.value.postln }

(
().use {
    ~x = "array";
    ~y = "ominous";
    a.valueEnvir;
    a.valueEnvir("list");
}
)</pre>
<pre class='code prettyprint lang-sc'>// removing a function
x = { "removal test".postln };
a.addFunc(x);
a.value;
a = a.removeFunc(x);
a.value;

// mathematics
a = nil;
a = a.addFunc({ 1.0.rand }).addFunc({ [0, 1].choose });
a = a.squared.linexp(0, 1, 1.0, 500);

a.value;</pre>
<pre class='code prettyprint lang-sc'>// compatibility with function multichannel expansion
a = nil;
a = a.addFunc { |x=0| if(x &gt; 0) { 7 } { 1000.rand } };
a = a.addFunc { |x=0| if(x &lt; 0) { 17 } { -1000.rand } };
a.value

a = a.flop;
a.value
a.value([-1, 1])</pre>
<pre class='code prettyprint lang-sc'>// typical usage in a Document action
// see also SCView: addAction example.

d = Document.current;
d.keyDownAction = { "You touched the keyboard.".postln };

d.keyDownAction = d.keyDownAction.addFunc {:x, x&lt;-(1..), :: "already % times\n\n".postf(x) };


d.keyDownAction = nil;

// even if you don't know if there is already an action defined
// one can add one.

(
d.keyDownAction = nil;
d.keyDownAction = d.keyDownAction.addFunc {:x, x&lt;-(1..), :: "already % times\n\n".postf(x) };

);

d.keyDownAction = nil;</pre>
<div class='doclink'>source: <a href='file:///usr/local/share/SuperCollider/HelpSource/Classes/FunctionList.schelp'>/usr/local/share/SuperCollider/HelpSource/Classes/FunctionList.schelp</a><br>link::Classes/FunctionList::<br>sc version: 3.8dev</div></div></body></html>