<!doctype html><html lang='en'><head><title>MenuAction | SuperCollider 3.11.2 Help</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../codemirror.css' type='text/css' />
<link rel='stylesheet' href='./../editor.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../lib/jquery.min.js'></script>
<script src='./../lib/codemirror-5.39.2.min.js' type='text/javascript'></script>
<script src='./../lib/codemirror-addon-simple-5.39.2.min.js' type='text/javascript'></script>
<script>
var helpRoot = './..';
var scdoc_title = 'MenuAction';
var scdoc_sc_version = '3.11.2';
</script>
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='qrc:///qtwebchannel/qwebchannel.js' type='text/javascript'></script>
</head>
<body onload='fixTOC()'>
<div id='toc'>
<div id='toctitle'>MenuAction:</div>
<span class='toc_search'>Filter: <input id='toc_search'></span><ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*new'>new</a> </li>
<li class='toc3'><a href='#*separator'>separator</a> </li>
<li class='toc2'><a href='#Inherited%20class%20methods'>Inherited class methods</a></li>
<li class='toc2'><a href='#Undocumented%20class%20methods'>Undocumented class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*qtClass'>qtClass</a> </li>
</ul></ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-string'>string</a> </li>
<li class='toc3'><a href='#-menu'>menu</a> </li>
<li class='toc3'><a href='#-shortcut'>shortcut</a> </li>
<li class='toc3'><a href='#-checked'>checked</a> </li>
<li class='toc3'><a href='#-toolTip'>toolTip</a> </li>
<li class='toc3'><a href='#-separator'>separator</a> </li>
<li class='toc3'><a href='#-iconVisible'>iconVisible</a> </li>
<li class='toc3'><a href='#-checkable'>checkable</a> </li>
<li class='toc3'><a href='#-enabled'>enabled</a> </li>
<li class='toc3'><a href='#-icon'>icon</a> </li>
<li class='toc3'><a href='#-font'>font</a> </li>
<li class='toc2'><a href='#Events'>Events</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Inherited%20instance%20methods'>Inherited instance methods</a></li>
<li class='toc2'><a href='#Undocumented%20instance%20methods'>Undocumented instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-asMenu'>asMenu</a> </li>
</ul></ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'></ul></ul></div><div id='menubar'></div>
<div class='contents'>
<div class='header'>
<div id='label'>
<span id='folder'>Classes</span>
 | <span id='categories'><a href='./../Browse.html#GUI'>GUI</a></span>
</div><h1>MenuAction<span id='superclasses'> : <a href="../Classes/AbstractMenuAction.html">AbstractMenuAction</a> : <a href="../Classes/QObject.html">QObject</a> : <a href="../Classes/Object.html">Object</a></span>
</h1>
<div id='summary'>An individual menu or toolbar item, that performs an action when clicked.</div>
</div>
<div class='subheader'>
<div id='filename'>Source: <a href='file:///usr/share/SuperCollider/SCClassLibrary/Common/GUI/Base/Menu.sc' title='/usr/share/SuperCollider/SCClassLibrary/Common/GUI/Base/Menu.sc'>Menu.sc</a></div><div id='related'>See also: <a href="./../Classes/Menu.html">Menu</a>, <a href="./../Classes/ToolBar.html">ToolBar</a>, <a href="./../Classes/MainMenu.html">MainMenu</a></div>
</div>
<h2><a class='anchor' name='description'>Description</a></h2>

<p>A MenuAction represents a single action that can occupy multiple <a href="./../Classes/Menu.html">Menu</a>s or a <a href="./../Classes/ToolBar.html">ToolBar</a>s, and will evaluate a function when activated. When added to a menu, these are displayed as menu items. When added to a toolbar, they appear as buttons.<h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3 class='method-code'><span class='method-prefix'>MenuAction.</span><a class='method-name' name='*new' href='./../Overviews/Methods.html#new'>new</a>(<span class='argstr'>string</span>, <span class='argstr'>function</span>)</h3>
<div class='method'>
<p> Create a new Action. Note that one action may occupy multiple menus and toolbars.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>string<td class='argumentdesc'>
<p> The name of the action. This will be its display name if added to a menu.<tr><td class='argumentname'>function<td class='argumentdesc'>
<p> A function to perform when the action is activated.</table></div><h3 class='method-code'><span class='method-prefix'>MenuAction.</span><a class='method-name' name='*separator' href='./../Overviews/Methods.html#separator'>separator</a>(<span class='argstr'>string</span>)</h3>
<div class='method'>
<p> An action that represents a menu or toolbar separator. These are not selectable or clickable.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>string<td class='argumentdesc'>
<p> A label for the separator. These are not always visible, depending on your OS and context.</table></div><h3><a class='anchor' name='Inherited%20class%20methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h3><a class='anchor' name='Undocumented%20class%20methods'>Undocumented class methods</a></h3>
<h3 class='method-code'><span class='method-prefix'>MenuAction.</span><a class='method-name' name='*qtClass' href='./../Overviews/Methods.html#qtClass'>qtClass</a></h3>
<h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-string' href='./../Overviews/Methods.html#string'>string</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-string' href='./../Overviews/Methods.html#string'>string</a> = <span class='argstr'>str</span></h3>
<div class='supmethod'>From superclass: <a href='./../Classes/AbstractMenuAction.html'>AbstractMenuAction</a></div>
<div class='method'>
<p> A string representing the name of the action. This is used as text when it is placed in menus, and on toolbars if it does not have an icon.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>str<td class='argumentdesc'>
<p> A String</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-menu' href='./../Overviews/Methods.html#menu'>menu</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-menu' href='./../Overviews/Methods.html#menu'>menu</a> = <span class='argstr'>b</span></h3>
<div class='supmethod'>From superclass: <a href='./../Classes/AbstractMenuAction.html'>AbstractMenuAction</a></div>
<div class='method'>
<p> A Menu. If present, this action acts as a submenu, or a pop-up menu when placed on a toolbar.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>b<td class='argumentdesc'>
<p> A <a href="./../Classes/Menu.html">Menu</a></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-shortcut' href='./../Overviews/Methods.html#shortcut'>shortcut</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-shortcut' href='./../Overviews/Methods.html#shortcut'>shortcut</a> = <span class='argstr'>str</span></h3>
<div class='supmethod'>From superclass: <a href='./../Classes/AbstractMenuAction.html'>AbstractMenuAction</a></div>
<div class='method'>
<p> A string representing the keyboard shortcut to trigger this action. Keyboard shortcuts are available when an action is attached to a <a href="./../Classes/ToolBar.html">ToolBar</a>, or when it's part of the context menu for a View (see <a href="./../Classes/View.html#-setContextMenuActions">View: -setContextMenuActions</a>)  Shortcut strings are of the form e.g. "Ctrl+M", "Shift+Alt+space" etc. See <a href="https://doc.qt.io/qt-5/qkeysequence.html#details">https://doc.qt.io/qt-5/qkeysequence.html#details</a> for more info.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>str<td class='argumentdesc'>
<p> A String</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-checked' href='./../Overviews/Methods.html#checked'>checked</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-checked' href='./../Overviews/Methods.html#checked'>checked</a> = <span class='argstr'>b</span></h3>
<div class='method'>
<p> Indicates whether the action is checked or unchecked.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>b<td class='argumentdesc'>
<p> A boolean.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-toolTip' href='./../Overviews/Methods.html#toolTip'>toolTip</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-toolTip' href='./../Overviews/Methods.html#toolTip'>toolTip</a> = <span class='argstr'>str</span></h3>
<div class='method'>
<p> A string to display when hovering over the menu item / button.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>str<td class='argumentdesc'>
<p> A String</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-separator' href='./../Overviews/Methods.html#separator'>separator</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-separator' href='./../Overviews/Methods.html#separator'>separator</a> = <span class='argstr'>b</span></h3>
<div class='method'>
<p> Indicates whether the action is a separator.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>b<td class='argumentdesc'>
<p> A Boolean.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-iconVisible' href='./../Overviews/Methods.html#iconVisible'>iconVisible</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-iconVisible' href='./../Overviews/Methods.html#iconVisible'>iconVisible</a> = <span class='argstr'>b</span></h3>
<div class='method'>
<p> Indicates whether the icon for this action will be visible.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>b<td class='argumentdesc'>
<p> A Boolean.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-checkable' href='./../Overviews/Methods.html#checkable'>checkable</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-checkable' href='./../Overviews/Methods.html#checkable'>checkable</a> = <span class='argstr'>b</span></h3>
<div class='method'>
<p> Indicates that the action shows a checkbox and is checkable.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>b<td class='argumentdesc'>
<p> A Boolean</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-enabled' href='./../Overviews/Methods.html#enabled'>enabled</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-enabled' href='./../Overviews/Methods.html#enabled'>enabled</a> = <span class='argstr'>b</span></h3>
<div class='method'>
<p> Indicates that the action is enabled; otherwise it will be greyed out and uninteractive.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>b<td class='argumentdesc'>
<p> A Boolean</table></div></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-icon' href='./../Overviews/Methods.html#icon'>icon</a> = <span class='argstr'>icon</span></h3>
<div class='method'>
<p> An <a href="./../Classes/Image.html">Image</a> associated with the action - to be shown next to the name of the action in both menus and toolbars.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>icon<td class='argumentdesc'>
<p> An <a href="./../Classes/Image.html">Image</a></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-font' href='./../Overviews/Methods.html#font'>font</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-font' href='./../Overviews/Methods.html#font'>font</a> = <span class='argstr'>font</span></h3>
<div class='method'>
<p> The font used to display the action's name. Note that special fonts may or may not be displayed depending on OS and context (e.g. system menu, context menu, toolbar). For example, OSX application menus will honor italicized fonts, but not the font family itself.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>font<td class='argumentdesc'>
<p> A <a href="./../Classes/Font.html">Font</a></table></div><h3><a class='anchor' name='Events'>Events</a></h3>

<p> Menu actions broadcast several kinds of events that can be registered for with the standard <a href="./../Classes/Object.html#-addDependant">Object: -addDependant</a> calls.  Events broadcast by menu:<ul>
<li><code>\changed</code> (issued when one of the actions properties changes)<li><code>\triggered</code> (issued when the action is clicked / activated - value is a boolean representing whether the action is checked)<li><code>\hovered</code><li><code>\toggled</code></ul>

<p> <strong>Events example</strong><textarea class='editor'>(
m = Menu(
    a = MenuAction("Option A"),
    b = MenuAction("Option B")
).title_("Event Example");
f = {
    |action, what, value|
    "MenuAction '%' sent event %, value = %".format(action.string, "\\" ++ what, value).postln;
    if (what == \hovered) { "Hovering over: %".format(action).postln };
    if (what == \triggered) { "Action triggered: %".format(value).postln; m.destroy };
};
a.addDependant(f);
b.addDependant(f);
m.onClose_({ a.removeDependant(f); b.removeDependant(f) }).front;
)</textarea>
<h3><a class='anchor' name='Inherited%20instance%20methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h3><a class='anchor' name='Undocumented%20instance%20methods'>Undocumented instance methods</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-asMenu' href='./../Overviews/Methods.html#asMenu'>asMenu</a></h3>
<h2><a class='anchor' name='examples'>Examples</a></h2>

<p><strong>Simple checkable menu item</strong><textarea class='editor'>(
~view = View().layout_(HLayout(
    Button()
        .states_([["Options..."]])
        .action_({ ~menu.front })
));
~menu = Menu(
    MenuAction("enabled")
        .checkable_(true)
        .action_({
            |a, enabled|
            if (enabled) {
                "Enabled".postln;
                ~view.background = Color.green(1, 0.5);
            } {
                "Disabled".postln;
                ~view.background = Color.clear;
            }
        })
);
~view.front;
)</textarea>

<p><strong>Action help strings</strong><textarea class='editor'>(
~view = View(bounds:300@100).layout_(VLayout(
    Button()
        .states_([["Options..."]])
        .action_({ ~menu.front }),
    ~text = TextView()
));

~menu = Menu (
    MenuAction("Option A").toolTip_("I like option A..."),
    MenuAction("Option B").toolTip_("But option B is better..."),
    MenuAction("Option C").toolTip_("No one really likes C."),
);

~actionFunc = {
    |obj, what, action|
    if (what == \hovered) {
        ~text.string = action.toolTip
    };
    if (what == \aboutToHide) {
        ~text.string = ""
    }
};
~menu.addDependant(~actionFunc);
~view.onClose_({ ~menu.removeDependant(~actionFunc) }).front;

)</textarea>

<p><strong>A more complex example</strong><textarea class='editor'>(
s.waitForBoot {
    ~startIcon = Image(40).draw({
        Pen.fillColor = Color.green;
        Pen.moveTo(5@5);
        Pen.lineTo(35@20);
        Pen.lineTo(5@35);
        Pen.lineTo(5@5);
        Pen.fill;
    });
    ~stopIcon = Image(40).draw({
        Pen.fillColor = Color.red;
        Pen.fillRect(Rect(10, 10, 20, 20));
    });

    ~startAction = MenuAction("start")
                    .action_({ ~playSynth.() })
                    .icon_(~startIcon)
                    .toolTip_("Start playing synth.")
                    .shortcut_("space")
                    .font_(Font(bold:true, size:18));
    ~stopAction = MenuAction("stop")
                    .action_({ ~stopSynth.() })
                    .icon_(~stopIcon)
                    .toolTip_("Stop the synth.")
                    .enabled_(false)
                    .shortcut_(".")
                    .font_(Font(bold:true, size:18));
    ~playing = MenuAction("playing")
                    .enabled_(false)
                    .checkable_(true)
                    .checked_(false);

    ~view = View(bounds:300@200).layout_(VLayout(
        ToolBar(~startAction, ~stopAction, MenuAction.separator, ~playing).focus,
        nil,
        Button().states_([["Options..."]]).action_({
            Menu(~startAction, ~stopAction, MenuAction.separator, ~playing).front;
        })
    ));
    ~view.onClose_({ ~stopSynth.() });

    ~synth = nil;
    ~playSynth = {
        if (~synth.isNil) {
            ~synth = { SinOsc.ar(440) * 0.1 }.play;

            ~startAction.enabled = false;
            ~stopAction.enabled = true;
            ~playing.checked = true;

            ~synth.onFree({
                ~synth = nil;
                {
                    ~playing.checked = false;
                    ~startAction.enabled = true;
                    ~stopAction.enabled = false;
                }.defer
            })
        }
    };

    ~stopSynth = {
        ~synth !? { ~synth.free };
    };

    ~view.front;

}
)</textarea>

<p><div class='doclink'>helpfile source: <a href='file:///usr/share/SuperCollider/HelpSource/Classes/MenuAction.schelp'>/usr/share/SuperCollider/HelpSource/Classes/MenuAction.schelp</a><br>link::Classes/MenuAction::<br></div></div><script src='./../editor.js' type='text/javascript'></script>
</body></html>