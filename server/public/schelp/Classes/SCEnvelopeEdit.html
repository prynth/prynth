<html><head><title>SCEnvelopeEdit</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='./../prettify.js' type='text/javascript'></script>
<script src='./../lang-sc.js' type='text/javascript'></script>
<script type='text/javascript'>var helpRoot='./..';</script>
</head>
<ul id='menubar'></ul>
<body onload='fixTOC();prettyPrint()'>
<div class='contents'>
<div class='header'>
<div id='label'>SuperCollider CLASSES</div>
<div id='categories'><a href='./../Browse.html#GUI>Kits>Cocoa'>GUI>Kits>Cocoa</a></div>
<h1>SCEnvelopeEdit</h1>
<div id='summary'>An envelope editor view</div>
</div>
<div class='subheader'>
<div id='filename'>Location: <b>NOT INSTALLED!</b></div>
<div id='related'>See also: <a href="./../Classes/EnvelopeView.html">EnvelopeView</a></div>
</div>
<div id='toc'>
<ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'><li class='toc2'><a href='#Some Important Issues Regarding SCEnvelopeEdit'>Some Important Issues Regarding SCEnvelopeEdit</a></li>
<ul class='toc'></ul></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*new'>new</a> </li>
<li class='toc3'><a href='#*paletteExample'>paletteExample</a> </li>
<li class='toc2'><a href='#Subclassing and Internal Methods'>Subclassing and Internal Methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*viewClass'>viewClass</a> </li>
</ul><li class='toc2'><a href='#Inherited class methods'>Inherited class methods</a></li>
</ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-refresh'>refresh</a> </li>
<li class='toc3'><a href='#-minLevel'>minLevel</a> </li>
<li class='toc3'><a href='#-minTime'>minTime</a> </li>
<li class='toc3'><a href='#-maxTime'>maxTime</a> </li>
<li class='toc2'><a href='#Subclassing and Internal Methods'>Subclassing and Internal Methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-defaultMouseDownAction'>defaultMouseDownAction</a> </li>
<li class='toc3'><a href='#-env'>env</a> </li>
<li class='toc3'><a href='#-addBreakPoint'>addBreakPoint</a> </li>
<li class='toc3'><a href='#-insertAtTime'>insertAtTime</a> </li>
<li class='toc3'><a href='#-pointsPerSegment'>pointsPerSegment</a> </li>
<li class='toc3'><a href='#-initSCEnvelopeEdit'>initSCEnvelopeEdit</a> </li>
<li class='toc3'><a href='#-redraw'>redraw</a> </li>
<li class='toc3'><a href='#-updateAll'>updateAll</a> </li>
<li class='toc3'><a href='#-updateSegment'>updateSegment</a> </li>
<li class='toc3'><a href='#-clear'>clear</a> </li>
</ul><li class='toc2'><a href='#Inherited instance methods'>Inherited instance methods</a></li>
</ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'></ul></ul></div><h2><a class='anchor' name='description'>Description</a></h2>

<p>An editable Envelope view.<h3><a class='anchor' name='Some Important Issues Regarding SCEnvelopeEdit'>Some Important Issues Regarding SCEnvelopeEdit</a></h3>

<p>The breakpoints are color coded as follows:<table>
<tr><td>blue<td>normal<tr><td>red<td>sustain node<tr><td>green<td>loop node</table>
<h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*new' href='./../Overviews/Methods.html#new'>new</a> </h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>parent<td class='argumentdesc'>
<p>The parent view.<tr><td class='argumentname'>bounds<td class='argumentdesc'>
<p>An instance of <a href="./../Classes/Rect.html">Rect</a>, or a <a href="./../Classes/Point.html">Point</a> indicating <code class='code prettyprint lang-sc'>width@height</code>.<tr><td class='argumentname'>env<td class='argumentdesc'>
<p>The envelope. An instance of <a href="./../Classes/Env.html">Env</a>.<tr><td class='argumentname'>pointsPerSegment<td class='argumentdesc'>
<p>The resolution in points per segment. Default value is 10.</table></div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*paletteExample' href='./../Overviews/Methods.html#paletteExample'>paletteExample</a> </h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>parent<td class='argumentdesc'><tr><td class='argumentname'>bounds<td class='argumentdesc'></table></div><h3><a class='anchor' name='Subclassing and Internal Methods'>Subclassing and Internal Methods</a></h3>

<p>The following methods are usually not used directly or are called by a primitive. Programmers can still call or override these as needed.<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*viewClass' href='./../Overviews/Methods.html#viewClass'>viewClass</a> </h3>
<div class='method'>
<p></div><h3><a class='anchor' name='Inherited class methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-refresh' href='./../Overviews/Methods.html#refresh'>refresh</a> </h3>
<div class='method'>
<p>If the <a href="./../Classes/Env.html">Env</a> object is modified directly, this needs to be called to update the GUI.
<p>maxLevel Changes maximum level shown in editor.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>level<td class='argumentdesc'>
<p>An instance of <a href="./../Classes/Float.html">Float</a>.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-minLevel' href='./../Overviews/Methods.html#minLevel'>minLevel</a> </h3>
<div class='method'>
<p>Changes minimum level shown in editor.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>level<td class='argumentdesc'>
<p>An instance of <a href="./../Classes/Float.html">Float</a>.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-minTime' href='./../Overviews/Methods.html#minTime'>minTime</a> </h3>
<div class='method'>
<p>Changes minimum time (sec) shown in editor. Negative times are okay because <a href="./../Classes/Env.html">Env</a> uses inter-node durations.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>sec<td class='argumentdesc'>
<p>An instance of <a href="./../Classes/Float.html">Float</a>. Seconds.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-maxTime' href='./../Overviews/Methods.html#maxTime'>maxTime</a> </h3>
<div class='method'>
<p>Changes maximum time (sec) shown in editor.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>sec<td class='argumentdesc'>
<p>An instance of <a href="./../Classes/Float.html">Float</a>. Seconds.</table></div><h3><a class='anchor' name='Subclassing and Internal Methods'>Subclassing and Internal Methods</a></h3>

<p>The following methods are usually not used directly or are called by a primitive. Programmers can still call or override these as needed.<h3 class='imethodname'><span class='methprefix'>-</span><a name='-defaultMouseDownAction' href='./../Overviews/Methods.html#defaultMouseDownAction'>defaultMouseDownAction</a> </h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>x<td class='argumentdesc'><tr><td class='argumentname'>y<td class='argumentdesc'><tr><td class='argumentname'>modifiers<td class='argumentdesc'><tr><td class='argumentname'>buttonNumber<td class='argumentdesc'><tr><td class='argumentname'>clickCount<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-env' href='./../Overviews/Methods.html#env'>env</a> </h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>e<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-addBreakPoint' href='./../Overviews/Methods.html#addBreakPoint'>addBreakPoint</a> </h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>level<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-insertAtTime' href='./../Overviews/Methods.html#insertAtTime'>insertAtTime</a> </h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>time<td class='argumentdesc'><tr><td class='argumentname'>level<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-pointsPerSegment' href='./../Overviews/Methods.html#pointsPerSegment'>pointsPerSegment</a> </h3>
<div class='method'>
<p></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-initSCEnvelopeEdit' href='./../Overviews/Methods.html#initSCEnvelopeEdit'>initSCEnvelopeEdit</a> </h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>argEnv<td class='argumentdesc'><tr><td class='argumentname'>argPPS<td class='argumentdesc'><tr><td class='argumentname'>setMinMax<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-redraw' href='./../Overviews/Methods.html#redraw'>redraw</a> </h3>
<div class='method'>
<p></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-updateAll' href='./../Overviews/Methods.html#updateAll'>updateAll</a> </h3>
<div class='method'>
<p></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-updateSegment' href='./../Overviews/Methods.html#updateSegment'>updateSegment</a> </h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>segNum<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-clear' href='./../Overviews/Methods.html#clear'>clear</a> </h3>
<div class='method'>
<p></div><h3><a class='anchor' name='Inherited instance methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h2><a class='anchor' name='examples'>Examples</a></h2>

<p>Make a basic editor:<pre class='code prettyprint lang-sc'>(
e = Env([1, 2], [10]);
w = Window("Env Editor", Rect(200, 200, 300, 200));
v = SCEnvelopeEdit(w, w.view.bounds.moveBy(20, 20).resizeBy(-40, -40), e, 20).resize_(5);
w.front;
)

v.addBreakPoint;

(
v.clear;
v.redraw;
v;
)

v.maxLevel_(2); // to give more headroom
v.maxTime_(2); // to increase release point
v.minTime_(-1); // to increase attack time

e.curves_('sin'); // env object is changed
v.refresh; // must refresh editor</pre>

<p>Controlling a Synth<pre class='code prettyprint lang-sc'>s.boot;

(
e = Env([0, 1, 0.7, 0.9, 0], [0.03, 0.03, 0.03, 0.03], 'sin');
f = Env([0, 1, 0.7, 0.9, 0], [0.03, 0.03, 0.03, 0.03], 'sin');
w = Window("Shards", Rect(100, 100, 500, 400));
v = SCEnvelopeEdit(w, w.view.bounds.resizeBy(-20, -200), e, 10).resize_(2);
StaticText(w, v.bounds).string_(" amplitude").resize_(2);
x = SCEnvelopeEdit(w, v.bounds.moveBy(0, 200), f, 10).resize_(2);
StaticText(w, x.bounds).string_(" frequency").resize_(2);
w.front;
)

(
SynthDef("sineBlip", {
    arg freq = 440, vol = 0.1, la0, la1, la2, la3, la4, ta0, ta1, ta2, ta3, crva,
        lf0, lf1, lf2, lf3, lf4, tf0, tf1, tf2, tf3, crvf;
    var signal, fenv, aenv;
    fenv = EnvGen.ar(Env([lf0, lf1, lf2, lf3, lf4], [tf0, tf1, tf2, tf3], crvf));
    aenv = EnvGen.ar(Env([la0, la1, la2, la3, la4], [ta0, ta1, ta2, ta3], crva), doneAction: 2);
    signal = SinOsc.ar([freq, freq*2] * fenv) * aenv * vol;
    Out.ar(0, signal.dup);
}).send(s);
)

(
Routine({
    var par, indices;
    indices = (2..21);
    loop({
        par = (indices +++ (
            v.env.levels ++
            v.env.times ++
            v.env.curves ++
            x.env.levels ++
            x.env.times ++
            x.env.curves)).flatten;
        s.sendBundle(s.latency, [\s_new, "sineBlip", -1, 1, 1, \freq, exprand(4e3,11e3)] ++ par);
        0.04.wait;
    });
}).play;
)</pre>

<p><div class='doclink'>source: <a href='file:///usr/local/share/SuperCollider/HelpSource/Classes/SCEnvelopeEdit.schelp'>/usr/local/share/SuperCollider/HelpSource/Classes/SCEnvelopeEdit.schelp</a><br>link::Classes/SCEnvelopeEdit::<br>sc version: 3.8dev</div></div></body></html>