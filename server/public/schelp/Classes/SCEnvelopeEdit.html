<!doctype html><html lang='en'><head><title>SCEnvelopeEdit | SuperCollider 3.11.2 Help</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../codemirror.css' type='text/css' />
<link rel='stylesheet' href='./../editor.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../lib/jquery.min.js'></script>
<script src='./../lib/codemirror-5.39.2.min.js' type='text/javascript'></script>
<script src='./../lib/codemirror-addon-simple-5.39.2.min.js' type='text/javascript'></script>
<script>
var helpRoot = './..';
var scdoc_title = 'SCEnvelopeEdit';
var scdoc_sc_version = '3.11.2';
</script>
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='qrc:///qtwebchannel/qwebchannel.js' type='text/javascript'></script>
</head>
<body onload='fixTOC()'>
<div id='toc'>
<div id='toctitle'>SCEnvelopeEdit:</div>
<span class='toc_search'>Filter: <input id='toc_search'></span><ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'><li class='toc2'><a href='#Some%20Important%20Issues%20Regarding%20SCEnvelopeEdit'>Some Important Issues Regarding SCEnvelopeEdit</a></li>
<ul class='toc'></ul></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*new'>new</a> </li>
<li class='toc3'><a href='#*paletteExample'>paletteExample</a> </li>
<li class='toc2'><a href='#Subclassing%20and%20Internal%20Methods'>Subclassing and Internal Methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*viewClass'>viewClass</a> </li>
</ul><li class='toc2'><a href='#Inherited%20class%20methods'>Inherited class methods</a></li>
</ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-refresh'>refresh</a> </li>
<li class='toc3'><a href='#-minLevel'>minLevel</a> </li>
<li class='toc3'><a href='#-minTime'>minTime</a> </li>
<li class='toc3'><a href='#-maxTime'>maxTime</a> </li>
<li class='toc2'><a href='#Subclassing%20and%20Internal%20Methods'>Subclassing and Internal Methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-defaultMouseDownAction'>defaultMouseDownAction</a> </li>
<li class='toc3'><a href='#-env'>env</a> </li>
<li class='toc3'><a href='#-addBreakPoint'>addBreakPoint</a> </li>
<li class='toc3'><a href='#-insertAtTime'>insertAtTime</a> </li>
<li class='toc3'><a href='#-pointsPerSegment'>pointsPerSegment</a> </li>
<li class='toc3'><a href='#-initSCEnvelopeEdit'>initSCEnvelopeEdit</a> </li>
<li class='toc3'><a href='#-redraw'>redraw</a> </li>
<li class='toc3'><a href='#-updateAll'>updateAll</a> </li>
<li class='toc3'><a href='#-updateSegment'>updateSegment</a> </li>
<li class='toc3'><a href='#-clear'>clear</a> </li>
</ul><li class='toc2'><a href='#Inherited%20instance%20methods'>Inherited instance methods</a></li>
</ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'></ul></ul></div><div id='menubar'></div>
<div class='contents'>
<div class='header'>
<div id='label'>
<span id='folder'>Classes</span>
 | <span id='categories'><a href='./../Browse.html#GUI'>GUI</a>&#8201;&gt;&#8201;<a href='./../Browse.html#GUI>Kits'>Kits</a>&#8201;&gt;&#8201;<a href='./../Browse.html#GUI>Kits>Cocoa'>Cocoa</a></span>
</div><h1>SCEnvelopeEdit</h1>
<div id='summary'>An envelope editor view</div>
</div>
<div class='subheader'>
<div id='filename'>Location: <b>NOT INSTALLED!</b></div>
<div id='related'>See also: <a href="./../Classes/EnvelopeView.html">EnvelopeView</a></div>
</div>
<h2><a class='anchor' name='description'>Description</a></h2>

<p>An editable Envelope view.<h3><a class='anchor' name='Some%20Important%20Issues%20Regarding%20SCEnvelopeEdit'>Some Important Issues Regarding SCEnvelopeEdit</a></h3>

<p>The breakpoints are color coded as follows:<table>
<tr><td>blue<td>normal<tr><td>red<td>sustain node<tr><td>green<td>loop node</table>
<h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='*new' href='./../Overviews/Methods.html#new'>new</a></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>parent<td class='argumentdesc'>
<p>The parent view.<tr><td class='argumentname'>bounds<td class='argumentdesc'>
<p>An instance of <a href="./../Classes/Rect.html">Rect</a>, or a <a href="./../Classes/Point.html">Point</a> indicating <code>width@height</code>.<tr><td class='argumentname'>env<td class='argumentdesc'>
<p>The envelope. An instance of <a href="./../Classes/Env.html">Env</a>.<tr><td class='argumentname'>pointsPerSegment<td class='argumentdesc'>
<p>The resolution in points per segment. Default value is 10.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='*paletteExample' href='./../Overviews/Methods.html#paletteExample'>paletteExample</a></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>parent<td class='argumentdesc'><tr><td class='argumentname'>bounds<td class='argumentdesc'></table></div><h3><a class='anchor' name='Subclassing%20and%20Internal%20Methods'>Subclassing and Internal Methods</a></h3>

<p>The following methods are usually not used directly or are called by a primitive. Programmers can still call or override these as needed.<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='*viewClass' href='./../Overviews/Methods.html#viewClass'>viewClass</a></h3>
<div class='method'>
<p></div><h3><a class='anchor' name='Inherited%20class%20methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-refresh' href='./../Overviews/Methods.html#refresh'>refresh</a></h3>
<div class='method'>
<p>If the <a href="./../Classes/Env.html">Env</a> object is modified directly, this needs to be called to update the GUI.
<p>maxLevel Changes maximum level shown in editor.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>level<td class='argumentdesc'>
<p>An instance of <a href="./../Classes/Float.html">Float</a>.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-minLevel' href='./../Overviews/Methods.html#minLevel'>minLevel</a></h3>
<div class='method'>
<p>Changes minimum level shown in editor.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>level<td class='argumentdesc'>
<p>An instance of <a href="./../Classes/Float.html">Float</a>.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-minTime' href='./../Overviews/Methods.html#minTime'>minTime</a></h3>
<div class='method'>
<p>Changes minimum time (sec) shown in editor. Negative times are okay because <a href="./../Classes/Env.html">Env</a> uses inter-node durations.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>sec<td class='argumentdesc'>
<p>An instance of <a href="./../Classes/Float.html">Float</a>. Seconds.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-maxTime' href='./../Overviews/Methods.html#maxTime'>maxTime</a></h3>
<div class='method'>
<p>Changes maximum time (sec) shown in editor.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>sec<td class='argumentdesc'>
<p>An instance of <a href="./../Classes/Float.html">Float</a>. Seconds.</table></div><h3><a class='anchor' name='Subclassing%20and%20Internal%20Methods'>Subclassing and Internal Methods</a></h3>

<p>The following methods are usually not used directly or are called by a primitive. Programmers can still call or override these as needed.<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-defaultMouseDownAction' href='./../Overviews/Methods.html#defaultMouseDownAction'>defaultMouseDownAction</a></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>x<td class='argumentdesc'><tr><td class='argumentname'>y<td class='argumentdesc'><tr><td class='argumentname'>modifiers<td class='argumentdesc'><tr><td class='argumentname'>buttonNumber<td class='argumentdesc'><tr><td class='argumentname'>clickCount<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-env' href='./../Overviews/Methods.html#env'>env</a></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>e<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-addBreakPoint' href='./../Overviews/Methods.html#addBreakPoint'>addBreakPoint</a></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>level<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-insertAtTime' href='./../Overviews/Methods.html#insertAtTime'>insertAtTime</a></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>time<td class='argumentdesc'><tr><td class='argumentname'>level<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-pointsPerSegment' href='./../Overviews/Methods.html#pointsPerSegment'>pointsPerSegment</a></h3>
<div class='method'>
<p></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-initSCEnvelopeEdit' href='./../Overviews/Methods.html#initSCEnvelopeEdit'>initSCEnvelopeEdit</a></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>argEnv<td class='argumentdesc'><tr><td class='argumentname'>argPPS<td class='argumentdesc'><tr><td class='argumentname'>setMinMax<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-redraw' href='./../Overviews/Methods.html#redraw'>redraw</a></h3>
<div class='method'>
<p></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-updateAll' href='./../Overviews/Methods.html#updateAll'>updateAll</a></h3>
<div class='method'>
<p></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-updateSegment' href='./../Overviews/Methods.html#updateSegment'>updateSegment</a></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>segNum<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-clear' href='./../Overviews/Methods.html#clear'>clear</a></h3>
<div class='method'>
<p></div><h3><a class='anchor' name='Inherited%20instance%20methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h2><a class='anchor' name='examples'>Examples</a></h2>

<p>Make a basic editor:<textarea class='editor'>(
e = Env([1, 2], [10]);
w = Window("Env Editor", Rect(200, 200, 300, 200));
v = SCEnvelopeEdit(w, w.view.bounds.moveBy(20, 20).resizeBy(-40, -40), e, 20).resize_(5);
w.front;
)

v.addBreakPoint;

(
v.clear;
v.redraw;
v;
)

v.maxLevel_(2); // to give more headroom
v.maxTime_(2); // to increase release point
v.minTime_(-1); // to increase attack time

e.curves_('sin'); // env object is changed
v.refresh; // must refresh editor</textarea>

<p>Controlling a Synth<textarea class='editor'>s.boot;

(
e = Env([0, 1, 0.7, 0.9, 0], [0.03, 0.03, 0.03, 0.03], 'sin');
f = Env([0, 1, 0.7, 0.9, 0], [0.03, 0.03, 0.03, 0.03], 'sin');
w = Window("Shards", Rect(100, 100, 500, 400));
v = SCEnvelopeEdit(w, w.view.bounds.resizeBy(-20, -200), e, 10).resize_(2);
StaticText(w, v.bounds).string_(" amplitude").resize_(2);
x = SCEnvelopeEdit(w, v.bounds.moveBy(0, 200), f, 10).resize_(2);
StaticText(w, x.bounds).string_(" frequency").resize_(2);
w.front;
)

(
SynthDef("sineBlip", {
    arg freq = 440, vol = 0.1, la0, la1, la2, la3, la4, ta0, ta1, ta2, ta3, crva,
        lf0, lf1, lf2, lf3, lf4, tf0, tf1, tf2, tf3, crvf;
    var signal, fenv, aenv;
    fenv = EnvGen.ar(Env([lf0, lf1, lf2, lf3, lf4], [tf0, tf1, tf2, tf3], crvf));
    aenv = EnvGen.ar(Env([la0, la1, la2, la3, la4], [ta0, ta1, ta2, ta3], crva), doneAction: Done.freeSelf);
    signal = SinOsc.ar([freq, freq*2] * fenv) * aenv * vol;
    Out.ar(0, signal.dup);
}).add;
)

(
Routine({
    var par, indices;
    indices = (2..21);
    loop({
        par = (indices +++ (
            v.env.levels ++
            v.env.times ++
            v.env.curves ++
            x.env.levels ++
            x.env.times ++
            x.env.curves)).flatten;
        s.sendBundle(s.latency, [\s_new, "sineBlip", -1, 1, 1, \freq, exprand(4e3,11e3)] ++ par);
        0.04.wait;
    });
}).play;
)</textarea>

<p><div class='doclink'>helpfile source: <a href='file:///usr/share/SuperCollider/HelpSource/Classes/SCEnvelopeEdit.schelp'>/usr/share/SuperCollider/HelpSource/Classes/SCEnvelopeEdit.schelp</a><br>link::Classes/SCEnvelopeEdit::<br></div></div><script src='./../editor.js' type='text/javascript'></script>
</body></html>